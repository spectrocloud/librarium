---
partial_category: self-hosted
partial_name: installation-steps-prereqs
---

- ISO management software installed on your local machine, such as [`mkisofs`](https://linux.die.net/man/8/mkisofs) or [`genisoimage`](https://linux.die.net/man/1/genisoimage).

- Access to the [Artifact Studio](https://artifact-studio.spectrocloud.com/) to download the {props.iso} ISO.

- {props.edition} can be installed on a single node or on three nodes. For production environments, we recommend that three nodes be provisioned in advance for the Palette installation. We recommended the following
  resources for each node. Refer to the Palette <PaletteVertexUrlMapper edition={props.edition} text="Size Guidelines" palettePath="/install-palette#size-guidelines" vertexPath="/install-palette-vertex#size-guidelines"/> for additional sizing information.

  - 8 CPUs per node.

  - 16 GB memory per node.

  - Two disks per node.

    - The first disk must be at least 250 GB and is used for the ISO stack. You specify the device in the `user-data` file during the ISO creation process in the first few steps.

    - The second disk must be at least 500 GB and is used for the storage pool. The default device selected is `/dev/sdb`. You can change the default device during the cluster creation steps in Local UI.

      :::danger

      The second disk is wiped as part of the installation process. If using an existing disk, ensure that you back up any important data before proceeding.

      :::

  - We recommend at least two removable media connections to attach both the {props.iso} ISO and the user-data ISO. These can be physical or virtual connections depending on your infrastructure provider.

    If your nodes only support a single removable media connection, you can still proceed by following the tips and additional steps mentioned in the Install {props.version} steps.

- The following network ports must be accessible on each node for Palette to operate successfully.

  - TCP/443: Must be open between all Palette nodes and accessible for user connections to the Palette management
    cluster.

  - TCP/6443: Outbound traffic from the Palette management cluster to the deployed cluster's Kubernetes API server.

- SSH access must be available to the nodes used for Palette installation.

- Relevant permissions to install Palette on the nodes including permission to attach or mount an ISO and set nodes to
  boot from it.

  :::warning

  - The ISO is only supported on Unified Extensible Firmware Interface (UEFI) systems. Ensure you configure the nodes to boot from the ISO in UEFI mode.
  :::

- Palette Management Appliance supports Secure Boot for Dell servers with UEFI and Hewlett Packard Enterprise iLO5. 
Learn how to configure and install Secure Boot for Palette Management Appliance below.

  <details>

  <summary> How to install Secure Boot on Hewlett Packard Enterprise iLO 5 </summary>

  Before you begin, ensure that you have iLO 5 access with privileges to launch the remote console and change BIOS settings. 
  You also need the `MOK.der` certificate file on your local computer.
  Skip to step 4 if you have already downloaded the certificate file.

  1. Navigate to [Artifact Studio](https://artifact-studio.spectrocloud.com/).
  2. Select the version corresponding to your {props.edition} installer. Then, select **Show Artifacts**. The artifact list appears.
  3. **Download** the **MOK Key for Secure Boot** file.
  4. Power on or reboot the server. When prompted during Power-On Self-Test (POST), press **F9** to enter **System Utilities**.
  5. Select **System Configuration** and press **ENTER**.
  6. Select **BIOS/Platform Configuration (RBSU)** > **Server Security** > **Secure Boot Settings** > **Advanced Secure Boot Options**.
  7. Select **DB – Allowed Signatures Database** > **Enroll Signature**. If Secure Boot is currently enabled, the **Enroll Signature** option will be unavailable. Temporarily disable Secure Boot and repeat the process.
  8. Drag the `MOK.der` file from your desktop onto the iLO Remote Console window. iLO mounts it as a virtual USB device automatically.
  9. Confirm any prompts.
  10. Verify that the new entry appears under **DB – Allowed Signatures Database** > **View Signatures**.
  11. Press **ESC** to exit the menus until the **Save and Exit** option is available.
  12. Save your changes. Exit the menu and reboot the server.

  </details>

  <details>

  <summary> How to install Secure Boot on Dell servers with UEFI </summary>

  Before you begin, you need the `MOK.der` certificate file on your local computer.
  Skip to step 4 if you have already downloaded the certificate file.
  
  1. Navigate to [Artifact Studio](https://artifact-studio.spectrocloud.com/).
  2. Select the version corresponding to your {props.edition} installer. Then, select **Show Artifacts**. The artifact list appears.
  3. **Download** the **MOK Key for Secure Boot** file.
  4. Power on the server. Execute the following command to create a virtual CD/DVD drive containing an ISO file with the `MOK.der` certificate. Alternatively, you can save the file to a FAT32-formatted USB drive.
      ```
      mkisofs -output key.iso -volid cidata -joliet -rock MOK.der
      ```
  5. Reboot the server. When the Dell logo appears, press **F2**. The **System Setup** menu opens.
  6. Select **System BIOS** > **Boot Settings**.
  7. Ensure that the **Boot Mode** is set to **UEFI**.
  8. Press **ESC** to return to **Boot Settings**.
  9. Select **System Security** > **Secure Boot Settings**.
  10. Toggle **Secure Boot** to **Enabled** and **Secure Boot Policy** to **Custom**.
  11. Select **Secure Boot Custom Policy Settings** > **Authorized Signature Database (db)**.
  12. Select **Import New Entry**. Then, select the virtual CD/DVD drive or USB drive containing the `MOK.der` file.
  13. Save your changes. Press **ESC** to return to **Authorized Signature Database (db)**.
  14. Select **View Entries**. The `MOK.der` file shows in the database as **DRBD Module Signing**.
  15. Save your changes. Exit the menu and reboot the server.

  </details>

- You can choose to use either an internal Zot registry that comes with Palette or an external registry of your choice. If using an external registry, you will need to provide the following information during the Palette installation process.

  - The DNS/IP endpoint and port for the external registry.
    - Ensure the nodes used to host the Palette management cluster have network access to the external registry server.
  - The username for the registry.
  - The password for the registry.
  - (Optional) The Certificate Authority (CA) certificate that was used to sign the external registry certificate in Base64 format.

  <br />

  <details>

  <summary> How to get Base64 encoded entries for a certificate </summary>

  You can get the Base64 encoded entry from your certificate by using the following command. Replace `<certificate-file>` with the filename of your certificate file.

  ```bash
  base64 --wrap 0 <certificate-file>
  ```

  </details>

- If you have an [Ubuntu Pro](https://ubuntu.com/pro) subscription, you can provide the Ubuntu Pro token during the
  Palette installation process. This is optional but recommended for security and compliance purposes.

- A virtual IP address (VIP) must be available for the Palette management cluster. This is assigned during the Palette
  installation process and is used for load balancing and high availability. The VIP must be accessible to all nodes in
  the Palette management cluster.

  <details>

  <summary> How to discover free IPs in your environment </summary>

  You can discover free IPs in your environment by using a tool like `arping` or `nmap`. For example, you can issue the
  following command to probe a CIDR block for free IP addresses.

  ```bash
  nmap --unprivileged -sT -Pn 10.10.200.0/24
  ```

  This command will scan the CIDR block and output any hosts it finds.

  ```shell hideClipboard title="Example nmap output"
  Nmap scan report for test-worker-pool-cluster2-6655ab7a-tyuio.company.dev (10.10.200.2)
  Host is up.
  All 1000 scanned ports on test-worker-pool-cluster2-6655ab7a-tyuio.company.dev (10.10.200.2) are in ignored states.
  Not shown: 1000 filtered tcp ports (no-response)
  ```

  For any free IP addresses, you can use `arping` to double-check if the IP is available.

  ```bash title="Example arping command"
  arping -D -c 4 10.10.200.101
  ```

  ```shell hideClipboard title="Example arping output"
  ARPING 10.10.200.101 from 0.0.0.0 ens103
  Sent 4 probes (4 broadcast(s))
  Received 0 response(s)
  ```

  If you receive no responses like the example output above, the IP address is likely free.

  </details>