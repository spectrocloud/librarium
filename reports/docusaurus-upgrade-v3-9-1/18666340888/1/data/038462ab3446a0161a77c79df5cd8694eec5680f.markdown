# Page snapshot

```yaml
- generic [active] [ref=e1]:
  - generic [ref=e2]:
    - region "Skip to main content":
      - link "Skip to main content" [ref=e3] [cursor=pointer]:
        - /url: "#__docusaurus_skipToContent_fallback"
    - navigation "Main" [ref=e4]:
      - generic [ref=e5]:
        - generic [ref=e6]:
          - link "Spectro cloud logo" [ref=e7] [cursor=pointer]:
            - /url: /
            - img "Spectro cloud logo" [ref=e9]
          - link "Docs" [ref=e10] [cursor=pointer]:
            - /url: /release-notes/
          - link "Tutorials" [ref=e11] [cursor=pointer]:
            - /url: /tutorials/
          - link "Downloads" [ref=e12] [cursor=pointer]:
            - /url: /downloads/
          - link "API" [ref=e13] [cursor=pointer]:
            - /url: /api/introduction/
          - button "latest" [ref=e15] [cursor=pointer]
        - generic [ref=e16]:
          - link "GitHub repository" [ref=e17] [cursor=pointer]:
            - /url: https://github.com/spectrocloud/librarium
          - button "Switch between dark and light mode (currently system mode)" [ref=e19] [cursor=pointer]:
            - img [ref=e20]
          - button "Search (Control+k)" [ref=e23] [cursor=pointer]:
            - generic [ref=e24]:
              - img [ref=e25]
              - generic [ref=e28]: Search
    - generic [ref=e32]:
      - complementary [ref=e33]:
        - generic [ref=e35]:
          - link "Spectro cloud logo" [ref=e36] [cursor=pointer]:
            - /url: /
            - img "Spectro cloud logo" [ref=e37]
          - navigation "Docs sidebar" [ref=e38]:
            - list [ref=e39]:
              - listitem [ref=e40]:
                - generic [ref=e41]:
                  - link "Release Notes" [ref=e42] [cursor=pointer]:
                    - /url: /release-notes/
                    - img [ref=e44]
                    - text: Release Notes
                  - button "Toggle the collapsible sidebar category 'Release Notes'" [ref=e46] [cursor=pointer]
              - listitem [ref=e47]:
                - generic [ref=e48]:
                  - link "Security Bulletins" [ref=e49] [cursor=pointer]:
                    - /url: /security-bulletins/
                    - img [ref=e51]
                    - text: Security Bulletins
                  - button "Toggle the collapsible sidebar category 'Security Bulletins'" [ref=e53] [cursor=pointer]
              - listitem [ref=e54]:
                - generic [ref=e55]:
                  - link "What is Palette?" [ref=e56] [cursor=pointer]:
                    - /url: /
                    - img [ref=e58]
                    - text: What is Palette?
                  - button "Toggle the collapsible sidebar category 'What is Palette?'" [ref=e60] [cursor=pointer]
              - listitem [ref=e61]:
                - link "Getting Started" [ref=e62] [cursor=pointer]:
                  - /url: /getting-started/
                  - img [ref=e64]
                  - text: Getting Started
              - listitem [ref=e66]:
                - generic [ref=e67]:
                  - link "Architecture" [ref=e68] [cursor=pointer]:
                    - /url: /architecture/
                    - img [ref=e70]
                    - text: Architecture
                  - button "Toggle the collapsible sidebar category 'Architecture'" [ref=e72] [cursor=pointer]
              - listitem [ref=e73]:
                - generic [ref=e74]:
                  - link "Profiles" [ref=e75] [cursor=pointer]:
                    - /url: /profiles/
                    - img [ref=e77]
                    - text: Profiles
                  - button "Toggle the collapsible sidebar category 'Profiles'" [ref=e81] [cursor=pointer]
              - listitem [ref=e82]:
                - generic [ref=e83]:
                  - link "Cluster Templates" [ref=e84] [cursor=pointer]:
                    - /url: /cluster-templates/
                    - img [ref=e86]
                    - text: Cluster Templates
                  - button "Toggle the collapsible sidebar category 'Cluster Templates'" [ref=e88] [cursor=pointer]
              - listitem [ref=e89]:
                - generic [ref=e90]:
                  - link "Deployment Modes" [ref=e91] [cursor=pointer]:
                    - /url: /deployment-modes/
                    - img [ref=e93]
                    - text: Deployment Modes
                  - button "Toggle the collapsible sidebar category 'Deployment Modes'" [ref=e95] [cursor=pointer]
              - listitem [ref=e96]:
                - generic [ref=e97]:
                  - link "Clusters" [ref=e98] [cursor=pointer]:
                    - /url: /clusters/
                    - img [ref=e100]
                    - text: Clusters
                  - button "Toggle the collapsible sidebar category 'Clusters'" [ref=e106] [cursor=pointer]
              - listitem [ref=e107]:
                - generic [ref=e108]:
                  - link "Bring Your Own OS (BYOOS)" [ref=e109] [cursor=pointer]:
                    - /url: /byoos/
                    - img [ref=e111]
                    - text: Bring Your Own OS (BYOOS)
                  - button "Toggle the collapsible sidebar category 'Bring Your Own OS (BYOOS)'" [ref=e113] [cursor=pointer]
              - listitem [ref=e114]:
                - generic [ref=e115]:
                  - link "Palette Dev Engine" [ref=e116] [cursor=pointer]:
                    - /url: /devx/
                    - img [ref=e118]
                    - text: Palette Dev Engine
                  - button "Toggle the collapsible sidebar category 'Palette Dev Engine'" [ref=e120] [cursor=pointer]
              - listitem [ref=e121]:
                - generic [ref=e122]:
                  - link "Virtual Machine Orchestrator" [ref=e123] [cursor=pointer]:
                    - /url: /vm-management/
                    - img [ref=e125]
                    - text: Virtual Machine Orchestrator
                  - button "Toggle the collapsible sidebar category 'Virtual Machine Orchestrator'" [ref=e127] [cursor=pointer]
              - listitem [ref=e128]:
                - generic [ref=e129]:
                  - link "Workspaces" [ref=e130] [cursor=pointer]:
                    - /url: /workspace/
                    - img [ref=e132]
                    - text: Workspaces
                  - button "Toggle the collapsible sidebar category 'Workspaces'" [ref=e134] [cursor=pointer]
              - listitem [ref=e135]:
                - generic [ref=e136]:
                  - link "Packs List" [ref=e137] [cursor=pointer]:
                    - /url: /integrations/
                    - img [ref=e139]
                    - text: Packs List
                  - button "Toggle the collapsible sidebar category 'Packs List'" [ref=e141] [cursor=pointer]
              - listitem [ref=e142]:
                - generic [ref=e143]:
                  - link "User & Role Management" [ref=e144] [cursor=pointer]:
                    - /url: /user-management/
                    - img [ref=e146]
                    - text: User & Role Management
                  - button "Toggle the collapsible sidebar category 'User & Role Management'" [ref=e148] [cursor=pointer]
              - listitem [ref=e149]:
                - generic [ref=e150]:
                  - link "Registries and Packs" [ref=e151] [cursor=pointer]:
                    - /url: /registries-and-packs/
                    - img [ref=e153]
                    - text: Registries and Packs
                  - button "Toggle the collapsible sidebar category 'Registries and Packs'" [ref=e155] [cursor=pointer]
              - listitem [ref=e156]:
                - generic [ref=e157]:
                  - link "Security" [ref=e158] [cursor=pointer]:
                    - /url: /security/
                    - img [ref=e160]
                    - text: Security
                  - button "Toggle the collapsible sidebar category 'Security'" [ref=e162] [cursor=pointer]
              - listitem [ref=e163]:
                - generic [ref=e164]:
                  - link "Audit Logs" [ref=e165] [cursor=pointer]:
                    - /url: /audit-logs/
                    - img [ref=e167]
                    - text: Audit Logs
                  - button "Toggle the collapsible sidebar category 'Audit Logs'" [ref=e169] [cursor=pointer]
              - listitem [ref=e170]:
                - generic [ref=e171]:
                  - link "Self-Hosted Palette" [ref=e172] [cursor=pointer]:
                    - /url: /enterprise-version/
                    - img [ref=e174]
                    - text: Self-Hosted Palette
                  - button "Toggle the collapsible sidebar category 'Self-Hosted Palette'" [ref=e176] [cursor=pointer]
              - listitem [ref=e177]:
                - generic [ref=e178]:
                  - link "Palette VerteX" [ref=e179] [cursor=pointer]:
                    - /url: /vertex/
                    - img [ref=e181]
                    - text: Palette VerteX
                  - button "Toggle the collapsible sidebar category 'Palette VerteX'" [ref=e183] [cursor=pointer]
              - listitem [ref=e184]:
                - generic [ref=e185]:
                  - link "Tenant Administration" [ref=e186] [cursor=pointer]:
                    - /url: /tenant-settings/
                    - img [ref=e188]
                    - text: Tenant Administration
                  - button "Toggle the collapsible sidebar category 'Tenant Administration'" [ref=e190] [cursor=pointer]
              - listitem [ref=e191]:
                - generic [ref=e192]:
                  - link "Automation" [ref=e193] [cursor=pointer]:
                    - /url: /automation/
                    - img [ref=e195]
                    - text: Automation
                  - button "Toggle the collapsible sidebar category 'Automation'" [ref=e197] [cursor=pointer]
              - listitem [ref=e198]:
                - generic [ref=e199]:
                  - link "Troubleshooting" [expanded] [ref=e200] [cursor=pointer]:
                    - /url: /troubleshooting/
                    - img [ref=e202]
                    - text: Troubleshooting
                  - button "Toggle the collapsible sidebar category 'Troubleshooting'" [ref=e204] [cursor=pointer]
                - list [ref=e205]:
                  - listitem [ref=e206]:
                    - link "Kubernetes Debugging" [ref=e207] [cursor=pointer]:
                      - /url: /troubleshooting/kubernetes-tips/
                  - listitem [ref=e208]:
                    - link "Automation" [ref=e209] [cursor=pointer]:
                      - /url: /troubleshooting/automation/
                  - listitem [ref=e210]:
                    - link "Cluster Deployment" [ref=e211] [cursor=pointer]:
                      - /url: /troubleshooting/cluster-deployment/
                  - listitem [ref=e212]:
                    - link "Nodes & Clusters" [ref=e213] [cursor=pointer]:
                      - /url: /troubleshooting/nodes/
                  - listitem [ref=e214]:
                    - link "Packs" [ref=e215] [cursor=pointer]:
                      - /url: /troubleshooting/pack-issues/
                  - listitem [ref=e216]:
                    - link "Palette Dev Engine" [ref=e217] [cursor=pointer]:
                      - /url: /troubleshooting/palette-dev-engine/
                  - listitem [ref=e218]:
                    - generic [ref=e219]:
                      - link "Edge" [ref=e220] [cursor=pointer]:
                        - /url: /troubleshooting/edge/
                      - button "Toggle the collapsible sidebar category 'Edge'" [ref=e221] [cursor=pointer]
                  - listitem [ref=e222]:
                    - link "Private Cloud Gateway" [ref=e223] [cursor=pointer]:
                      - /url: /troubleshooting/pcg/
                  - listitem [ref=e224]:
                    - link "Virtual Machine Orchestrator" [ref=e225] [cursor=pointer]:
                      - /url: /troubleshooting/vmo-issues/
                  - listitem [ref=e226]:
                    - link "Enterprise Install" [ref=e227] [cursor=pointer]:
                      - /url: /troubleshooting/enterprise-install/
                  - listitem [ref=e228]:
                    - link "Palette Upgrade" [ref=e229] [cursor=pointer]:
                      - /url: /troubleshooting/palette-upgrade/
                  - listitem [ref=e230]:
                    - link "Generate HAR Files" [ref=e231] [cursor=pointer]:
                      - /url: /troubleshooting/generate-har-files/
              - listitem [ref=e232]:
                - link "Glossary" [ref=e233] [cursor=pointer]:
                  - /url: /glossary-all/
                  - img [ref=e235]
                  - text: Glossary
              - listitem [ref=e237]:
                - generic [ref=e238]:
                  - link "Compliance & Legal" [ref=e239] [cursor=pointer]:
                    - /url: /legal-licenses/
                    - img [ref=e241]
                    - text: Compliance & Legal
                  - button "Toggle the collapsible sidebar category 'Compliance & Legal'" [ref=e243] [cursor=pointer]
              - listitem [ref=e244]:
                - button "Privacy Settings" [ref=e245] [cursor=pointer]:
                  - img [ref=e246]
                  - text: Privacy Settings
      - main [ref=e248]:
        - generic [ref=e250]:
          - generic [ref=e252]:
            - article [ref=e253]:
              - navigation "Breadcrumbs" [ref=e254]:
                - list [ref=e255]:
                  - listitem [ref=e256]:
                    - link "Home page" [ref=e257] [cursor=pointer]:
                      - /url: /
                      - img [ref=e258]
                  - listitem [ref=e260]:
                    - link "Troubleshooting" [ref=e261] [cursor=pointer]:
                      - /url: /troubleshooting/
                  - listitem [ref=e262]:
                    - generic [ref=e263]: Nodes & Clusters
              - generic [ref=e264]:
                - heading "Nodes and Clusters" [level=1] [ref=e266]
                - paragraph [ref=e267]: This page covers common debugging scenarios for nodes and clusters after they have been deployed.
                - heading "NodesDirect link to Nodes" [level=2] [ref=e268]:
                  - text: Nodes
                  - link "Direct link to Nodes" [ref=e269] [cursor=pointer]:
                    - /url: "#nodes"
                    - text: "#"
                - heading "Scenario - Repaved NodesDirect link to Scenario - Repaved Nodes" [level=3] [ref=e270]:
                  - text: Scenario - Repaved Nodes
                  - link "Direct link to Scenario - Repaved Nodes" [ref=e271] [cursor=pointer]:
                    - /url: "#scenario---repaved-nodes"
                    - text: "#"
                - paragraph [ref=e272]:
                  - text: Palette performs a rolling upgrade on nodes when it detects a change in the
                  - code [ref=e273]: kubeadm
                  - text: config. Below are some actions that cause the
                  - code [ref=e274]: kubeadm
                  - text: "configuration to change and result in nodes being upgraded:"
                - list [ref=e275]:
                  - listitem [ref=e276]: OS layer changes
                  - listitem [ref=e277]: Kubernetes layer changes
                  - listitem [ref=e278]: Kubernetes version upgrade
                  - listitem [ref=e279]: Kubernetes control plane upsize
                  - listitem [ref=e280]: Machine pool updates for disk size
                  - listitem [ref=e281]: Changes in availability zones
                  - listitem [ref=e282]: Changes in instance types
                - paragraph [ref=e283]:
                  - text: Logs are provided in Palette for traceability. However, these logs may be lost when the pods are relaunched. To ensure that the cause and context is persisted across repaving, refer to the
                  - code [ref=e284]: "status.upgrades: []"
                  - text: field in the in the
                  - code [ref=e285]: SpectroCluster
                  - text: object in the
                  - code [ref=e286]: /v1/dashboard/spectroclusters/:uid/overview
                  - text: API.
                - paragraph [ref=e287]:
                  - text: The following example shows the
                  - code [ref=e288]: status.upgrades
                  - text: field for a cluster that had Kubernetes configuration changes that resulted in a node repave. The API payload is incomplete for brevity.
                - generic [ref=e290]:
                  - code [ref=e292]:
                    - generic [ref=e293]: "\"upgrades\": ["
                    - generic [ref=e294]: "{"
                    - generic [ref=e295]: "\"reason\": ["
                    - generic [ref=e296]: "\"{v1beta1.KubeadmConfigSpec}.ClusterConfiguration.APIServer.ControlPlaneComponent.ExtraArgs[\\\"oidc-client-id\\\"] changed from <invalid reflect.Value> to xxxxxxxxxxx\","
                    - generic [ref=e297]: "\"{v1beta1.KubeadmConfigSpec}.ClusterConfiguration.APIServer.ControlPlaneComponent.ExtraArgs[\\\"oidc-groups-claim\\\"] changed from <invalid reflect.Value> to groups\","
                    - generic [ref=e298]: "\"{v1beta1.KubeadmConfigSpec}.ClusterConfiguration.APIServer.ControlPlaneComponent.ExtraArgs[\\\"oidc-issuer-url\\\"] changed from <invalid reflect.Value> to https://console.spectrocloud.com/v1/oidc/tenant/XXXXXXXXXXXX\","
                    - generic [ref=e299]: "\"{v1beta1.KubeadmConfigSpec}.ClusterConfiguration.APIServer.ControlPlaneComponent.ExtraArgs[\\\"oidc-username-claim\\\"] changed from <invalid reflect.Value> to email\""
                    - generic [ref=e300]: "],"
                    - generic [ref=e301]: "\"timestamp\": \"2023-09-18T19:49:33.000Z\""
                    - generic [ref=e302]: "}"
                    - generic [ref=e303]: "]"
                  - button "Toggle word wrap" [ref=e305] [cursor=pointer]:
                    - img [ref=e306]
                - paragraph [ref=e308]:
                  - text: For detailed information, review the cluster upgrades
                  - link "page" [ref=e309] [cursor=pointer]:
                    - /url: /clusters/
                  - text: .
                - heading [level=3]
                - heading "ClustersDirect link to Clusters" [level=2] [ref=e310]:
                  - text: Clusters
                  - link "Direct link to Clusters" [ref=e311] [cursor=pointer]:
                    - /url: "#clusters"
                    - text: "#"
                - heading "Scenario - Incorrect LoadBalancer kubernetes Created by Azure Cloud Controller ManagerDirect link to scenario---incorrect-loadbalancer-kubernetes-created-by-azure-cloud-controller-manager" [level=3] [ref=e312]:
                  - text: Scenario - Incorrect LoadBalancer
                  - code [ref=e313]: kubernetes
                  - text: Created by Azure Cloud Controller Manager
                  - link "Direct link to scenario---incorrect-loadbalancer-kubernetes-created-by-azure-cloud-controller-manager" [ref=e314] [cursor=pointer]:
                    - /url: "#scenario---incorrect-loadbalancer-kubernetes-created-by-azure-cloud-controller-manager"
                    - text: "#"
                - paragraph [ref=e315]:
                  - text: The
                  - code [ref=e316]: cloud-controller-manager
                  - text: introduced in Azure Kubernetes v.1.29.x can make your existing external service IP inaccessible. This issue occurs because
                  - code [ref=e317]: cloud-controller-manager
                  - text: creates a default load balancer named
                  - code [ref=e318]: kubernetes
                  - text: and an associated public IP, which conflicts with the existing network configuration.
                - paragraph [ref=e319]:
                  - text: While this issue has been resolved for Palette-managed Azure clusters, you need to manually delete the incorrectly created
                  - code [ref=e320]: kubernetes
                  - text: load balancer and the associated public IP address from the Azure resource group to which your cluster was deployed.
                - heading "Debug StepsDirect link to Debug Steps" [level=4] [ref=e321]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e322] [cursor=pointer]:
                    - /url: "#debug-steps"
                    - text: "#"
                - list [ref=e323]:
                  - listitem [ref=e324]:
                    - paragraph [ref=e325]: Open a terminal session and use the following command to authenticate your Azure CLI session.
                    - generic [ref=e327]:
                      - code [ref=e329]:
                        - generic [ref=e330]: az login
                      - button "Copy code to clipboard" [ref=e332] [cursor=pointer]:
                        - generic [ref=e333]:
                          - img [ref=e334]
                          - img [ref=e336]
                  - listitem [ref=e338]:
                    - paragraph [ref=e339]:
                      - text: Use the following command to list load balancers in the resource group to which your cluster was deployed and locate the
                      - code [ref=e340]: kubernetes
                      - text: load balancer.
                    - generic [ref=e342]:
                      - code [ref=e344]:
                        - generic [ref=e345]: az network lb list --resource-group <resource-group> --output table
                      - generic [ref=e346]:
                        - button "Toggle word wrap" [ref=e347] [cursor=pointer]:
                          - img [ref=e348]
                        - button "Copy code to clipboard" [ref=e350] [cursor=pointer]:
                          - generic [ref=e351]:
                            - img [ref=e352]
                            - img [ref=e354]
                    - generic [ref=e357]:
                      - code [ref=e359]:
                        - generic [ref=e360]: Location Name ProvisioningState ResourceGroup ResourceGuid
                        - generic [ref=e361]: "---------- ----------------------------- ------------------- ----------------- ------------------------------------"
                        - generic [ref=e362]: eastus docs-azure-k8s-1-29 Succeeded palette-tutorials b375387f-0549-4186-9d47-f2607064b51b
                        - generic [ref=e363]: eastus docs-azure-k8s-1-29-public-lb Succeeded palette-tutorials 0b7a9738-1caf-46bd-b334-0f34dd736fad
                        - generic [ref=e364]: eastus kubernetes Succeeded palette-tutorials e78e47d8-bda5-4f0b-a694-b41443b2b2f5
                      - generic [ref=e365]:
                        - button "Toggle word wrap" [ref=e366] [cursor=pointer]:
                          - img [ref=e367]
                        - button "Copy code to clipboard" [ref=e369] [cursor=pointer]:
                          - generic [ref=e370]:
                            - img [ref=e371]
                            - img [ref=e373]
                  - listitem [ref=e375]:
                    - paragraph [ref=e376]:
                      - text: Use the following command to delete the
                      - code [ref=e377]: kubernetes
                      - text: load balancer.
                    - generic [ref=e379]:
                      - code [ref=e381]:
                        - generic [ref=e382]: az network lb delete --name kubernetes --resource-group <resource-group>
                      - generic [ref=e383]:
                        - button "Toggle word wrap" [ref=e384] [cursor=pointer]:
                          - img [ref=e385]
                        - button "Copy code to clipboard" [ref=e387] [cursor=pointer]:
                          - generic [ref=e388]:
                            - img [ref=e389]
                            - img [ref=e391]
                  - listitem [ref=e393]:
                    - paragraph [ref=e394]:
                      - text: Use the following command to list public IP addresses in the resource group to which your cluster was deployed and locate the
                      - code [ref=e395]: kubernetes-<hash>
                      - text: load balancer.
                    - generic [ref=e397]:
                      - code [ref=e399]:
                        - generic [ref=e400]: az network public-ip list --resource-group <resource-group> --output table
                      - generic [ref=e401]:
                        - button "Toggle word wrap" [ref=e402] [cursor=pointer]:
                          - img [ref=e403]
                        - button "Copy code to clipboard" [ref=e405] [cursor=pointer]:
                          - generic [ref=e406]:
                            - img [ref=e407]
                            - img [ref=e409]
                    - generic [ref=e412]:
                      - code [ref=e414]:
                        - generic [ref=e415]: Name ResourceGroup Location Zones Address IdleTimeoutInMinutes ProvisioningState
                        - generic [ref=e416]: "------------------------------------------- ----------------- ---------- ------- ------------- ---------------------- -------------------"
                        - generic [ref=e417]: pip-docs-azure-k8s-1-29-apiserver palette-tutorials eastus 123 48.217.216.43 4 Succeeded
                        - generic [ref=e418]: pip-docs-azure-k8s-1-29-node-outbound palette-tutorials eastus 312 48.217.222.29 4 Succeeded
                        - generic [ref=e419]: kubernetes-a98181bf0e90b4425b80d11c21ba766f palette-tutorials eastus 231 4.255.120.41 4 Succeeded
                      - generic [ref=e420]:
                        - button "Toggle word wrap" [ref=e421] [cursor=pointer]:
                          - img [ref=e422]
                        - button "Copy code to clipboard" [ref=e424] [cursor=pointer]:
                          - generic [ref=e425]:
                            - img [ref=e426]
                            - img [ref=e428]
                  - listitem [ref=e430]:
                    - paragraph [ref=e431]:
                      - text: Use the following command to delete the
                      - code [ref=e432]: kubernetes-<hash>
                      - text: public IP.
                    - generic [ref=e434]:
                      - code [ref=e436]:
                        - generic [ref=e437]: az network public-ip delete --name kubernetes-<hash> --resource-group <resource-group>
                      - generic [ref=e438]:
                        - button "Toggle word wrap" [ref=e439] [cursor=pointer]:
                          - img [ref=e440]
                        - button "Copy code to clipboard" [ref=e442] [cursor=pointer]:
                          - generic [ref=e443]:
                            - img [ref=e444]
                            - img [ref=e446]
                - heading "Scenario - vSphere Cluster and Stale ARP TableDirect link to Scenario - vSphere Cluster and Stale ARP Table" [level=3] [ref=e448]:
                  - text: Scenario - vSphere Cluster and Stale ARP Table
                  - link "Direct link to Scenario - vSphere Cluster and Stale ARP Table" [ref=e449] [cursor=pointer]:
                    - /url: "#scenario---vsphere-cluster-and-stale-arp-table"
                    - text: "#"
                - paragraph [ref=e450]: Sometimes vSphere clusters encounter issues where nodes with an assigned Virtual IP Address (VIP) cannot contact the node with a VIP. The problem is caused by Address Resolution Protocol (ARP) entries becoming stale on non-VIP nodes.
                - paragraph [ref=e451]: To minimize this situation, vSphere clusters deployed through Palette now have a daemon set that cleans the ARP entry cache every five minutes. The cleaning process forces the nodes to periodically re-request an ARP entry of the VIP node. This is done automatically without any user action.
                - paragraph [ref=e452]: You can verify the cleaning process by issuing the following command on non-VIP nodes and observing that the ARP cache is never older than 300 seconds.
                - generic [ref=e454]:
                  - code [ref=e456]:
                    - generic [ref=e457]: watch ip -statistics neighbour
                  - button "Copy code to clipboard" [ref=e459] [cursor=pointer]:
                    - generic [ref=e460]:
                      - img [ref=e461]
                      - img [ref=e463]
                - heading "EKS Cluster Worker Pool FailuresDirect link to EKS Cluster Worker Pool Failures" [level=3] [ref=e465]:
                  - text: EKS Cluster Worker Pool Failures
                  - link "Direct link to EKS Cluster Worker Pool Failures" [ref=e466] [cursor=pointer]:
                    - /url: "#eks-cluster-worker-pool-failures"
                    - text: "#"
                - paragraph [ref=e467]:
                  - text: If your EKS cluster worker pool ends up in
                  - code [ref=e468]: Failed
                  - text: ","
                  - code [ref=e469]: Create Failed
                  - text: or
                  - code [ref=e470]: Error nodes failed to join
                  - text: state, refer to the Amazon EKS
                  - link "Runbook" [ref=e471] [cursor=pointer]:
                    - /url: https://docs.aws.amazon.com/systems-manager-automation-runbooks/latest/userguide/automation-awssupport-troubleshooteksworkernode.html
                  - text: for troubleshooting guidance.
                - heading "Palette Agents Workload Payload Size IssueDirect link to Palette Agents Workload Payload Size Issue" [level=3] [ref=e472]:
                  - text: Palette Agents Workload Payload Size Issue
                  - link "Direct link to Palette Agents Workload Payload Size Issue" [ref=e473] [cursor=pointer]:
                    - /url: "#palette-agents-workload-payload-size-issue"
                    - text: "#"
                - paragraph [ref=e474]:
                  - text: A cluster comprised of many nodes can create a situation where the workload report data the agent sends to Palette exceeds the 1 MB threshold and fails to deliver the messages. If the agent encounters too many workload report deliveries, the agent container may transition into a
                  - emphasis [ref=e475]: CrashLoopBackOff
                  - text: state.
                - paragraph [ref=e476]: If you encounter this scenario, you can configure the cluster to stop sending workload reports to Palette. To disable the workload report feature, create a ConfigMap with the following configuration. Use a cluster profile manifest layer to create the ConfigMap.
                - generic [ref=e478]:
                  - code [ref=e480]:
                    - generic [ref=e481]: "apiVersion: v1"
                    - generic [ref=e482]: "kind: ConfigMap"
                    - generic [ref=e483]: "metadata:"
                    - generic [ref=e484]: "name: palette-agent-config"
                    - generic [ref=e485]: "namespace: \"cluster-{{ .spectro.system.cluster.uid }}\""
                    - generic [ref=e486]: "data:"
                    - generic [ref=e487]: "feature.workloads: disable"
                  - button "Copy code to clipboard" [ref=e489] [cursor=pointer]:
                    - generic [ref=e490]:
                      - img [ref=e491]
                      - img [ref=e493]
                - heading "OS Patch FailsDirect link to OS Patch Fails" [level=3] [ref=e495]:
                  - text: OS Patch Fails
                  - link "Direct link to OS Patch Fails" [ref=e496] [cursor=pointer]:
                    - /url: "#os-patch-fails"
                    - text: "#"
                - paragraph [ref=e497]:
                  - text: When conducting
                  - link "OS Patching" [ref=e498] [cursor=pointer]:
                    - /url: /clusters/cluster-management/os-patching/
                  - text: ", sometimes the patching process can time out and fail. This issue is due to some OS patches requiring GRUB packages. GRUB updates often require user prompts, and if a user prompt is required during the OS patching process, the patching process will fail."
                - heading "Debug StepsDirect link to Debug Steps" [level=4] [ref=e499]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e500] [cursor=pointer]:
                    - /url: "#debug-steps-1"
                    - text: "#"
                - paragraph [ref=e501]: "To resolve this issue, use the following steps:"
                - list [ref=e502]:
                  - listitem [ref=e503]:
                    - paragraph [ref=e504]:
                      - text: Log in to
                      - link "Palette" [ref=e505] [cursor=pointer]:
                        - /url: https://console.spectrocloud.com/
                      - text: .
                  - listitem [ref=e506]:
                    - paragraph [ref=e507]:
                      - text: From left
                      - strong [ref=e508]: Main Menu
                      - text: ", select"
                      - strong [ref=e509]: Clusters
                      - text: .
                  - listitem [ref=e510]:
                    - paragraph [ref=e511]: Select the cluster that is experiencing the issue and click on its row to access the cluster details page.
                  - listitem [ref=e512]:
                    - paragraph [ref=e513]:
                      - text: From the cluster details page, select the
                      - strong [ref=e514]: Nodes
                      - text: tab.
                  - listitem [ref=e515]:
                    - paragraph [ref=e516]: Click on a cluster node to access its details page. Review the network information, such as the subnet and the network the node is in.
                  - listitem [ref=e517]:
                    - paragraph [ref=e518]: Log in to the infrastructure provider console and acquire the node IP address.
                  - listitem [ref=e519]:
                    - paragraph [ref=e520]: SSH into one of the cluster nodes and issue the following command.
                    - generic [ref=e522]:
                      - code [ref=e524]:
                        - generic [ref=e525]: rm /var/cache/debconf/config.dat && \
                        - generic [ref=e526]: dpkg --configure -a
                      - button "Copy code to clipboard" [ref=e528] [cursor=pointer]:
                        - generic [ref=e529]:
                          - img [ref=e530]
                          - img [ref=e532]
                  - listitem [ref=e534]:
                    - paragraph [ref=e535]:
                      - text: A prompt may appear asking you to select the boot device. Select the appropriate boot device and press
                      - strong [ref=e536]: Enter
                      - text: .
                    - generic [ref=e537]:
                      - generic [ref=e538]:
                        - img [ref=e540]
                        - text: tip
                      - generic [ref=e542]:
                        - paragraph [ref=e543]:
                          - text: If you are unsure of the boot device, use a disk utility such as
                          - code [ref=e544]: lsblk
                          - text: or
                          - code [ref=e545]: fdisk
                          - text: to identify the boot device. Below is an example of using
                          - code [ref=e546]: lsblk
                          - text: to identify the boot device. The output is abbreviated for brevity.
                        - generic [ref=e548]:
                          - code [ref=e550]:
                            - generic [ref=e551]: lsblk --output NAME,TYPE,MOUNTPOINT
                          - button "Copy code to clipboard" [ref=e553] [cursor=pointer]:
                            - generic [ref=e554]:
                              - img [ref=e555]
                              - img [ref=e557]
                        - code [ref=e562]:
                          - generic [ref=e563]: NAME TYPE MOUNTPOINT
                          - generic [ref=e564]: fd0 disk
                          - generic [ref=e565]: loop0 loop /snap/core20/1974
                          - generic [ref=e566]: ...
                          - generic [ref=e567]: loop10 loop /snap/snapd/20092
                          - generic [ref=e568]: loop11 loop /snap/snapd/20290
                          - generic [ref=e569]: sda disk
                          - generic [ref=e570]: ├─sda1 part /
                          - generic [ref=e571]: ├─sda14 part
                          - generic [ref=e572]: └─sda15 part /boot/efi
                          - generic [ref=e573]: sr0 rom
                        - paragraph [ref=e574]:
                          - text: The highlighted line displays the boot device. In this example, the boot device is
                          - code [ref=e575]: sda15
                          - text: ", mounted at"
                          - code [ref=e576]: /boot/efi
                          - text: . The boot device may be different for your node.
                  - listitem [ref=e577]:
                    - paragraph [ref=e578]: Repeat the previous step for all nodes in the cluster.
                - heading "OS Patch Fails on AWS with Microk8s 1.27Direct link to OS Patch Fails on AWS with Microk8s 1.27" [level=3] [ref=e579]:
                  - text: OS Patch Fails on AWS with Microk8s 1.27
                  - link "Direct link to OS Patch Fails on AWS with Microk8s 1.27" [ref=e580] [cursor=pointer]:
                    - /url: "#os-patch-fails-on-aws-with-microk8s-127"
                    - text: "#"
                - paragraph [ref=e581]: If OS patching fails on an AWS cluster with Microk8s 1.27, use the following debug steps to resolve the issue.
                - heading "Debug StepsDirect link to Debug Steps" [level=4] [ref=e582]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e583] [cursor=pointer]:
                    - /url: "#debug-steps-2"
                    - text: "#"
                - list [ref=e584]:
                  - listitem [ref=e585]:
                    - paragraph [ref=e586]:
                      - text: Log in to
                      - link "Palette" [ref=e587] [cursor=pointer]:
                        - /url: https://console.spectrocloud.com/
                      - text: .
                  - listitem [ref=e588]:
                    - paragraph [ref=e589]:
                      - text: Navigate to the left
                      - strong [ref=e590]: Main Menu
                      - text: and select
                      - strong [ref=e591]: Clusters
                      - text: .
                  - listitem [ref=e592]:
                    - paragraph [ref=e593]: Select the cluster that is experiencing the issue and click on its row to access the cluster details page.
                  - listitem [ref=e594]:
                    - paragraph [ref=e595]:
                      - text: From the cluster details page, select the
                      - strong [ref=e596]: Nodes
                      - text: tab.
                  - listitem [ref=e597]:
                    - paragraph [ref=e598]: Click on a cluster node to access its details page. Review the network information, such as the subnet and the network the node is in.
                  - listitem [ref=e599]:
                    - paragraph [ref=e600]: Log in to the infrastructure provider console and acquire the node IP address.
                  - listitem [ref=e601]:
                    - paragraph [ref=e602]: SSH into one of the cluster nodes
                  - listitem [ref=e603]:
                    - paragraph [ref=e604]:
                      - text: Find out the partition name to which
                      - code [ref=e605]: boot/efi
                      - text: is mounted with the following command.
                    - generic [ref=e607]:
                      - code [ref=e609]:
                        - generic [ref=e610]: mount | grep /boot/efi
                      - button "Copy code to clipboard" [ref=e612] [cursor=pointer]:
                        - generic [ref=e613]:
                          - img [ref=e614]
                          - img [ref=e616]
                    - paragraph [ref=e618]: The command produces output similar to the following.
                    - generic [ref=e620]:
                      - code [ref=e622]:
                        - generic [ref=e623]: /dev/xvda15 on /boot/efi type vfat (rw,relatime,fmask=0077,dmask=0077,codepage=437,iocharset=iso8859-1,shortname=mixed,errors=remount-ro)
                      - generic [ref=e624]:
                        - button "Toggle word wrap" [ref=e625] [cursor=pointer]:
                          - img [ref=e626]
                        - button "Copy code to clipboard" [ref=e628] [cursor=pointer]:
                          - generic [ref=e629]:
                            - img [ref=e630]
                            - img [ref=e632]
                    - paragraph [ref=e634]:
                      - text: The name of the partition is the partition at the start of the line before
                      - code [ref=e635]: on /boot/efi
                      - text: ":"
                      - code [ref=e636]: /dev/xvda15
                  - listitem [ref=e637]:
                    - paragraph [ref=e638]:
                      - text: Issue the following command. Replace
                      - code [ref=e639]: partition-name
                      - text: with the name of the partition.
                    - generic [ref=e641]:
                      - code [ref=e643]:
                        - generic [ref=e644]: grub-install --efi-directory=/boot/efi <partition-name> --force
                      - button "Copy code to clipboard" [ref=e646] [cursor=pointer]:
                        - generic [ref=e647]:
                          - img [ref=e648]
                          - img [ref=e650]
                  - listitem [ref=e652]:
                    - paragraph [ref=e653]: Issue the following commands.
                    - generic [ref=e655]:
                      - code [ref=e657]:
                        - generic [ref=e658]: grub-mkconfig -o /boot/grub/grub.cfg
                        - generic [ref=e659]: update-grub
                        - generic [ref=e660]: apt-get update
                        - generic [ref=e661]: apt-get upgrade
                      - button "Copy code to clipboard" [ref=e663] [cursor=pointer]:
                        - generic [ref=e664]:
                          - img [ref=e665]
                          - img [ref=e667]
                - heading "Scenario - Remove Deprecated Cloud ProvidersDirect link to Scenario - Remove Deprecated Cloud Providers" [level=3] [ref=e669]:
                  - text: Scenario - Remove Deprecated Cloud Providers
                  - link "Direct link to Scenario - Remove Deprecated Cloud Providers" [ref=e670] [cursor=pointer]:
                    - /url: "#scenario---remove-deprecated-cloud-providers"
                    - text: "#"
                - paragraph [ref=e671]: If you want to remove unsupported Custom Resource Definitions (CRDs) for deprecated cloud providers in your Kubernetes workload cluster, you can follow the steps below.
                - heading "Debug StepsDirect link to Debug Steps" [level=4] [ref=e672]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e673] [cursor=pointer]:
                    - /url: "#debug-steps-3"
                    - text: "#"
                - list [ref=e674]:
                  - listitem [ref=e675]:
                    - paragraph [ref=e676]:
                      - text: Open a terminal session that has
                      - link "kubectl" [ref=e677] [cursor=pointer]:
                        - /url: https://kubernetes.io/docs/tasks/tools/install-kubectl/
                      - text: installed.
                  - listitem [ref=e678]:
                    - paragraph [ref=e679]:
                      - text: Set up your terminal session to use the kubeconfig file for your Kubernetes workload cluster. You can find the kubeconfig for your cluster in the Palette UI by visiting the cluster's details page. Check out the
                      - link "Access Cluster with CLI" [ref=e680] [cursor=pointer]:
                        - /url: /clusters/cluster-management/palette-webctl/#access-cluster-with-cli
                      - text: guide for guidance on how to set up your terminal session to use the kubeconfig file.
                  - listitem [ref=e681]:
                    - paragraph [ref=e682]: Issue the following command to list the CRDs in your target cluster.
                    - generic [ref=e684]:
                      - code [ref=e686]:
                        - generic [ref=e687]: kubectl get crd
                      - button "Copy code to clipboard" [ref=e689] [cursor=pointer]:
                        - generic [ref=e690]:
                          - img [ref=e691]
                          - img [ref=e693]
                  - listitem [ref=e695]:
                    - paragraph [ref=e696]: Identify the CRDs for the deprecated cloud providers you want to remove. For example, to remove the Tencent Cloud CRD, issue the following command.
                    - generic [ref=e698]:
                      - code [ref=e700]:
                        - generic [ref=e701]: kubectl delete crd tencentcloudconfigs.cluster.spectrocloud.com
                      - button "Copy code to clipboard" [ref=e703] [cursor=pointer]:
                        - generic [ref=e704]:
                          - img [ref=e705]
                          - img [ref=e707]
                - paragraph [ref=e709]: Once the CRD is removed, it will not be recreated by Palette.
                - heading "Scenario - Remove Deprecated NATS NamespaceDirect link to Scenario - Remove Deprecated NATS Namespace" [level=3] [ref=e710]:
                  - text: Scenario - Remove Deprecated NATS Namespace
                  - link "Direct link to Scenario - Remove Deprecated NATS Namespace" [ref=e711] [cursor=pointer]:
                    - /url: "#scenario---remove-deprecated-nats-namespace"
                    - text: "#"
                - paragraph [ref=e712]:
                  - text: Palette's internal message communication between components transitioned from using Neural Autonomous Transport System (NATS) to gRPC with version 4.0. As a result, clusters with Palette agents older than version 4.0 may have leftover NATS resources. Manually delete the
                  - code [ref=e713]: nats-system
                  - text: namespace to remove any remaining NATS-related resources.
                - heading "Debug StepsDirect link to Debug Steps" [level=4] [ref=e714]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e715] [cursor=pointer]:
                    - /url: "#debug-steps-4"
                    - text: "#"
                - list [ref=e716]:
                  - listitem [ref=e717]:
                    - paragraph [ref=e718]:
                      - text: Open a terminal session that has
                      - link "kubectl" [ref=e719] [cursor=pointer]:
                        - /url: https://kubernetes.io/docs/tasks/tools/install-kubectl/
                      - text: installed.
                  - listitem [ref=e720]:
                    - paragraph [ref=e721]:
                      - text: Set up your terminal session to use the kubeconfig file for your Kubernetes workload cluster. You can find the kubeconfig for your cluster in the Palette UI by visiting the cluster's details page. Check out the
                      - link "Access Cluster with CLI" [ref=e722] [cursor=pointer]:
                        - /url: /clusters/cluster-management/palette-webctl/#access-cluster-with-cli
                      - text: guide for guidance on how to set up your terminal session to use the kubeconfig file.
                  - listitem [ref=e723]:
                    - paragraph [ref=e724]: Issue the following command to list the namespaces in your cluster.
                    - generic [ref=e726]:
                      - code [ref=e728]:
                        - generic [ref=e729]: kubectl get namespaces
                      - button "Copy code to clipboard" [ref=e731] [cursor=pointer]:
                        - generic [ref=e732]:
                          - img [ref=e733]
                          - img [ref=e735]
                  - listitem [ref=e737]:
                    - paragraph [ref=e738]:
                      - text: Remove the
                      - code [ref=e739]: nats-system
                      - text: namespace.
                    - generic [ref=e741]:
                      - code [ref=e743]:
                        - generic [ref=e744]: kubectl delete namespaces nats-system
                      - button "Copy code to clipboard" [ref=e746] [cursor=pointer]:
                        - generic [ref=e747]:
                          - img [ref=e748]
                          - img [ref=e750]
              - generic [ref=e752]:
                - generic [ref=e754]:
                  - text: "Tags:"
                  - list [ref=e755]:
                    - listitem [ref=e756]:
                      - link "troubleshooting" [ref=e757] [cursor=pointer]:
                        - /url: /tags/troubleshooting/
                    - listitem [ref=e758]:
                      - link "nodes" [ref=e759] [cursor=pointer]:
                        - /url: /tags/nodes/
                    - listitem [ref=e760]:
                      - link "clusters" [ref=e761] [cursor=pointer]:
                        - /url: /tags/clusters/
                - link "Edit this page" [ref=e764] [cursor=pointer]:
                  - /url: https://github.com/spectrocloud/librarium/blob/master/docs/docs-content/troubleshooting/nodes.md
                  - img [ref=e765]
                  - text: Edit this page
            - navigation "Docs pages" [ref=e769]:
              - link "Previous « Cluster Deployment" [ref=e770] [cursor=pointer]:
                - /url: /troubleshooting/cluster-deployment/
                - generic [ref=e771]: Previous
                - generic [ref=e772]: « Cluster Deployment
              - link "Next Packs »" [ref=e773] [cursor=pointer]:
                - /url: /troubleshooting/pack-issues/
                - generic [ref=e774]: Next
                - generic [ref=e775]: Packs »
          - list [ref=e778]:
            - listitem [ref=e779]:
              - link "Nodes" [ref=e780] [cursor=pointer]:
                - /url: "#nodes"
              - list [ref=e781]:
                - listitem [ref=e782]:
                  - link "Scenario - Repaved Nodes" [ref=e783] [cursor=pointer]:
                    - /url: "#scenario---repaved-nodes"
            - listitem [ref=e784]:
              - link "Clusters" [ref=e785] [cursor=pointer]:
                - /url: "#clusters"
              - list [ref=e786]:
                - listitem [ref=e787]:
                  - link "Scenario - Incorrect LoadBalancer kubernetes Created by Azure Cloud Controller Manager" [ref=e788] [cursor=pointer]:
                    - /url: "#scenario---incorrect-loadbalancer-kubernetes-created-by-azure-cloud-controller-manager"
                    - text: Scenario - Incorrect LoadBalancer
                    - code [ref=e789]: kubernetes
                    - text: Created by Azure Cloud Controller Manager
                - listitem [ref=e790]:
                  - link "Scenario - vSphere Cluster and Stale ARP Table" [ref=e791] [cursor=pointer]:
                    - /url: "#scenario---vsphere-cluster-and-stale-arp-table"
                - listitem [ref=e792]:
                  - link "EKS Cluster Worker Pool Failures" [ref=e793] [cursor=pointer]:
                    - /url: "#eks-cluster-worker-pool-failures"
                - listitem [ref=e794]:
                  - link "Palette Agents Workload Payload Size Issue" [ref=e795] [cursor=pointer]:
                    - /url: "#palette-agents-workload-payload-size-issue"
                - listitem [ref=e796]:
                  - link "OS Patch Fails" [ref=e797] [cursor=pointer]:
                    - /url: "#os-patch-fails"
                - listitem [ref=e798]:
                  - link "OS Patch Fails on AWS with Microk8s 1.27" [ref=e799] [cursor=pointer]:
                    - /url: "#os-patch-fails-on-aws-with-microk8s-127"
                - listitem [ref=e800]:
                  - link "Scenario - Remove Deprecated Cloud Providers" [ref=e801] [cursor=pointer]:
                    - /url: "#scenario---remove-deprecated-cloud-providers"
                - listitem [ref=e802]:
                  - link "Scenario - Remove Deprecated NATS Namespace" [ref=e803] [cursor=pointer]:
                    - /url: "#scenario---remove-deprecated-nats-namespace"
  - button "Project Logo Ask AI" [ref=e804] [cursor=pointer]:
    - generic [ref=e807]:
      - img "Project Logo" [ref=e808]
      - paragraph [ref=e809]: Ask AI
```