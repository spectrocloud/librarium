# Page snapshot

```yaml
- generic [active] [ref=e1]:
  - generic [ref=e2]:
    - region "Skip to main content":
      - link "Skip to main content" [ref=e3] [cursor=pointer]:
        - /url: "#__docusaurus_skipToContent_fallback"
    - navigation "Main" [ref=e4]:
      - generic [ref=e5]:
        - generic [ref=e6]:
          - link "Spectro cloud logo" [ref=e7] [cursor=pointer]:
            - /url: /
            - img "Spectro cloud logo" [ref=e9]
          - link "Docs" [ref=e10] [cursor=pointer]:
            - /url: /release-notes/
          - link "Tutorials" [ref=e11] [cursor=pointer]:
            - /url: /tutorials/
          - link "Downloads" [ref=e12] [cursor=pointer]:
            - /url: /downloads/
          - link "API" [ref=e13] [cursor=pointer]:
            - /url: /api/introduction/
          - button "latest" [ref=e15] [cursor=pointer]
        - generic [ref=e16]:
          - link "GitHub repository" [ref=e17] [cursor=pointer]:
            - /url: https://github.com/spectrocloud/librarium
          - button "Switch between dark and light mode (currently system mode)" [ref=e19] [cursor=pointer]:
            - img [ref=e20]
          - button "Search (Control+k)" [ref=e23] [cursor=pointer]:
            - generic [ref=e24]:
              - img [ref=e25]
              - generic [ref=e28]: Search
    - generic [ref=e32]:
      - complementary [ref=e33]:
        - generic [ref=e35]:
          - link "Spectro cloud logo" [ref=e36] [cursor=pointer]:
            - /url: /
            - img "Spectro cloud logo" [ref=e37]
          - navigation "Docs sidebar" [ref=e38]:
            - list [ref=e39]:
              - listitem [ref=e40]:
                - generic [ref=e41]:
                  - link "Release Notes" [ref=e42] [cursor=pointer]:
                    - /url: /release-notes/
                    - img [ref=e44]
                    - text: Release Notes
                  - button "Toggle the collapsible sidebar category 'Release Notes'" [ref=e46] [cursor=pointer]
              - listitem [ref=e47]:
                - generic [ref=e48]:
                  - link "Security Bulletins" [ref=e49] [cursor=pointer]:
                    - /url: /security-bulletins/
                    - img [ref=e51]
                    - text: Security Bulletins
                  - button "Toggle the collapsible sidebar category 'Security Bulletins'" [ref=e53] [cursor=pointer]
              - listitem [ref=e54]:
                - generic [ref=e55]:
                  - link "What is Palette?" [ref=e56] [cursor=pointer]:
                    - /url: /
                    - img [ref=e58]
                    - text: What is Palette?
                  - button "Toggle the collapsible sidebar category 'What is Palette?'" [ref=e60] [cursor=pointer]
              - listitem [ref=e61]:
                - link "Getting Started" [ref=e62] [cursor=pointer]:
                  - /url: /getting-started/
                  - img [ref=e64]
                  - text: Getting Started
              - listitem [ref=e66]:
                - generic [ref=e67]:
                  - link "Architecture" [ref=e68] [cursor=pointer]:
                    - /url: /architecture/
                    - img [ref=e70]
                    - text: Architecture
                  - button "Toggle the collapsible sidebar category 'Architecture'" [ref=e72] [cursor=pointer]
              - listitem [ref=e73]:
                - generic [ref=e74]:
                  - link "Profiles" [ref=e75] [cursor=pointer]:
                    - /url: /profiles/
                    - img [ref=e77]
                    - text: Profiles
                  - button "Toggle the collapsible sidebar category 'Profiles'" [ref=e81] [cursor=pointer]
              - listitem [ref=e82]:
                - generic [ref=e83]:
                  - link "Cluster Templates" [ref=e84] [cursor=pointer]:
                    - /url: /cluster-templates/
                    - img [ref=e86]
                    - text: Cluster Templates
                  - button "Toggle the collapsible sidebar category 'Cluster Templates'" [ref=e88] [cursor=pointer]
              - listitem [ref=e89]:
                - generic [ref=e90]:
                  - link "Deployment Modes" [ref=e91] [cursor=pointer]:
                    - /url: /deployment-modes/
                    - img [ref=e93]
                    - text: Deployment Modes
                  - button "Toggle the collapsible sidebar category 'Deployment Modes'" [ref=e95] [cursor=pointer]
              - listitem [ref=e96]:
                - generic [ref=e97]:
                  - link "Clusters" [expanded] [ref=e98] [cursor=pointer]:
                    - /url: /clusters/
                    - img [ref=e100]
                    - text: Clusters
                  - button "Toggle the collapsible sidebar category 'Clusters'" [ref=e106] [cursor=pointer]
                - list [ref=e107]:
                  - listitem [ref=e108]:
                    - generic [ref=e109]:
                      - link "Public Cloud Clusters" [ref=e110] [cursor=pointer]:
                        - /url: /clusters/public-cloud/
                        - img [ref=e112]
                        - text: Public Cloud Clusters
                      - button "Toggle the collapsible sidebar category 'Public Cloud Clusters'" [ref=e114] [cursor=pointer]
                  - listitem [ref=e115]:
                    - generic [ref=e116]:
                      - link "Data Center Clusters" [ref=e117] [cursor=pointer]:
                        - /url: /clusters/data-center/
                        - img [ref=e119]
                        - text: Data Center Clusters
                      - button "Toggle the collapsible sidebar category 'Data Center Clusters'" [ref=e121] [cursor=pointer]
                  - listitem [ref=e122]:
                    - generic [ref=e123]:
                      - link "Edge" [expanded] [ref=e124] [cursor=pointer]:
                        - /url: /clusters/edge/
                        - img [ref=e126]
                        - text: Edge
                      - button "Toggle the collapsible sidebar category 'Edge'" [ref=e128] [cursor=pointer]
                    - list [ref=e129]:
                      - listitem [ref=e130]:
                        - generic [ref=e131]:
                          - link "Architecture" [ref=e132] [cursor=pointer]:
                            - /url: /clusters/edge/architecture/
                          - button "Toggle the collapsible sidebar category 'Architecture'" [ref=e133] [cursor=pointer]
                      - listitem [ref=e134]:
                        - link "Hardware Requirements" [ref=e135] [cursor=pointer]:
                          - /url: /clusters/edge/hardware-requirements/
                      - listitem [ref=e136]:
                        - link "Deployment Lifecycle" [ref=e137] [cursor=pointer]:
                          - /url: /clusters/edge/edge-native-lifecycle/
                      - listitem [ref=e138]:
                        - generic [ref=e139]:
                          - link "Trusted Boot" [ref=e140] [cursor=pointer]:
                            - /url: /clusters/edge/trusted-boot/
                          - button "Toggle the collapsible sidebar category 'Trusted Boot'" [ref=e141] [cursor=pointer]
                      - listitem [ref=e142]:
                        - generic [ref=e143]:
                          - link "Install Configuration" [ref=e144] [cursor=pointer]:
                            - /url: /clusters/edge/edge-configuration/
                          - button "Toggle the collapsible sidebar category 'Install Configuration'" [ref=e145] [cursor=pointer]
                      - listitem [ref=e146]:
                        - generic [ref=e147]:
                          - link "EdgeForge Workflow" [ref=e148] [cursor=pointer]:
                            - /url: /clusters/edge/edgeforge-workflow/
                          - button "Toggle the collapsible sidebar category 'EdgeForge Workflow'" [ref=e149] [cursor=pointer]
                      - listitem [ref=e150]:
                        - generic [ref=e151]:
                          - link "Local UI" [ref=e152] [cursor=pointer]:
                            - /url: /clusters/edge/local-ui/
                          - button "Toggle the collapsible sidebar category 'Local UI'" [ref=e153] [cursor=pointer]
                      - listitem [ref=e154]:
                        - generic [ref=e155]:
                          - link "Deployment" [ref=e156] [cursor=pointer]:
                            - /url: /clusters/edge/site-deployment/
                          - button "Toggle the collapsible sidebar category 'Deployment'" [ref=e157] [cursor=pointer]
                      - listitem [ref=e158]:
                        - generic [ref=e159]:
                          - link "Cluster Management" [expanded] [ref=e160] [cursor=pointer]:
                            - /url: /clusters/edge/cluster-management/
                          - button "Toggle the collapsible sidebar category 'Cluster Management'" [ref=e161] [cursor=pointer]
                        - list [ref=e162]:
                          - listitem [ref=e163]:
                            - link "Connect to Edge Host Using Remote Shell" [ref=e164] [cursor=pointer]:
                              - /url: /clusters/edge/cluster-management/remote-shell/
                          - listitem [ref=e165]:
                            - link "Edge Cluster Upgrade Behavior" [ref=e166] [cursor=pointer]:
                              - /url: /clusters/edge/cluster-management/upgrade-behavior/
                          - listitem [ref=e167]:
                            - link "Renew Certificates for Local Clusters" [ref=e168] [cursor=pointer]:
                              - /url: /clusters/edge/cluster-management/certificate-renewal/
                          - listitem [ref=e169]:
                            - link "Configure Palette Agent Version" [ref=e170] [cursor=pointer]:
                              - /url: /clusters/edge/cluster-management/agent-upgrade-airgap/
                          - listitem [ref=e171]:
                            - link "Reset Host via Terminal" [ref=e172] [cursor=pointer]:
                              - /url: /clusters/edge/cluster-management/reset-host/
                          - listitem [ref=e173]:
                            - link "Replace a Failed Node" [ref=e174] [cursor=pointer]:
                              - /url: /clusters/edge/cluster-management/replace-failed-node/
                          - listitem [ref=e175]:
                            - link "Skip Node Draining" [ref=e176] [cursor=pointer]:
                              - /url: /clusters/edge/cluster-management/skip-draining/
                      - listitem [ref=e177]:
                        - generic [ref=e178]:
                          - link "Networking" [ref=e179] [cursor=pointer]:
                            - /url: /clusters/edge/networking/
                          - button "Toggle the collapsible sidebar category 'Networking'" [ref=e180] [cursor=pointer]
                      - listitem [ref=e181]:
                        - generic [ref=e182]:
                          - link "Third Party Integrations" [ref=e183] [cursor=pointer]:
                            - /url: /clusters/edge/third-party-integrations/
                          - button "Toggle the collapsible sidebar category 'Third Party Integrations'" [ref=e184] [cursor=pointer]
                  - listitem [ref=e185]:
                    - generic [ref=e186]:
                      - link "Palette Virtual Clusters" [ref=e187] [cursor=pointer]:
                        - /url: /clusters/palette-virtual-clusters/
                        - img [ref=e189]
                        - text: Palette Virtual Clusters
                      - button "Toggle the collapsible sidebar category 'Palette Virtual Clusters'" [ref=e191] [cursor=pointer]
                  - listitem [ref=e192]:
                    - generic [ref=e193]:
                      - link "Imported Clusters" [ref=e194] [cursor=pointer]:
                        - /url: /clusters/imported-clusters/
                        - img [ref=e196]
                        - text: Imported Clusters
                      - button "Toggle the collapsible sidebar category 'Imported Clusters'" [ref=e198] [cursor=pointer]
                  - listitem [ref=e199]:
                    - generic [ref=e200]:
                      - link "Manage Clusters" [ref=e201] [cursor=pointer]:
                        - /url: /clusters/cluster-management/
                        - img [ref=e203]
                        - text: Manage Clusters
                      - button "Toggle the collapsible sidebar category 'Manage Clusters'" [ref=e205] [cursor=pointer]
                  - listitem [ref=e206]:
                    - generic [ref=e207]:
                      - link "Cluster Groups" [ref=e208] [cursor=pointer]:
                        - /url: /clusters/cluster-groups/
                        - img [ref=e210]
                        - text: Cluster Groups
                      - button "Toggle the collapsible sidebar category 'Cluster Groups'" [ref=e212] [cursor=pointer]
                  - listitem [ref=e213]:
                    - generic [ref=e214]:
                      - link "Private Cloud Gateway" [ref=e215] [cursor=pointer]:
                        - /url: /clusters/pcg/
                        - img [ref=e217]
                        - text: Private Cloud Gateway
                      - button "Toggle the collapsible sidebar category 'Private Cloud Gateway'" [ref=e219] [cursor=pointer]
              - listitem [ref=e220]:
                - generic [ref=e221]:
                  - link "Bring Your Own OS (BYOOS)" [ref=e222] [cursor=pointer]:
                    - /url: /byoos/
                    - img [ref=e224]
                    - text: Bring Your Own OS (BYOOS)
                  - button "Toggle the collapsible sidebar category 'Bring Your Own OS (BYOOS)'" [ref=e226] [cursor=pointer]
              - listitem [ref=e227]:
                - generic [ref=e228]:
                  - link "Palette Dev Engine" [ref=e229] [cursor=pointer]:
                    - /url: /devx/
                    - img [ref=e231]
                    - text: Palette Dev Engine
                  - button "Toggle the collapsible sidebar category 'Palette Dev Engine'" [ref=e233] [cursor=pointer]
              - listitem [ref=e234]:
                - generic [ref=e235]:
                  - link "Virtual Machine Orchestrator" [ref=e236] [cursor=pointer]:
                    - /url: /vm-management/
                    - img [ref=e238]
                    - text: Virtual Machine Orchestrator
                  - button "Toggle the collapsible sidebar category 'Virtual Machine Orchestrator'" [ref=e240] [cursor=pointer]
              - listitem [ref=e241]:
                - generic [ref=e242]:
                  - link "Workspaces" [ref=e243] [cursor=pointer]:
                    - /url: /workspace/
                    - img [ref=e245]
                    - text: Workspaces
                  - button "Toggle the collapsible sidebar category 'Workspaces'" [ref=e247] [cursor=pointer]
              - listitem [ref=e248]:
                - generic [ref=e249]:
                  - link "Packs List" [ref=e250] [cursor=pointer]:
                    - /url: /integrations/
                    - img [ref=e252]
                    - text: Packs List
                  - button "Toggle the collapsible sidebar category 'Packs List'" [ref=e254] [cursor=pointer]
              - listitem [ref=e255]:
                - generic [ref=e256]:
                  - link "User & Role Management" [ref=e257] [cursor=pointer]:
                    - /url: /user-management/
                    - img [ref=e259]
                    - text: User & Role Management
                  - button "Toggle the collapsible sidebar category 'User & Role Management'" [ref=e261] [cursor=pointer]
              - listitem [ref=e262]:
                - generic [ref=e263]:
                  - link "Registries and Packs" [ref=e264] [cursor=pointer]:
                    - /url: /registries-and-packs/
                    - img [ref=e266]
                    - text: Registries and Packs
                  - button "Toggle the collapsible sidebar category 'Registries and Packs'" [ref=e268] [cursor=pointer]
              - listitem [ref=e269]:
                - generic [ref=e270]:
                  - link "Security" [ref=e271] [cursor=pointer]:
                    - /url: /security/
                    - img [ref=e273]
                    - text: Security
                  - button "Toggle the collapsible sidebar category 'Security'" [ref=e275] [cursor=pointer]
              - listitem [ref=e276]:
                - generic [ref=e277]:
                  - link "Audit Logs" [ref=e278] [cursor=pointer]:
                    - /url: /audit-logs/
                    - img [ref=e280]
                    - text: Audit Logs
                  - button "Toggle the collapsible sidebar category 'Audit Logs'" [ref=e282] [cursor=pointer]
              - listitem [ref=e283]:
                - generic [ref=e284]:
                  - link "Self-Hosted Palette" [ref=e285] [cursor=pointer]:
                    - /url: /enterprise-version/
                    - img [ref=e287]
                    - text: Self-Hosted Palette
                  - button "Toggle the collapsible sidebar category 'Self-Hosted Palette'" [ref=e289] [cursor=pointer]
              - listitem [ref=e290]:
                - generic [ref=e291]:
                  - link "Palette VerteX" [ref=e292] [cursor=pointer]:
                    - /url: /vertex/
                    - img [ref=e294]
                    - text: Palette VerteX
                  - button "Toggle the collapsible sidebar category 'Palette VerteX'" [ref=e296] [cursor=pointer]
              - listitem [ref=e297]:
                - generic [ref=e298]:
                  - link "Tenant Administration" [ref=e299] [cursor=pointer]:
                    - /url: /tenant-settings/
                    - img [ref=e301]
                    - text: Tenant Administration
                  - button "Toggle the collapsible sidebar category 'Tenant Administration'" [ref=e303] [cursor=pointer]
              - listitem [ref=e304]:
                - generic [ref=e305]:
                  - link "Automation" [ref=e306] [cursor=pointer]:
                    - /url: /automation/
                    - img [ref=e308]
                    - text: Automation
                  - button "Toggle the collapsible sidebar category 'Automation'" [ref=e310] [cursor=pointer]
              - listitem [ref=e311]:
                - generic [ref=e312]:
                  - link "Troubleshooting" [ref=e313] [cursor=pointer]:
                    - /url: /troubleshooting/
                    - img [ref=e315]
                    - text: Troubleshooting
                  - button "Toggle the collapsible sidebar category 'Troubleshooting'" [ref=e317] [cursor=pointer]
              - listitem [ref=e318]:
                - link "Glossary" [ref=e319] [cursor=pointer]:
                  - /url: /glossary-all/
                  - img [ref=e321]
                  - text: Glossary
              - listitem [ref=e323]:
                - generic [ref=e324]:
                  - link "Compliance & Legal" [ref=e325] [cursor=pointer]:
                    - /url: /legal-licenses/
                    - img [ref=e327]
                    - text: Compliance & Legal
                  - button "Toggle the collapsible sidebar category 'Compliance & Legal'" [ref=e329] [cursor=pointer]
              - listitem [ref=e330]:
                - button "Privacy Settings" [ref=e331] [cursor=pointer]:
                  - img [ref=e332]
                  - text: Privacy Settings
      - main [ref=e334]:
        - generic [ref=e336]:
          - generic [ref=e338]:
            - article [ref=e339]:
              - navigation "Breadcrumbs" [ref=e340]:
                - list [ref=e341]:
                  - listitem [ref=e342]:
                    - link "Home page" [ref=e343] [cursor=pointer]:
                      - /url: /
                      - img [ref=e344]
                  - listitem [ref=e346]:
                    - link "Clusters" [ref=e347] [cursor=pointer]:
                      - /url: /clusters/
                  - listitem [ref=e348]:
                    - link "Edge" [ref=e349] [cursor=pointer]:
                      - /url: /clusters/edge/
                  - listitem [ref=e350]:
                    - link "Cluster Management" [ref=e351] [cursor=pointer]:
                      - /url: /clusters/edge/cluster-management/
                  - listitem [ref=e352]:
                    - generic [ref=e353]: Skip Node Draining
              - generic [ref=e354]:
                - heading "Skip Node Draining" [level=1] [ref=e356]
                - paragraph [ref=e357]:
                  - text: When you apply a new cluster profile to your cluster with changes that require node reboot or repave, the cluster may drain each node as it updates the pods on that node. This is helpful in multi-node clusters as it allows you to avoid or minimize application downtime. For more information what changes will cause reboot or repave, refer to
                  - link "Edge Cluster Upgrade Behavior" [ref=e358] [cursor=pointer]:
                    - /url: /clusters/edge/cluster-management/upgrade-behavior/
                  - text: .
                - paragraph [ref=e359]: However, the benefits of draining a node in a single-node cluster are minimal because there are no other nodes to schedule the workloads onto. In addition, if system-critical workloads are drained, the cluster may get stuck in an unmanageable state.
                - paragraph [ref=e360]:
                  - text: By default, Palette will only drain nodes in multi-node Edge clusters. You can configure draining behavior via the OS layer of the cluster profile. These configurations will apply to both appliance mode and
                  - link "agent mode" [ref=e361] [cursor=pointer]:
                    - /url: /deployment-modes/agent-mode/
                  - text: deployments.
                - heading "PrerequisitesDirect link to Prerequisites" [level=2] [ref=e362]:
                  - text: Prerequisites
                  - link "Direct link to Prerequisites" [ref=e363] [cursor=pointer]:
                    - /url: "#prerequisites"
                    - text: "#"
                - list [ref=e364]:
                  - listitem [ref=e365]:
                    - paragraph [ref=e366]:
                      - text: A Palette account. If you do not have one, you can register an account on
                      - link "Palette" [ref=e367] [cursor=pointer]:
                        - /url: https://console.spectrocloud.com
                      - text: .
                  - listitem [ref=e368]:
                    - paragraph [ref=e369]: An Edge-type cluster profile.
                  - listitem [ref=e370]:
                    - paragraph [ref=e371]:
                      - text: An host registered with your Palette account or an existing Edge-type cluster. For more information, refer to
                      - link "Edge Host Registration" [ref=e372] [cursor=pointer]:
                        - /url: /clusters/edge/site-deployment/site-installation/edge-host-registration/
                      - text: and
                      - link "Deployment" [ref=e373] [cursor=pointer]:
                        - /url: /clusters/edge/site-deployment/
                      - text: .
                  - listitem [ref=e374]:
                    - paragraph [ref=e375]: Palette version 4.5.15 or higher, with Palette agent version 4.5.11 or higher.
                - heading "Skip Node Draining During Upgrades or RepavesDirect link to Skip Node Draining During Upgrades or Repaves" [level=2] [ref=e376]:
                  - text: Skip Node Draining During Upgrades or Repaves
                  - link "Direct link to Skip Node Draining During Upgrades or Repaves" [ref=e377] [cursor=pointer]:
                    - /url: "#skip-node-draining-during-upgrades-or-repaves"
                    - text: "#"
                - list [ref=e378]:
                  - listitem [ref=e379]:
                    - paragraph [ref=e380]:
                      - text: Log in to
                      - link "Palette" [ref=e381] [cursor=pointer]:
                        - /url: https://console.spectrocloud.com
                      - text: .
                  - listitem [ref=e382]:
                    - paragraph [ref=e383]:
                      - text: From the left
                      - strong [ref=e384]: Main Menu
                      - text: ", click"
                      - strong [ref=e385]: Profiles
                      - text: .
                  - listitem [ref=e386]:
                    - paragraph [ref=e387]: Select the cluster profile you use to provision the clusters for which you want to skip node draining during upgrades or repaves.
                  - listitem [ref=e388]:
                    - paragraph [ref=e389]:
                      - text: Select the BYOS Edge OS layer of your profile, and configure the
                      - code [ref=e390]: pack.drain
                      - text: section.
                    - generic [ref=e392]:
                      - code [ref=e394]:
                        - generic [ref=e395]: "pack:"
                        - generic [ref=e396]: "drain:"
                        - generic [ref=e397]: "drainPods: false"
                      - button "Copy code to clipboard" [ref=e399] [cursor=pointer]:
                        - generic [ref=e400]:
                          - img [ref=e401]
                          - img [ref=e403]
                    - paragraph [ref=e405]: The following table provides a brief description of the parameters.
                    - table [ref=e406]:
                      - rowgroup [ref=e407]:
                        - row "Parameter Description Default" [ref=e408]:
                          - cell "Parameter" [ref=e409]
                          - cell "Description" [ref=e410]
                          - cell "Default" [ref=e411]
                      - rowgroup [ref=e412]:
                        - row "drainPods Controls the node drain behavior during a cluster upgrade. true means nodes will always be drained. false means nodes will never be drained. auto means nodes will only be drained for multi-node clusters, while single-node clusters will not drain nodes during an upgrade. auto" [ref=e413]:
                          - cell "drainPods" [ref=e414]:
                            - code [ref=e415]: drainPods
                          - cell "Controls the node drain behavior during a cluster upgrade. true means nodes will always be drained. false means nodes will never be drained. auto means nodes will only be drained for multi-node clusters, while single-node clusters will not drain nodes during an upgrade." [ref=e416]:
                            - text: Controls the node drain behavior during a cluster upgrade.
                            - code [ref=e417]: "true"
                            - text: means nodes will always be drained.
                            - code [ref=e418]: "false"
                            - text: means nodes will never be drained.
                            - code [ref=e419]: auto
                            - text: means nodes will only be drained for multi-node clusters, while single-node clusters will not drain nodes during an upgrade.
                          - cell "auto" [ref=e420]:
                            - code [ref=e421]: auto
                        - 'row "podSelector If drainPods is set to true for either single-node or multi-node clusters, or set to auto for multi-node clusters, only pods matching the selectors will be drained. You can use positive or negative matches. For example, cluster.spectrocloud.com/task!=control-plan means pods with the cluster.spectrocloud.com/task=control-plan label are not drained, and app=web means pods with the label app=web are drained. Pods with any of the following labels are always protected from draining: cluster.spectrocloud.com/task=control-plan,cluster.spectrocloud.com/task=worker-plan,app=spectro,app=spectro-proxy ,app=palette-webhook None" [ref=e422]':
                          - cell "podSelector" [ref=e423]:
                            - code [ref=e424]: podSelector
                          - 'cell "If drainPods is set to true for either single-node or multi-node clusters, or set to auto for multi-node clusters, only pods matching the selectors will be drained. You can use positive or negative matches. For example, cluster.spectrocloud.com/task!=control-plan means pods with the cluster.spectrocloud.com/task=control-plan label are not drained, and app=web means pods with the label app=web are drained. Pods with any of the following labels are always protected from draining: cluster.spectrocloud.com/task=control-plan,cluster.spectrocloud.com/task=worker-plan,app=spectro,app=spectro-proxy ,app=palette-webhook" [ref=e425]':
                            - text: If
                            - code [ref=e426]: drainPods
                            - text: is set to
                            - code [ref=e427]: "true"
                            - text: for either single-node or multi-node clusters, or set to
                            - code [ref=e428]: auto
                            - text: for multi-node clusters, only pods matching the selectors will be drained. You can use positive or negative matches. For example,
                            - code [ref=e429]: cluster.spectrocloud.com/task!=control-plan
                            - text: means pods with the
                            - code [ref=e430]: cluster.spectrocloud.com/task=control-plan
                            - text: label are not drained, and
                            - code [ref=e431]: app=web
                            - text: means pods with the label
                            - code [ref=e432]: app=web
                            - text: are drained.
                            - text: "Pods with any of the following labels are always protected from draining:"
                            - code [ref=e433]: cluster.spectrocloud.com/task=control-plan
                            - text: ","
                            - code [ref=e434]: cluster.spectrocloud.com/task=worker-plan
                            - text: ","
                            - code [ref=e435]: app=spectro
                            - text: ","
                            - code [ref=e436]: app=spectro-proxy
                            - text: ","
                            - code [ref=e437]: app=palette-webhook
                          - cell "None" [ref=e438]
                    - generic [ref=e439]:
                      - generic [ref=e440]:
                        - img [ref=e442]
                        - text: warning
                      - generic [ref=e444]:
                        - paragraph [ref=e445]: Disabling node draining means normal workloads and the upgrade process happen in parallel. This will increase memory usage, and may cause your node to become unresponsive if your host is memory-constrained.
                        - paragraph [ref=e446]:
                          - text: In such cases, you may set the
                          - code [ref=e447]: pack.drain.drainPods
                          - text: parameter to
                          - code [ref=e448]: "true"
                          - text: ", and set"
                          - code [ref=e449]: pack.drain.disableEviction
                          - text: to
                          - code [ref=e450]: "true"
                          - text: . This will prevent the drain process from hanging indefinitely due to
                          - code [ref=e451]: PodDisruptionBudget
                          - text: constraints, while the default
                          - code [ref=e452]: podSelector
                          - text: will protect most critical system pods.
                  - listitem [ref=e453]:
                    - paragraph [ref=e454]:
                      - text: Create a new cluster with the updated cluster profile, or update an existing cluster to use the new cluster profile. For more information, refer to
                      - link "Create a Cluster" [ref=e455] [cursor=pointer]:
                        - /url: /clusters/edge/site-deployment/cluster-deployment/
                      - text: or
                      - link "Update a Cluster" [ref=e456] [cursor=pointer]:
                        - /url: /clusters/cluster-management/cluster-updates/
                      - text: .
                    - paragraph [ref=e457]:
                      - text: For existing clusters, when you update the profile without changing the
                      - code [ref=e458]: system.uri
                      - text: parameter, these changes alone will take effect and will not trigger any reboot or repave. The next time you make a change to the cluster profile that will trigger a repave or reboot, the new draining settings will apply. For more information about cluster behavior during upgrades, refer to
                      - link "Edge Cluster Upgrade Behavior" [ref=e459] [cursor=pointer]:
                        - /url: /clusters/edge/cluster-management/upgrade-behavior/
                      - text: .
                - heading "ValidateDirect link to Validate" [level=2] [ref=e460]:
                  - text: Validate
                  - link "Direct link to Validate" [ref=e461] [cursor=pointer]:
                    - /url: "#validate"
                    - text: "#"
                - list [ref=e462]:
                  - listitem [ref=e463]:
                    - paragraph [ref=e464]:
                      - text: Update the cluster to use a new version of a cluster profile. Ensure that your change will trigger a reboot or repave. For more information, refer to
                      - link "Update a Cluster" [ref=e465] [cursor=pointer]:
                        - /url: /clusters/cluster-management/cluster-updates/
                      - text: and
                      - link "Edge Cluster Upgrade Behavior" [ref=e466] [cursor=pointer]:
                        - /url: /clusters/edge/cluster-management/upgrade-behavior/
                      - text: .
                  - listitem [ref=e467]:
                    - paragraph [ref=e468]:
                      - text: After the upgrade is completed, use
                      - code [ref=e469]: kubectl logs
                      - text: to check on a node for which you skipped pod draining. Confirm that no messages that look like
                      - code [ref=e470]: Evicting pod <pod-name> as part of upgrade plan
                      - text: are displayed. The absence of such messages means that the pods were not drained during the upgrade.
              - generic [ref=e471]:
                - generic [ref=e473]:
                  - text: "Tags:"
                  - list [ref=e474]:
                    - listitem [ref=e475]:
                      - link "edge" [ref=e476] [cursor=pointer]:
                        - /url: /tags/edge/
                - link "Edit this page" [ref=e479] [cursor=pointer]:
                  - /url: https://github.com/spectrocloud/librarium/blob/master/docs/docs-content/clusters/edge/cluster-management/skip-draining.md
                  - img [ref=e480]
                  - text: Edit this page
            - navigation "Docs pages" [ref=e484]:
              - link "Previous « Replace a Failed Node" [ref=e485] [cursor=pointer]:
                - /url: /clusters/edge/cluster-management/replace-failed-node/
                - generic [ref=e486]: Previous
                - generic [ref=e487]: « Replace a Failed Node
              - link "Next Networking »" [ref=e488] [cursor=pointer]:
                - /url: /clusters/edge/networking/
                - generic [ref=e489]: Next
                - generic [ref=e490]: Networking »
          - list [ref=e493]:
            - listitem [ref=e494]:
              - link "Prerequisites" [ref=e495] [cursor=pointer]:
                - /url: "#prerequisites"
            - listitem [ref=e496]:
              - link "Skip Node Draining During Upgrades or Repaves" [ref=e497] [cursor=pointer]:
                - /url: "#skip-node-draining-during-upgrades-or-repaves"
            - listitem [ref=e498]:
              - link "Validate" [ref=e499] [cursor=pointer]:
                - /url: "#validate"
  - button "Project Logo Ask AI" [ref=e500] [cursor=pointer]:
    - generic [ref=e503]:
      - img "Project Logo" [ref=e504]
      - paragraph [ref=e505]: Ask AI
```