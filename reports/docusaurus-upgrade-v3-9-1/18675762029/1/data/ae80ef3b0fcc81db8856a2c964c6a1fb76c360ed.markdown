# Page snapshot

```yaml
- generic [active] [ref=e1]:
  - generic [ref=e2]:
    - region "Skip to main content":
      - link "Skip to main content" [ref=e3] [cursor=pointer]:
        - /url: "#__docusaurus_skipToContent_fallback"
    - navigation "Main" [ref=e4]:
      - generic [ref=e5]:
        - generic [ref=e6]:
          - link "Spectro cloud logo" [ref=e7] [cursor=pointer]:
            - /url: /
            - img "Spectro cloud logo" [ref=e9]
          - link "Docs" [ref=e10] [cursor=pointer]:
            - /url: /release-notes/
          - link "Tutorials" [ref=e11] [cursor=pointer]:
            - /url: /tutorials/
          - link "Downloads" [ref=e12] [cursor=pointer]:
            - /url: /downloads/
          - link "API" [ref=e13] [cursor=pointer]:
            - /url: /api/introduction/
          - button "latest" [ref=e15] [cursor=pointer]
        - generic [ref=e16]:
          - link "GitHub repository" [ref=e17] [cursor=pointer]:
            - /url: https://github.com/spectrocloud/librarium
          - button "Switch between dark and light mode (currently system mode)" [ref=e19] [cursor=pointer]:
            - img [ref=e20]
          - button "Search (Control+k)" [ref=e23] [cursor=pointer]:
            - generic [ref=e24]:
              - img [ref=e25]
              - generic [ref=e28]: Search
    - generic [ref=e32]:
      - complementary [ref=e33]:
        - generic [ref=e35]:
          - link "Spectro cloud logo" [ref=e36] [cursor=pointer]:
            - /url: /
            - img "Spectro cloud logo" [ref=e37]
          - navigation "Docs sidebar" [ref=e38]:
            - list [ref=e39]:
              - listitem [ref=e40]:
                - generic [ref=e41]:
                  - link "Release Notes" [ref=e42] [cursor=pointer]:
                    - /url: /release-notes/
                    - img [ref=e44]
                    - text: Release Notes
                  - button "Toggle the collapsible sidebar category 'Release Notes'" [ref=e46] [cursor=pointer]
              - listitem [ref=e47]:
                - generic [ref=e48]:
                  - link "Security Bulletins" [ref=e49] [cursor=pointer]:
                    - /url: /security-bulletins/
                    - img [ref=e51]
                    - text: Security Bulletins
                  - button "Toggle the collapsible sidebar category 'Security Bulletins'" [ref=e53] [cursor=pointer]
              - listitem [ref=e54]:
                - generic [ref=e55]:
                  - link "What is Palette?" [ref=e56] [cursor=pointer]:
                    - /url: /
                    - img [ref=e58]
                    - text: What is Palette?
                  - button "Toggle the collapsible sidebar category 'What is Palette?'" [ref=e60] [cursor=pointer]
              - listitem [ref=e61]:
                - link "Getting Started" [ref=e62] [cursor=pointer]:
                  - /url: /getting-started/
                  - img [ref=e64]
                  - text: Getting Started
              - listitem [ref=e66]:
                - generic [ref=e67]:
                  - link "Architecture" [expanded] [ref=e68] [cursor=pointer]:
                    - /url: /architecture/
                    - img [ref=e70]
                    - text: Architecture
                  - button "Toggle the collapsible sidebar category 'Architecture'" [ref=e72] [cursor=pointer]
                - list [ref=e73]:
                  - listitem [ref=e74]:
                    - link "Overview" [ref=e75] [cursor=pointer]:
                      - /url: /architecture/architecture-overview/
                  - listitem [ref=e76]:
                    - link "Order of Operations" [ref=e77] [cursor=pointer]:
                      - /url: /architecture/orchestration-spectrocloud/
                  - listitem [ref=e78]:
                    - link "Network Ports" [ref=e79] [cursor=pointer]:
                      - /url: /architecture/networking-ports/
                  - listitem [ref=e80]:
                    - link "gRPC and Proxies" [ref=e81] [cursor=pointer]:
                      - /url: /architecture/grps-proxy/
                  - listitem [ref=e82]:
                    - link "IP Addresses" [ref=e83] [cursor=pointer]:
                      - /url: /architecture/palette-public-ips/
                  - listitem [ref=e84]:
                    - link "Namespaces and Pods" [ref=e85] [cursor=pointer]:
                      - /url: /architecture/palette-namespaces-pods/
                  - listitem [ref=e86]:
                    - link "Palette eXtended Kubernetes" [ref=e87] [cursor=pointer]:
                      - /url: /architecture/pxk/
              - listitem [ref=e88]:
                - generic [ref=e89]:
                  - link "Profiles" [ref=e90] [cursor=pointer]:
                    - /url: /profiles/
                    - img [ref=e92]
                    - text: Profiles
                  - button "Toggle the collapsible sidebar category 'Profiles'" [ref=e96] [cursor=pointer]
              - listitem [ref=e97]:
                - generic [ref=e98]:
                  - link "Cluster Templates" [ref=e99] [cursor=pointer]:
                    - /url: /cluster-templates/
                    - img [ref=e101]
                    - text: Cluster Templates
                  - button "Toggle the collapsible sidebar category 'Cluster Templates'" [ref=e103] [cursor=pointer]
              - listitem [ref=e104]:
                - generic [ref=e105]:
                  - link "Deployment Modes" [ref=e106] [cursor=pointer]:
                    - /url: /deployment-modes/
                    - img [ref=e108]
                    - text: Deployment Modes
                  - button "Toggle the collapsible sidebar category 'Deployment Modes'" [ref=e110] [cursor=pointer]
              - listitem [ref=e111]:
                - generic [ref=e112]:
                  - link "Clusters" [ref=e113] [cursor=pointer]:
                    - /url: /clusters/
                    - img [ref=e115]
                    - text: Clusters
                  - button "Toggle the collapsible sidebar category 'Clusters'" [ref=e121] [cursor=pointer]
              - listitem [ref=e122]:
                - generic [ref=e123]:
                  - link "Bring Your Own OS (BYOOS)" [ref=e124] [cursor=pointer]:
                    - /url: /byoos/
                    - img [ref=e126]
                    - text: Bring Your Own OS (BYOOS)
                  - button "Toggle the collapsible sidebar category 'Bring Your Own OS (BYOOS)'" [ref=e128] [cursor=pointer]
              - listitem [ref=e129]:
                - generic [ref=e130]:
                  - link "Palette Dev Engine" [ref=e131] [cursor=pointer]:
                    - /url: /devx/
                    - img [ref=e133]
                    - text: Palette Dev Engine
                  - button "Toggle the collapsible sidebar category 'Palette Dev Engine'" [ref=e135] [cursor=pointer]
              - listitem [ref=e136]:
                - generic [ref=e137]:
                  - link "Virtual Machine Orchestrator" [ref=e138] [cursor=pointer]:
                    - /url: /vm-management/
                    - img [ref=e140]
                    - text: Virtual Machine Orchestrator
                  - button "Toggle the collapsible sidebar category 'Virtual Machine Orchestrator'" [ref=e142] [cursor=pointer]
              - listitem [ref=e143]:
                - generic [ref=e144]:
                  - link "Workspaces" [ref=e145] [cursor=pointer]:
                    - /url: /workspace/
                    - img [ref=e147]
                    - text: Workspaces
                  - button "Toggle the collapsible sidebar category 'Workspaces'" [ref=e149] [cursor=pointer]
              - listitem [ref=e150]:
                - generic [ref=e151]:
                  - link "Packs List" [ref=e152] [cursor=pointer]:
                    - /url: /integrations/
                    - img [ref=e154]
                    - text: Packs List
                  - button "Toggle the collapsible sidebar category 'Packs List'" [ref=e156] [cursor=pointer]
              - listitem [ref=e157]:
                - generic [ref=e158]:
                  - link "User & Role Management" [ref=e159] [cursor=pointer]:
                    - /url: /user-management/
                    - img [ref=e161]
                    - text: User & Role Management
                  - button "Toggle the collapsible sidebar category 'User & Role Management'" [ref=e163] [cursor=pointer]
              - listitem [ref=e164]:
                - generic [ref=e165]:
                  - link "Registries and Packs" [ref=e166] [cursor=pointer]:
                    - /url: /registries-and-packs/
                    - img [ref=e168]
                    - text: Registries and Packs
                  - button "Toggle the collapsible sidebar category 'Registries and Packs'" [ref=e170] [cursor=pointer]
              - listitem [ref=e171]:
                - generic [ref=e172]:
                  - link "Security" [ref=e173] [cursor=pointer]:
                    - /url: /security/
                    - img [ref=e175]
                    - text: Security
                  - button "Toggle the collapsible sidebar category 'Security'" [ref=e177] [cursor=pointer]
              - listitem [ref=e178]:
                - generic [ref=e179]:
                  - link "Audit Logs" [ref=e180] [cursor=pointer]:
                    - /url: /audit-logs/
                    - img [ref=e182]
                    - text: Audit Logs
                  - button "Toggle the collapsible sidebar category 'Audit Logs'" [ref=e184] [cursor=pointer]
              - listitem [ref=e185]:
                - generic [ref=e186]:
                  - link "Self-Hosted Palette" [ref=e187] [cursor=pointer]:
                    - /url: /enterprise-version/
                    - img [ref=e189]
                    - text: Self-Hosted Palette
                  - button "Toggle the collapsible sidebar category 'Self-Hosted Palette'" [ref=e191] [cursor=pointer]
              - listitem [ref=e192]:
                - generic [ref=e193]:
                  - link "Palette VerteX" [ref=e194] [cursor=pointer]:
                    - /url: /vertex/
                    - img [ref=e196]
                    - text: Palette VerteX
                  - button "Toggle the collapsible sidebar category 'Palette VerteX'" [ref=e198] [cursor=pointer]
              - listitem [ref=e199]:
                - generic [ref=e200]:
                  - link "Tenant Administration" [ref=e201] [cursor=pointer]:
                    - /url: /tenant-settings/
                    - img [ref=e203]
                    - text: Tenant Administration
                  - button "Toggle the collapsible sidebar category 'Tenant Administration'" [ref=e205] [cursor=pointer]
              - listitem [ref=e206]:
                - generic [ref=e207]:
                  - link "Automation" [ref=e208] [cursor=pointer]:
                    - /url: /automation/
                    - img [ref=e210]
                    - text: Automation
                  - button "Toggle the collapsible sidebar category 'Automation'" [ref=e212] [cursor=pointer]
              - listitem [ref=e213]:
                - generic [ref=e214]:
                  - link "Troubleshooting" [ref=e215] [cursor=pointer]:
                    - /url: /troubleshooting/
                    - img [ref=e217]
                    - text: Troubleshooting
                  - button "Toggle the collapsible sidebar category 'Troubleshooting'" [ref=e219] [cursor=pointer]
              - listitem [ref=e220]:
                - link "Glossary" [ref=e221] [cursor=pointer]:
                  - /url: /glossary-all/
                  - img [ref=e223]
                  - text: Glossary
              - listitem [ref=e225]:
                - generic [ref=e226]:
                  - link "Compliance & Legal" [ref=e227] [cursor=pointer]:
                    - /url: /legal-licenses/
                    - img [ref=e229]
                    - text: Compliance & Legal
                  - button "Toggle the collapsible sidebar category 'Compliance & Legal'" [ref=e231] [cursor=pointer]
              - listitem [ref=e232]:
                - button "Privacy Settings" [ref=e233] [cursor=pointer]:
                  - img [ref=e234]
                  - text: Privacy Settings
      - main [ref=e236]:
        - generic [ref=e238]:
          - generic [ref=e240]:
            - article [ref=e241]:
              - navigation "Breadcrumbs" [ref=e242]:
                - list [ref=e243]:
                  - listitem [ref=e244]:
                    - link "Home page" [ref=e245] [cursor=pointer]:
                      - /url: /
                      - img [ref=e246]
                  - listitem [ref=e248]:
                    - link "Architecture" [ref=e249] [cursor=pointer]:
                      - /url: /architecture/
                  - listitem [ref=e250]:
                    - generic [ref=e251]: Overview
              - generic [ref=e252]:
                - heading "Deployment Architecture Overview" [level=1] [ref=e254]
                - paragraph [ref=e255]: "Palette is available in three flexible deployment models:"
                - list [ref=e256]:
                  - listitem [ref=e257]:
                    - paragraph [ref=e258]:
                      - strong [ref=e259]: Multi-tenant SaaS
                      - text: ": The management plane is hosted in AWS across three regions (us-east-1, us-west-1, us-west-2) and managed by Spectro Cloud. Each customer will occupy a tenant. The Spectro Cloud operation team controls when to upgrade the management plane."
                  - listitem [ref=e260]:
                    - paragraph [ref=e261]:
                      - strong [ref=e262]: Dedicated SaaS
                      - text: ": The management plane is hosted in a cloud/region specified by the customer in Spectro Cloud’s cloud account with a dedicated instance managed by Spectro Cloud. The customer can decide when to upgrade the management plane."
                  - listitem [ref=e263]:
                    - paragraph [ref=e264]:
                      - strong [ref=e265]: Self-hosted
                      - text: ": The management plane is hosted in the customer’s environment. It can be the customer’s on-prem VMware vSphere, OpenStack, bare metal, or in a public cloud using the customer’s cloud account."
                - paragraph [ref=e266]:
                  - img "A diagram of Palette deployment models eager-load" [ref=e267]
                - heading "Product SecurityDirect link to Product Security" [level=2] [ref=e268]:
                  - text: Product Security
                  - link "Direct link to Product Security" [ref=e269] [cursor=pointer]:
                    - /url: "#product-security"
                    - text: "#"
                - paragraph [ref=e270]:
                  - text: At Spectro Cloud, we recognize the importance of robust security measures in today's rapidly evolving digital landscape. As the provider of our cutting-edge SaaS and self-hosted Palette product, our commitment to safeguarding your data and ensuring the integrity of our services is paramount. Learn more about Palette security by reviewing the
                  - link "Security" [ref=e271] [cursor=pointer]:
                    - /url: /security/
                  - text: section.
                - heading "SaaS Architecture and Data FlowDirect link to SaaS Architecture and Data Flow" [level=2] [ref=e272]:
                  - text: SaaS Architecture and Data Flow
                  - link "Direct link to SaaS Architecture and Data Flow" [ref=e273] [cursor=pointer]:
                    - /url: "#saas-architecture-and-data-flow"
                    - text: "#"
                - paragraph [ref=e274]: The Palette SaaS platform can manage public clouds (AWS, Azure, Google Cloud) and on-premises data center (VMware, OpenStack, bare metal). The architecture and data flow slightly differ based on whether the target environment is a public or an on-premises data center.
                - heading "SaaS to Public CloudsDirect link to SaaS to Public Clouds" [level=3] [ref=e275]:
                  - text: SaaS to Public Clouds
                  - link "Direct link to SaaS to Public Clouds" [ref=e276] [cursor=pointer]:
                    - /url: "#saas-to-public-clouds"
                    - text: "#"
                - paragraph [ref=e277]: "The following diagram illustrates the data flow for the Palette SaaS platform to manage the EKS cluster using the user's cloud account in AWS:"
                - paragraph [ref=e278]:
                  - img "A diagram of the Palette SaaS architecture eager-load" [ref=e279]
                - paragraph [ref=e280]: There are two main data flows represented in the provisioning flow (red) and monitoring flow (green).
                - list [ref=e281]:
                  - listitem [ref=e282]:
                    - paragraph [ref=e283]:
                      - strong [ref=e284]: Provisioning data flow
                      - text: ": A tenant user from the browser or API client (e.g., Terraform provider) to configure Cluster Profile, Cloud Configuration (e.g., which cloud account to use, cloud-specific placement settings like VPC, subnet), and cluster specifications (e.g., cluster size, node instance type, etc.). This information is sent to Palette. In turn, Palette will invoke the cloud API to talk to the cloud endpoint using the cloud credentials specified to provision the Kubernetes cluster. Once the cluster is provisioned, a Palette management agent will be pushed and installed in the cluster. This agent will receive the Cluster Profile and Cluster Specifications as the desired state from SaaS. The agent will further inspect the desired state and pull additional add-on integrations from Palette's public package registry, or optionally a private package registry hosted by the tenant user. Once all required add-on integrations are installed, the agent will send a message to SaaS to indicate the full-stack K8s provisioning is completed."
                  - listitem [ref=e285]:
                    - paragraph [ref=e286]:
                      - strong [ref=e287]: Monitoring data flow
                      - text: ": The agent will periodically report the cluster health status back to the Palette SaaS platform. The agent will also stay in the watch loop to check if the cluster's stat matches the declared desired state. If there is any deviation (e.g. a worker node is accidentally shut down by a user directly from the cloud console), the agent can either send an alert message or based on the policy, do auto reconciliation/self-healing to bring the cluster back to match with the desired state. If there is an updated Cluster Profile or Cluster Spec, the agent will receive the updated and desired state from SaaS. It will then enforce the desired state by making cluster configuration changes accordingly."
                - heading "SaaS to Private Clouds / Data Center / Bare MetalDirect link to SaaS to Private Clouds / Data Center / Bare Metal" [level=3] [ref=e288]:
                  - text: SaaS to Private Clouds / Data Center / Bare Metal
                  - link "Direct link to SaaS to Private Clouds / Data Center / Bare Metal" [ref=e289] [cursor=pointer]:
                    - /url: "#saas-to-private-clouds--data-center--bare-metal"
                    - text: "#"
                - paragraph [ref=e290]:
                  - text: For private clouds like VMware, since the Palette SaaS platform does not have direct access to the private cloud endpoint (e.g., vCenter), there is one extra component, Palette
                  - link "Private Cloud Gateway" [ref=e291] [cursor=pointer]:
                    - /url: /clusters/pcg/architecture/
                  - text: ", to be deployed in a private cloud environment to act as the local orchestrator and the proxy between Palette’s SaaS platform and cloud endpoint. The following diagram illustrates the data flow for the Palette SaaS platform to manage an on-prem VMware private data center:"
                - paragraph [ref=e292]:
                  - img "Palette SaaS architecture diagram with connections to private data centers" [ref=e293]
                - heading "Self-Hosted Architecture and Data FlowDirect link to Self-Hosted Architecture and Data Flow" [level=2] [ref=e294]:
                  - text: Self-Hosted Architecture and Data Flow
                  - link "Direct link to Self-Hosted Architecture and Data Flow" [ref=e295] [cursor=pointer]:
                    - /url: "#self-hosted-architecture-and-data-flow"
                    - text: "#"
                - paragraph [ref=e296]: Although the Palette SaaS platform fully supports both public clouds and data centers, some customers, especially with regulated industry or air-gapped environments, may prefer to install Palette in their own environment behind the firewall, so that they can control the platform upgrade cycles and ensure no sensitive data are exposed. For these use cases, Palette supports a self-hosted on-premises installation. The platform updates and add-on integration contents can be optionally downloaded from a self-hosted private repository instead of pulling from Palette’s hosted public repository.
                - paragraph [ref=e297]:
                  - img "Self-hosted Palette architecture diagram" [ref=e298]
                - heading "Message BrokersDirect link to Message Brokers" [level=3] [ref=e299]:
                  - text: Message Brokers
                  - link "Direct link to Message Brokers" [ref=e300] [cursor=pointer]:
                    - /url: "#message-brokers"
                    - text: "#"
                - paragraph [ref=e301]:
                  - text: Palette requires reliable, scalable, and secure communication. The internal microservices use a Publish-Subscribe pattern implemented with
                  - link "gRPC" [ref=e302] [cursor=pointer]:
                    - /url: https://grpc.io/
                  - text: to achieve this. In order to support this communication pattern, a message broker service acts as the central hub for message exchange. Palette message brokers are automatically scaled, ensuring that a quorum is available for each management plane cluster. The broker system is designed to provide the following functionality.
                - list [ref=e303]:
                  - listitem [ref=e304]: It efficiently distributes incoming gRPC requests across multiple replicas of the message broker to optimize resource usage and platform performance. This capability supports Palette's ability to manage large enterprise Kubernetes clusters, which are often distributed across numerous Kubernetes clusters.
                  - listitem [ref=e305]: It provides high availability by enabling clients to fail over to alternative replicas in the case of a pod failure. By default, two replicas of the message broker are created in each management plane cluster.
                  - listitem [ref=e306]: It automatically adjusts to changes in the number of broker replicas without manual reconfiguration, ensuring that the platform dynamically scales in response to load changes.
                  - listitem [ref=e307]: It enforces message authentication and security by generating secondary certificates used for broker to broker communication. This provides security in depth.
                - paragraph [ref=e308]:
                  - text: Any Enterprise and VerteX Palette cluster will have a message broker that you can inspect. First, ensure that you can connect to the management plane cluster. Refer to the
                  - link "Access Cluster with CLI" [ref=e309] [cursor=pointer]:
                    - /url: /clusters/cluster-management/palette-webctl/#access-cluster-with-cli
                  - text: guide for further information. You can then view your message broker by executing the following command.
                - generic [ref=e311]:
                  - code [ref=e313]:
                    - generic [ref=e314]: kubectl get statefulset msgbroker --namespace hubble-system
                  - button "Copy code to clipboard" [ref=e316] [cursor=pointer]:
                    - generic [ref=e317]:
                      - img [ref=e318]
                      - img [ref=e320]
              - link "Edit this page" [ref=e325] [cursor=pointer]:
                - /url: https://github.com/spectrocloud/librarium/blob/master/docs/docs-content/architecture/architecture-overview.md
                - img [ref=e326]
                - text: Edit this page
            - navigation "Docs pages" [ref=e330]:
              - link "Previous « Architecture" [ref=e331] [cursor=pointer]:
                - /url: /architecture/
                - generic [ref=e332]: Previous
                - generic [ref=e333]: « Architecture
              - link "Next Order of Operations »" [ref=e334] [cursor=pointer]:
                - /url: /architecture/orchestration-spectrocloud/
                - generic [ref=e335]: Next
                - generic [ref=e336]: Order of Operations »
          - list [ref=e339]:
            - listitem [ref=e340]:
              - link "Product Security" [ref=e341] [cursor=pointer]:
                - /url: "#product-security"
            - listitem [ref=e342]:
              - link "SaaS Architecture and Data Flow" [ref=e343] [cursor=pointer]:
                - /url: "#saas-architecture-and-data-flow"
              - list [ref=e344]:
                - listitem [ref=e345]:
                  - link "SaaS to Public Clouds" [ref=e346] [cursor=pointer]:
                    - /url: "#saas-to-public-clouds"
                - listitem [ref=e347]:
                  - link "SaaS to Private Clouds / Data Center / Bare Metal" [ref=e348] [cursor=pointer]:
                    - /url: "#saas-to-private-clouds--data-center--bare-metal"
            - listitem [ref=e349]:
              - link "Self-Hosted Architecture and Data Flow" [ref=e350] [cursor=pointer]:
                - /url: "#self-hosted-architecture-and-data-flow"
              - list [ref=e351]:
                - listitem [ref=e352]:
                  - link "Message Brokers" [ref=e353] [cursor=pointer]:
                    - /url: "#message-brokers"
  - button "Project Logo Ask AI" [ref=e354] [cursor=pointer]:
    - generic [ref=e357]:
      - img "Project Logo" [ref=e358]
      - paragraph [ref=e359]: Ask AI
```