# Page snapshot

```yaml
- generic [active] [ref=e1]:
  - generic [ref=e2]:
    - region "Skip to main content":
      - link "Skip to main content" [ref=e3] [cursor=pointer]:
        - /url: "#__docusaurus_skipToContent_fallback"
    - navigation "Main" [ref=e4]:
      - generic [ref=e5]:
        - generic [ref=e6]:
          - link "Spectro cloud logo" [ref=e7] [cursor=pointer]:
            - /url: /
            - img "Spectro cloud logo" [ref=e9]
          - link "Docs" [ref=e10] [cursor=pointer]:
            - /url: /release-notes/
          - link "Tutorials" [ref=e11] [cursor=pointer]:
            - /url: /tutorials/
          - link "Downloads" [ref=e12] [cursor=pointer]:
            - /url: /downloads/
          - link "API" [ref=e13] [cursor=pointer]:
            - /url: /api/introduction/
          - button "latest" [ref=e15] [cursor=pointer]
        - generic [ref=e16]:
          - link "GitHub repository" [ref=e17] [cursor=pointer]:
            - /url: https://github.com/spectrocloud/librarium
          - button "Switch between dark and light mode (currently system mode)" [ref=e19] [cursor=pointer]:
            - img [ref=e20]
          - button "Search (Control+k)" [ref=e23] [cursor=pointer]:
            - generic [ref=e24]:
              - img [ref=e25]
              - generic [ref=e28]: Search
    - generic [ref=e32]:
      - complementary [ref=e33]:
        - generic [ref=e35]:
          - link "Spectro cloud logo" [ref=e36] [cursor=pointer]:
            - /url: /
            - img "Spectro cloud logo" [ref=e37]
          - navigation "Docs sidebar" [ref=e38]:
            - list [ref=e39]:
              - listitem [ref=e40]:
                - generic [ref=e41]:
                  - link "Release Notes" [ref=e42] [cursor=pointer]:
                    - /url: /release-notes/
                    - img [ref=e44]
                    - text: Release Notes
                  - button "Toggle the collapsible sidebar category 'Release Notes'" [ref=e46] [cursor=pointer]
              - listitem [ref=e47]:
                - generic [ref=e48]:
                  - link "Security Bulletins" [ref=e49] [cursor=pointer]:
                    - /url: /security-bulletins/
                    - img [ref=e51]
                    - text: Security Bulletins
                  - button "Toggle the collapsible sidebar category 'Security Bulletins'" [ref=e53] [cursor=pointer]
              - listitem [ref=e54]:
                - generic [ref=e55]:
                  - link "What is Palette?" [ref=e56] [cursor=pointer]:
                    - /url: /
                    - img [ref=e58]
                    - text: What is Palette?
                  - button "Toggle the collapsible sidebar category 'What is Palette?'" [ref=e60] [cursor=pointer]
              - listitem [ref=e61]:
                - link "Getting Started" [ref=e62] [cursor=pointer]:
                  - /url: /getting-started/
                  - img [ref=e64]
                  - text: Getting Started
              - listitem [ref=e66]:
                - generic [ref=e67]:
                  - link "Architecture" [ref=e68] [cursor=pointer]:
                    - /url: /architecture/
                    - img [ref=e70]
                    - text: Architecture
                  - button "Toggle the collapsible sidebar category 'Architecture'" [ref=e72] [cursor=pointer]
              - listitem [ref=e73]:
                - generic [ref=e74]:
                  - link "Profiles" [ref=e75] [cursor=pointer]:
                    - /url: /profiles/
                    - img [ref=e77]
                    - text: Profiles
                  - button "Toggle the collapsible sidebar category 'Profiles'" [ref=e81] [cursor=pointer]
              - listitem [ref=e82]:
                - generic [ref=e83]:
                  - link "Cluster Templates" [ref=e84] [cursor=pointer]:
                    - /url: /cluster-templates/
                    - img [ref=e86]
                    - text: Cluster Templates
                  - button "Toggle the collapsible sidebar category 'Cluster Templates'" [ref=e88] [cursor=pointer]
              - listitem [ref=e89]:
                - generic [ref=e90]:
                  - link "Deployment Modes" [ref=e91] [cursor=pointer]:
                    - /url: /deployment-modes/
                    - img [ref=e93]
                    - text: Deployment Modes
                  - button "Toggle the collapsible sidebar category 'Deployment Modes'" [ref=e95] [cursor=pointer]
              - listitem [ref=e96]:
                - generic [ref=e97]:
                  - link "Clusters" [expanded] [ref=e98] [cursor=pointer]:
                    - /url: /clusters/
                    - img [ref=e100]
                    - text: Clusters
                  - button "Toggle the collapsible sidebar category 'Clusters'" [ref=e106] [cursor=pointer]
                - list [ref=e107]:
                  - listitem [ref=e108]:
                    - generic [ref=e109]:
                      - link "Public Cloud Clusters" [ref=e110] [cursor=pointer]:
                        - /url: /clusters/public-cloud/
                        - img [ref=e112]
                        - text: Public Cloud Clusters
                      - button "Toggle the collapsible sidebar category 'Public Cloud Clusters'" [ref=e114] [cursor=pointer]
                  - listitem [ref=e115]:
                    - generic [ref=e116]:
                      - link "Data Center Clusters" [ref=e117] [cursor=pointer]:
                        - /url: /clusters/data-center/
                        - img [ref=e119]
                        - text: Data Center Clusters
                      - button "Toggle the collapsible sidebar category 'Data Center Clusters'" [ref=e121] [cursor=pointer]
                  - listitem [ref=e122]:
                    - generic [ref=e123]:
                      - link "Edge" [ref=e124] [cursor=pointer]:
                        - /url: /clusters/edge/
                        - img [ref=e126]
                        - text: Edge
                      - button "Toggle the collapsible sidebar category 'Edge'" [ref=e128] [cursor=pointer]
                  - listitem [ref=e129]:
                    - generic [ref=e130]:
                      - link "Palette Virtual Clusters" [ref=e131] [cursor=pointer]:
                        - /url: /clusters/palette-virtual-clusters/
                        - img [ref=e133]
                        - text: Palette Virtual Clusters
                      - button "Toggle the collapsible sidebar category 'Palette Virtual Clusters'" [ref=e135] [cursor=pointer]
                  - listitem [ref=e136]:
                    - generic [ref=e137]:
                      - link "Imported Clusters" [ref=e138] [cursor=pointer]:
                        - /url: /clusters/imported-clusters/
                        - img [ref=e140]
                        - text: Imported Clusters
                      - button "Toggle the collapsible sidebar category 'Imported Clusters'" [ref=e142] [cursor=pointer]
                  - listitem [ref=e143]:
                    - generic [ref=e144]:
                      - link "Manage Clusters" [expanded] [ref=e145] [cursor=pointer]:
                        - /url: /clusters/cluster-management/
                        - img [ref=e147]
                        - text: Manage Clusters
                      - button "Toggle the collapsible sidebar category 'Manage Clusters'" [ref=e149] [cursor=pointer]
                    - list [ref=e150]:
                      - listitem [ref=e151]:
                        - generic [ref=e152]:
                          - link "SSH" [ref=e153] [cursor=pointer]:
                            - /url: /clusters/cluster-management/ssh/
                          - button "Toggle the collapsible sidebar category 'SSH'" [ref=e154] [cursor=pointer]
                      - listitem [ref=e155]:
                        - link "Update a Cluster" [ref=e156] [cursor=pointer]:
                          - /url: /clusters/cluster-management/cluster-updates/
                      - listitem [ref=e157]:
                        - generic [ref=e158]:
                          - link "Cluster Monitoring" [ref=e159] [cursor=pointer]:
                            - /url: /clusters/cluster-management/monitoring/
                          - button "Toggle the collapsible sidebar category 'Cluster Monitoring'" [ref=e160] [cursor=pointer]
                      - listitem [ref=e161]:
                        - link "Cluster Health Alerts" [ref=e162] [cursor=pointer]:
                          - /url: /clusters/cluster-management/health-alerts/
                      - listitem [ref=e163]:
                        - generic [ref=e164]:
                          - link "Backup and Restore" [expanded] [ref=e165] [cursor=pointer]:
                            - /url: /clusters/cluster-management/backup-restore/
                          - button "Toggle the collapsible sidebar category 'Backup and Restore'" [ref=e166] [cursor=pointer]
                        - list [ref=e167]:
                          - listitem [ref=e168]:
                            - link "Add Backup Location using Static Credentials" [ref=e169] [cursor=pointer]:
                              - /url: /clusters/cluster-management/backup-restore/add-backup-location-static/
                          - listitem [ref=e170]:
                            - link "Add Backup Location using Dynamic Credentials" [ref=e171] [cursor=pointer]:
                              - /url: /clusters/cluster-management/backup-restore/add-backup-location-dynamic/
                          - listitem [ref=e172]:
                            - link "Create Cluster Backup" [ref=e173] [cursor=pointer]:
                              - /url: /clusters/cluster-management/backup-restore/create-cluster-backup/
                          - listitem [ref=e174]:
                            - link "Restore Cluster Backup" [ref=e175] [cursor=pointer]:
                              - /url: /clusters/cluster-management/backup-restore/restore-cluster-backup/
                          - listitem [ref=e176]:
                            - link "Configure etcd Backup" [ref=e177] [cursor=pointer]:
                              - /url: /clusters/cluster-management/backup-restore/enable-etcd-backup/
                      - listitem [ref=e178]:
                        - link "Renew Cluster PKI Certificates" [ref=e179] [cursor=pointer]:
                          - /url: /clusters/cluster-management/certificate-management/
                      - listitem [ref=e180]:
                        - link "Compliance Scan" [ref=e181] [cursor=pointer]:
                          - /url: /clusters/cluster-management/compliance-scan/
                      - listitem [ref=e182]:
                        - link "OS Patching" [ref=e183] [cursor=pointer]:
                          - /url: /clusters/cluster-management/os-patching/
                      - listitem [ref=e184]:
                        - link "Cost Visibility" [ref=e185] [cursor=pointer]:
                          - /url: /clusters/cluster-management/cloud-cost/
                      - listitem [ref=e186]:
                        - link "Workload Visibility" [ref=e187] [cursor=pointer]:
                          - /url: /clusters/cluster-management/workloads/
                      - listitem [ref=e188]:
                        - link "Node Labels" [ref=e189] [cursor=pointer]:
                          - /url: /clusters/cluster-management/node-labels/
                      - listitem [ref=e190]:
                        - link "Taints and Tolerations" [ref=e191] [cursor=pointer]:
                          - /url: /clusters/cluster-management/taints/
                      - listitem [ref=e192]:
                        - link "RBAC and Namespace Support" [ref=e193] [cursor=pointer]:
                          - /url: /clusters/cluster-management/cluster-rbac/
                      - listitem [ref=e194]:
                        - link "Namespace Management" [ref=e195] [cursor=pointer]:
                          - /url: /clusters/cluster-management/namespace-management/
                      - listitem [ref=e196]:
                        - link "Palette Macros" [ref=e197] [cursor=pointer]:
                          - /url: /clusters/cluster-management/macros/
                      - listitem [ref=e198]:
                        - link "Pack Monitoring" [ref=e199] [cursor=pointer]:
                          - /url: /clusters/cluster-management/pack-monitoring/
                      - listitem [ref=e200]:
                        - link "Kubeconfig" [ref=e201] [cursor=pointer]:
                          - /url: /clusters/cluster-management/kubeconfig/
                      - listitem [ref=e202]:
                        - link "Kubectl" [ref=e203] [cursor=pointer]:
                          - /url: /clusters/cluster-management/palette-webctl/
                      - listitem [ref=e204]:
                        - generic [ref=e205]:
                          - link "Platform Settings" [ref=e206] [cursor=pointer]:
                            - /url: /clusters/cluster-management/platform-settings/
                          - button "Toggle the collapsible sidebar category 'Platform Settings'" [ref=e207] [cursor=pointer]
                      - listitem [ref=e208]:
                        - link "Map and Filter Clusters" [ref=e209] [cursor=pointer]:
                          - /url: /clusters/cluster-management/cluster-map-filters/
                      - listitem [ref=e210]:
                        - link "Node Pools" [ref=e211] [cursor=pointer]:
                          - /url: /clusters/cluster-management/node-pool/
                      - listitem [ref=e212]:
                        - link "Configure Applications to Use Proxy Server" [ref=e213] [cursor=pointer]:
                          - /url: /clusters/cluster-management/cluster-proxy/
                      - listitem [ref=e214]:
                        - link "Spectro Kubernetes Dashboard" [ref=e215] [cursor=pointer]:
                          - /url: /clusters/cluster-management/spectro-kubernetes-dashboard/
                      - listitem [ref=e216]:
                        - link "Cluster Removal" [ref=e217] [cursor=pointer]:
                          - /url: /clusters/cluster-management/remove-clusters/
                      - listitem [ref=e218]:
                        - link "Image Swap" [ref=e219] [cursor=pointer]:
                          - /url: /clusters/cluster-management/image-swap/
                      - listitem [ref=e220]:
                        - link "Maintenance Mode" [ref=e221] [cursor=pointer]:
                          - /url: /clusters/cluster-management/maintenance-mode/
                  - listitem [ref=e222]:
                    - generic [ref=e223]:
                      - link "Cluster Groups" [ref=e224] [cursor=pointer]:
                        - /url: /clusters/cluster-groups/
                        - img [ref=e226]
                        - text: Cluster Groups
                      - button "Toggle the collapsible sidebar category 'Cluster Groups'" [ref=e228] [cursor=pointer]
                  - listitem [ref=e229]:
                    - generic [ref=e230]:
                      - link "Private Cloud Gateway" [ref=e231] [cursor=pointer]:
                        - /url: /clusters/pcg/
                        - img [ref=e233]
                        - text: Private Cloud Gateway
                      - button "Toggle the collapsible sidebar category 'Private Cloud Gateway'" [ref=e235] [cursor=pointer]
              - listitem [ref=e236]:
                - generic [ref=e237]:
                  - link "Bring Your Own OS (BYOOS)" [ref=e238] [cursor=pointer]:
                    - /url: /byoos/
                    - img [ref=e240]
                    - text: Bring Your Own OS (BYOOS)
                  - button "Toggle the collapsible sidebar category 'Bring Your Own OS (BYOOS)'" [ref=e242] [cursor=pointer]
              - listitem [ref=e243]:
                - generic [ref=e244]:
                  - link "Palette Dev Engine" [ref=e245] [cursor=pointer]:
                    - /url: /devx/
                    - img [ref=e247]
                    - text: Palette Dev Engine
                  - button "Toggle the collapsible sidebar category 'Palette Dev Engine'" [ref=e249] [cursor=pointer]
              - listitem [ref=e250]:
                - generic [ref=e251]:
                  - link "Virtual Machine Orchestrator" [ref=e252] [cursor=pointer]:
                    - /url: /vm-management/
                    - img [ref=e254]
                    - text: Virtual Machine Orchestrator
                  - button "Toggle the collapsible sidebar category 'Virtual Machine Orchestrator'" [ref=e256] [cursor=pointer]
              - listitem [ref=e257]:
                - generic [ref=e258]:
                  - link "Workspaces" [ref=e259] [cursor=pointer]:
                    - /url: /workspace/
                    - img [ref=e261]
                    - text: Workspaces
                  - button "Toggle the collapsible sidebar category 'Workspaces'" [ref=e263] [cursor=pointer]
              - listitem [ref=e264]:
                - generic [ref=e265]:
                  - link "Packs List" [ref=e266] [cursor=pointer]:
                    - /url: /integrations/
                    - img [ref=e268]
                    - text: Packs List
                  - button "Toggle the collapsible sidebar category 'Packs List'" [ref=e270] [cursor=pointer]
              - listitem [ref=e271]:
                - generic [ref=e272]:
                  - link "User & Role Management" [ref=e273] [cursor=pointer]:
                    - /url: /user-management/
                    - img [ref=e275]
                    - text: User & Role Management
                  - button "Toggle the collapsible sidebar category 'User & Role Management'" [ref=e277] [cursor=pointer]
              - listitem [ref=e278]:
                - generic [ref=e279]:
                  - link "Registries and Packs" [ref=e280] [cursor=pointer]:
                    - /url: /registries-and-packs/
                    - img [ref=e282]
                    - text: Registries and Packs
                  - button "Toggle the collapsible sidebar category 'Registries and Packs'" [ref=e284] [cursor=pointer]
              - listitem [ref=e285]:
                - generic [ref=e286]:
                  - link "Security" [ref=e287] [cursor=pointer]:
                    - /url: /security/
                    - img [ref=e289]
                    - text: Security
                  - button "Toggle the collapsible sidebar category 'Security'" [ref=e291] [cursor=pointer]
              - listitem [ref=e292]:
                - generic [ref=e293]:
                  - link "Audit Logs" [ref=e294] [cursor=pointer]:
                    - /url: /audit-logs/
                    - img [ref=e296]
                    - text: Audit Logs
                  - button "Toggle the collapsible sidebar category 'Audit Logs'" [ref=e298] [cursor=pointer]
              - listitem [ref=e299]:
                - generic [ref=e300]:
                  - link "Self-Hosted Palette" [ref=e301] [cursor=pointer]:
                    - /url: /enterprise-version/
                    - img [ref=e303]
                    - text: Self-Hosted Palette
                  - button "Toggle the collapsible sidebar category 'Self-Hosted Palette'" [ref=e305] [cursor=pointer]
              - listitem [ref=e306]:
                - generic [ref=e307]:
                  - link "Palette VerteX" [ref=e308] [cursor=pointer]:
                    - /url: /vertex/
                    - img [ref=e310]
                    - text: Palette VerteX
                  - button "Toggle the collapsible sidebar category 'Palette VerteX'" [ref=e312] [cursor=pointer]
              - listitem [ref=e313]:
                - generic [ref=e314]:
                  - link "Tenant Administration" [ref=e315] [cursor=pointer]:
                    - /url: /tenant-settings/
                    - img [ref=e317]
                    - text: Tenant Administration
                  - button "Toggle the collapsible sidebar category 'Tenant Administration'" [ref=e319] [cursor=pointer]
              - listitem [ref=e320]:
                - generic [ref=e321]:
                  - link "Automation" [ref=e322] [cursor=pointer]:
                    - /url: /automation/
                    - img [ref=e324]
                    - text: Automation
                  - button "Toggle the collapsible sidebar category 'Automation'" [ref=e326] [cursor=pointer]
              - listitem [ref=e327]:
                - generic [ref=e328]:
                  - link "Troubleshooting" [ref=e329] [cursor=pointer]:
                    - /url: /troubleshooting/
                    - img [ref=e331]
                    - text: Troubleshooting
                  - button "Toggle the collapsible sidebar category 'Troubleshooting'" [ref=e333] [cursor=pointer]
              - listitem [ref=e334]:
                - link "Glossary" [ref=e335] [cursor=pointer]:
                  - /url: /glossary-all/
                  - img [ref=e337]
                  - text: Glossary
              - listitem [ref=e339]:
                - generic [ref=e340]:
                  - link "Compliance & Legal" [ref=e341] [cursor=pointer]:
                    - /url: /legal-licenses/
                    - img [ref=e343]
                    - text: Compliance & Legal
                  - button "Toggle the collapsible sidebar category 'Compliance & Legal'" [ref=e345] [cursor=pointer]
              - listitem [ref=e346]:
                - button "Privacy Settings" [ref=e347] [cursor=pointer]:
                  - img [ref=e348]
                  - text: Privacy Settings
      - main [ref=e350]:
        - generic [ref=e352]:
          - generic [ref=e354]:
            - article [ref=e355]:
              - navigation "Breadcrumbs" [ref=e356]:
                - list [ref=e357]:
                  - listitem [ref=e358]:
                    - link "Home page" [ref=e359] [cursor=pointer]:
                      - /url: /
                      - img [ref=e360]
                  - listitem [ref=e362]:
                    - link "Clusters" [ref=e363] [cursor=pointer]:
                      - /url: /clusters/
                  - listitem [ref=e364]:
                    - link "Manage Clusters" [ref=e365] [cursor=pointer]:
                      - /url: /clusters/cluster-management/
                  - listitem [ref=e366]:
                    - link "Backup and Restore" [ref=e367] [cursor=pointer]:
                      - /url: /clusters/cluster-management/backup-restore/
                  - listitem [ref=e368]:
                    - generic [ref=e369]: Add Backup Location using Dynamic Credentials
              - generic [ref=e370]:
                - heading "Add Backup Location using Dynamic Credentials" [level=1] [ref=e372]
                - paragraph [ref=e373]:
                  - text: This guide provides instructions for how to add a backup location in Palette using dynamic access credentials. You use the dynamic access credentials to authenticate Palette with the backup location service provider. Refer to the
                  - link "Backup Location" [ref=e374] [cursor=pointer]:
                    - /url: /clusters/cluster-management/backup-restore/#backup-locations-and-credentials
                  - text: section to learn more about the supported service providers.
                - paragraph [ref=e375]: Depending on the infrastructure provider, there may be limitations or different prerequisites.
                - heading "Dynamic Credentials with AWS STSDirect link to Dynamic Credentials with AWS STS" [level=2] [ref=e376]:
                  - text: Dynamic Credentials with AWS STS
                  - link "Direct link to Dynamic Credentials with AWS STS" [ref=e377] [cursor=pointer]:
                    - /url: "#dynamic-credentials-with-aws-sts"
                    - text: "#"
                - paragraph [ref=e378]: To support dynamic credentials with AWS, Palette uses the AWS Security Token Service (STS) authentication method. You can use AWS STS when adding an S3 bucket as the backup location. The following sections outline the prerequisites and provide detailed steps to add an S3 bucket as the backup location using the STS authentication method.
                - generic [ref=e379]:
                  - generic [ref=e380]:
                    - img [ref=e382]
                    - text: warning
                  - paragraph [ref=e385]: Palette supports AWS STS only when your Palette’s hosting environment and the backup location service provider are the same. Palette SaaS is hosted on AWS, so you can use AWS STS to add an S3 bucket as the backup location. Similarly, if you have a self-hosted Palette or Palette VerteX deployed in AWS, you can use AWS STS to add an S3 bucket as the backup location. Otherwise, you cannot use AWS STS to add an S3 bucket as the backup location.
                - paragraph [ref=e386]: You can use the same AWS account in which you deploy your Kubernetes cluster to add an S3 bucket as the backup location. You can also use a different AWS account to add an S3 bucket as the backup location. Select the tab below that best matches your use case.
                - list [ref=e387]:
                  - listitem [ref=e388]:
                    - paragraph [ref=e389]:
                      - link "Single Cloud Account with AWS STS" [ref=e390] [cursor=pointer]:
                        - /url: "#single-cloud-account-with-aws-sts"
                  - listitem [ref=e391]:
                    - paragraph [ref=e392]:
                      - link "Multiple Cloud Accounts with AWS STS" [ref=e393] [cursor=pointer]:
                        - /url: "#multiple-cloud-accounts-with-aws-sts"
                - heading "Single Cloud Account with AWS STSDirect link to Single Cloud Account with AWS STS" [level=2] [ref=e394]:
                  - text: Single Cloud Account with AWS STS
                  - link "Direct link to Single Cloud Account with AWS STS" [ref=e395] [cursor=pointer]:
                    - /url: "#single-cloud-account-with-aws-sts"
                    - text: "#"
                - paragraph [ref=e396]: Use the following steps to add an S3 bucket as the backup location using the STS authentication method when you have one cloud account.
                - heading "PrerequisitesDirect link to Prerequisites" [level=3] [ref=e397]:
                  - text: Prerequisites
                  - link "Direct link to Prerequisites" [ref=e398] [cursor=pointer]:
                    - /url: "#prerequisites"
                    - text: "#"
                - list [ref=e399]:
                  - listitem [ref=e400]:
                    - paragraph [ref=e401]:
                      - text: If you are using a self-hosted Palette or Vertex instance, you must configure an AWS account at the instance-level to allow tenants to add AWS accounts using STS. For more information, refer to
                      - link "Enable Adding AWS Accounts Using STS - Palette" [ref=e402] [cursor=pointer]:
                        - /url: /enterprise-version/system-management/configure-aws-sts-account/
                      - text: or
                      - link "Enable Adding AWS Accounts Using STS - VerteX" [ref=e403] [cursor=pointer]:
                        - /url: /vertex/system-management/configure-aws-sts-account/
                  - listitem [ref=e404]:
                    - paragraph [ref=e405]: Both your Palette environment instance and the S3 bucket are hosted on AWS. This prerequisite is more applicable to self-hosted Palette and Palette VerteX customers. Palette SaaS in hosted in an AWS environment.
                  - listitem [ref=e406]:
                    - paragraph [ref=e407]:
                      - text: An AWS account. This account is assumed to be the same account where you deploy Kubernetes clusters. Refer to the
                      - link "Multiple Cloud Accounts with AWS STS" [ref=e408] [cursor=pointer]:
                        - /url: /clusters/cluster-management/backup-restore/add-backup-location-dynamic/#multiple-cloud-accounts-with-aws-sts
                      - text: section to learn how to add a backup location when the cluster deployment cloud account differs from the backup cloud account.
                  - listitem [ref=e409]:
                    - paragraph [ref=e410]: An S3 bucket in the AWS account. The bucket will store the backup of your clusters or workspaces.
                  - listitem [ref=e411]:
                    - paragraph [ref=e412]:
                      - text: The following IAM policy must be created in your AWS Account. Replace the
                      - code [ref=e413]: BUCKET-NAME
                      - text: placeholder in the policy below with your bucket name. Refer to the
                      - link "Creating IAM policies" [ref=e414] [cursor=pointer]:
                        - /url: https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create-console.html
                      - text: for additional guidance.
                    - generic [ref=e416]:
                      - code [ref=e418]:
                        - generic [ref=e419]: "{"
                        - generic [ref=e420]: "\"Version\": \"2012-10-17\","
                        - generic [ref=e421]: "\"Statement\": ["
                        - generic [ref=e422]: "{"
                        - generic [ref=e423]: "\"Effect\": \"Allow\","
                        - generic [ref=e424]: "\"Action\": ["
                        - generic [ref=e425]: "\"ec2:DescribeVolumes\","
                        - generic [ref=e426]: "\"ec2:DescribeSnapshots\","
                        - generic [ref=e427]: "\"ec2:CreateTags\","
                        - generic [ref=e428]: "\"ec2:CreateVolume\","
                        - generic [ref=e429]: "\"ec2:CreateSnapshot\","
                        - generic [ref=e430]: "\"ec2:DeleteSnapshot\""
                        - generic [ref=e431]: "],"
                        - generic [ref=e432]: "\"Resource\": \"*\""
                        - generic [ref=e433]: "},"
                        - generic [ref=e434]: "{"
                        - generic [ref=e435]: "\"Effect\": \"Allow\","
                        - generic [ref=e436]: "\"Action\": ["
                        - generic [ref=e437]: "\"s3:GetObject\","
                        - generic [ref=e438]: "\"s3:DeleteObject\","
                        - generic [ref=e439]: "\"s3:PutObject\","
                        - generic [ref=e440]: "\"s3:AbortMultipartUpload\","
                        - generic [ref=e441]: "\"s3:ListMultipartUploadParts\""
                        - generic [ref=e442]: "],"
                        - generic [ref=e443]: "\"Resource\": [\"arn:aws:s3:::BUCKET-NAME/*\"]"
                        - generic [ref=e444]: "},"
                        - generic [ref=e445]: "{"
                        - generic [ref=e446]: "\"Effect\": \"Allow\","
                        - generic [ref=e447]: "\"Action\": [\"s3:ListBucket\"],"
                        - generic [ref=e448]: "\"Resource\": [\"arn:aws:s3:::BUCKET-NAME\"]"
                        - generic [ref=e449]: "}"
                        - generic [ref=e450]: "]"
                        - generic [ref=e451]: "}"
                      - button "Copy code to clipboard" [ref=e453] [cursor=pointer]:
                        - generic [ref=e454]:
                          - img [ref=e455]
                          - img [ref=e457]
                  - listitem [ref=e459]:
                    - paragraph [ref=e460]:
                      - text: If the S3 bucket is using a customer managed AWS Key Management Service (KMS) key for server-side encryption, ensure the Palette IAM role has the necessary permissions to access the KMS key. Otherwise, Palette will be unable to put objects in the S3 bucket, resulting in backup or restore failure. Check out the
                      - link "Troubleshooting key access" [ref=e461] [cursor=pointer]:
                        - /url: https://docs.aws.amazon.com/kms/latest/developerguide/policy-evaluation.html
                      - text: guide to learn more about common KMS issues.
                  - listitem [ref=e462]:
                    - paragraph [ref=e463]: If you are using a custom Certificate Authority (CA) for SSL/TLS connections, provide the x509 certificate in Privacy-Enhanced Mail (PEM) format to Palette.
                    - generic [ref=e464]:
                      - generic [ref=e465]:
                        - img [ref=e467]
                        - text: tip
                      - paragraph [ref=e470]:
                        - text: Use the IAM Policy Simulator to verify the IAM role has the necessary permissions to access a customer managed KMS key. Refer to the
                        - link "Testing IAM policies with the IAM policy simulator" [ref=e471] [cursor=pointer]:
                          - /url: https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_testing-policies.html
                        - text: guide to learn more.
                - heading "InstructionsDirect link to Instructions" [level=3] [ref=e472]:
                  - text: Instructions
                  - link "Direct link to Instructions" [ref=e473] [cursor=pointer]:
                    - /url: "#instructions"
                    - text: "#"
                - list [ref=e474]:
                  - listitem [ref=e475]:
                    - paragraph [ref=e476]:
                      - text: Log in to
                      - link "Palette" [ref=e477] [cursor=pointer]:
                        - /url: https://console.spectrocloud.com/
                      - text: .
                  - listitem [ref=e478]:
                    - paragraph [ref=e479]:
                      - text: Navigate to
                      - strong [ref=e480]: Project Settings
                      - text: and click on
                      - strong [ref=e481]: Backup Locations
                      - text: .
                  - listitem [ref=e482]:
                    - paragraph [ref=e483]:
                      - text: Click on the
                      - strong [ref=e484]: Add New Backup Location
                      - text: button. Palette will open a wizard to configure the new backup location, as highlighted in the screenshot below.
                    - paragraph [ref=e485]:
                      - img "A screenshot highlighting the wizard and configuration fields to add a backup location in Palette." [ref=e486]
                  - listitem [ref=e487]:
                    - paragraph [ref=e488]: Fill out the input fields listed in the table.
                    - table [ref=e489]:
                      - rowgroup [ref=e490]:
                        - row "Configuration Field Value" [ref=e491]:
                          - cell "Configuration Field" [ref=e492]:
                            - strong [ref=e493]: Configuration Field
                          - cell "Value" [ref=e494]:
                            - strong [ref=e495]: Value
                      - rowgroup [ref=e496]:
                        - row "Location Name Provide a name of your choice." [ref=e497]:
                          - cell "Location Name" [ref=e498]:
                            - strong [ref=e499]: Location Name
                          - cell "Provide a name of your choice." [ref=e500]
                        - row "Location Provider Select AWS from the drop-down Menu." [ref=e501]:
                          - cell "Location Provider" [ref=e502]:
                            - strong [ref=e503]: Location Provider
                          - cell "Select AWS from the drop-down Menu." [ref=e504]:
                            - text: Select AWS from the
                            - strong [ref=e505]: drop-down
                            - text: Menu.
                        - row "Certificate Provide the CA bundle in PEM format if you are using a custom certificate bundle to establish SSL/TLS sessions." [ref=e506]:
                          - cell "Certificate" [ref=e507]:
                            - strong [ref=e508]: Certificate
                          - cell "Provide the CA bundle in PEM format if you are using a custom certificate bundle to establish SSL/TLS sessions." [ref=e509]
                        - row "S3 Bucket The name of the S3 bucket you created in the object store. The bucket name must be DNS-compliant. For more information, refer to the Bucket naming rules defined by AWS." [ref=e510]:
                          - cell "S3 Bucket" [ref=e511]:
                            - strong [ref=e512]: S3 Bucket
                          - cell "The name of the S3 bucket you created in the object store. The bucket name must be DNS-compliant. For more information, refer to the Bucket naming rules defined by AWS." [ref=e513]:
                            - text: The name of the S3 bucket you created in the object store. The bucket name must be DNS-compliant. For more information, refer to the
                            - link "Bucket naming rules" [ref=e514] [cursor=pointer]:
                              - /url: https://docs.aws.amazon.com/AmazonS3/latest/userguide/bucketnamingrules.html
                            - text: defined by AWS.
                        - row "Region Region where the S3 bucket is hosted. You can check region codes in the Service endpoints section in the AWS documentation." [ref=e515]:
                          - cell "Region" [ref=e516]:
                            - strong [ref=e517]: Region
                          - cell "Region where the S3 bucket is hosted. You can check region codes in the Service endpoints section in the AWS documentation." [ref=e518]:
                            - text: Region where the S3 bucket is hosted. You can check region codes in the
                            - link "Service endpoints" [ref=e519] [cursor=pointer]:
                              - /url: https://docs.aws.amazon.com/general/latest/gr/s3.html#s3_region
                            - text: section in the AWS documentation.
                        - row "S3 URL Optional S3 URL. If you choose to provide a value, refer to the Methods for accessing a bucket guide to determine the bucket URL and enable the Force S3 path style checkbox." [ref=e520]:
                          - cell "S3 URL" [ref=e521]:
                            - strong [ref=e522]: S3 URL
                          - cell "Optional S3 URL. If you choose to provide a value, refer to the Methods for accessing a bucket guide to determine the bucket URL and enable the Force S3 path style checkbox." [ref=e523]:
                            - text: Optional S3 URL. If you choose to provide a value, refer to the
                            - link "Methods for accessing a bucket" [ref=e524] [cursor=pointer]:
                              - /url: https://docs.aws.amazon.com/AmazonS3/latest/userguide/access-bucket-intro.html#virtual-host-style-url-ex
                            - text: guide to determine the bucket URL and enable the
                            - strong [ref=e525]: Force S3 path style
                            - text: checkbox.
                  - listitem [ref=e526]:
                    - paragraph [ref=e527]:
                      - text: Next, choose the
                      - strong [ref=e528]: STS
                      - text: authentication method. When you choose the STS authentication method, you must create a new IAM role and provide its Amazon Resource Name (ARN) to Palette. Check out the
                      - link "Creating a role using custom trust policies" [ref=e529] [cursor=pointer]:
                        - /url: https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-custom.html
                      - text: guide from Amazon for additional guidance.
                  - listitem [ref=e530]:
                    - paragraph [ref=e531]:
                      - text: Log in to your AWS Account and create a new IAM role. Attach the IAM policy specified in the
                      - link "Prerequisites" [ref=e532] [cursor=pointer]:
                        - /url: "#prerequisites"
                      - text: section. Use the following configuration while creating the IAM role.
                - table [ref=e533]:
                  - rowgroup [ref=e534]:
                    - row "AWS Console Field Value" [ref=e535]:
                      - cell "AWS Console Field" [ref=e536]:
                        - strong [ref=e537]: AWS Console Field
                      - cell "Value" [ref=e538]:
                        - strong [ref=e539]: Value
                  - rowgroup [ref=e540]:
                    - row "Trusted entity type Select AWS account" [ref=e541]:
                      - cell "Trusted entity type" [ref=e542]
                      - cell "Select AWS account" [ref=e543]:
                        - text: Select
                        - emphasis [ref=e544]: AWS account
                    - row "AWS account Select the Another AWS account radio button." [ref=e545]:
                      - cell "AWS account" [ref=e546]
                      - cell "Select the Another AWS account radio button." [ref=e547]:
                        - text: Select the
                        - strong [ref=e548]: Another AWS account
                        - text: radio button.
                    - row "AWS Account ID Use the one displayed in Palette, which is Palette's account ID." [ref=e549]:
                      - cell "AWS Account ID" [ref=e550]
                      - cell "Use the one displayed in Palette, which is Palette's account ID." [ref=e551]
                    - row "Options Select the Require external ID checkbox." [ref=e552]:
                      - cell "Options" [ref=e553]
                      - cell "Select the Require external ID checkbox." [ref=e554]:
                        - text: Select the
                        - strong [ref=e555]: Require external ID
                        - text: checkbox.
                    - row "External ID Use the one displayed in Palette. Palette generates the external ID." [ref=e556]:
                      - cell "External ID" [ref=e557]
                      - cell "Use the one displayed in Palette. Palette generates the external ID." [ref=e558]
                    - row "Permissions policies Attach the IAM policy defined in the Prerequisites section above." [ref=e559]:
                      - cell "Permissions policies" [ref=e560]
                      - cell "Attach the IAM policy defined in the Prerequisites section above." [ref=e561]:
                        - text: Attach the IAM policy defined in the
                        - link "Prerequisites" [ref=e562] [cursor=pointer]:
                          - /url: "#prerequisites"
                        - text: section above.
                    - row "Role name Provide a name of your choice." [ref=e563]:
                      - cell "Role name" [ref=e564]
                      - cell "Provide a name of your choice." [ref=e565]
                    - row "Role description Provide an optional description." [ref=e566]:
                      - cell "Role description" [ref=e567]
                      - cell "Provide an optional description." [ref=e568]
                - paragraph [ref=e569]:
                  - img "A view of the IAM Role creation screen" [ref=e570]
                - list [ref=e571]:
                  - listitem [ref=e572]: Review the details of the newly created IAM role.
                - paragraph [ref=e573]:
                  - img "A view of the IAM Role creation summary screen" [ref=e574]
                - list [ref=e575]:
                  - listitem [ref=e576]:
                    - paragraph [ref=e577]: Copy the IAM role Amazon Resource Name (ARN)
                  - listitem [ref=e578]:
                    - paragraph [ref=e579]:
                      - text: Switch back to Palette, and resume the backup location creation wizard. Paste the copied IAM role ARN into the
                      - strong [ref=e580]: ARN
                      - text: input field.
                  - listitem [ref=e581]:
                    - paragraph [ref=e582]:
                      - text: Click on
                      - strong [ref=e583]: Validate
                      - text: . Palette will display a validation status message. If the validation status message indicates a success, proceed to the next step. If the validation status message indicates an error, review the error message and verify the IAM configurations you provided. Ensure you have provided the correct IAM role ARN, Palette external ID, and that the IAM role has the required IAM policy permissions mentioned in the
                      - link "Prerequisites" [ref=e584] [cursor=pointer]:
                        - /url: "#prerequisites"
                      - text: section.
                  - listitem [ref=e585]:
                    - paragraph [ref=e586]:
                      - text: Click on the
                      - strong [ref=e587]: Create
                      - text: button.
                - paragraph [ref=e588]: You now have a backup location for Palette to store the backup of your clusters or workspaces. This backup location uses AWS STS to authenticate Palette with the S3 bucket in the same AWS account you deploy your Kubernetes cluster.
                - heading "ValidateDirect link to Validate" [level=3] [ref=e589]:
                  - text: Validate
                  - link "Direct link to Validate" [ref=e590] [cursor=pointer]:
                    - /url: "#validate"
                    - text: "#"
                - list [ref=e591]:
                  - listitem [ref=e592]:
                    - paragraph [ref=e593]:
                      - text: Log in to
                      - link "Palette" [ref=e594] [cursor=pointer]:
                        - /url: https://console.spectrocloud.com/
                      - text: .
                  - listitem [ref=e595]:
                    - paragraph [ref=e596]:
                      - text: Navigate to
                      - strong [ref=e597]: Project Settings
                      - text: and click on
                      - strong [ref=e598]: Backup Locations
                      - text: .
                  - listitem [ref=e599]:
                    - paragraph [ref=e600]:
                      - text: The
                      - strong [ref=e601]: Backup Locations
                      - text: page will display a list of all backup locations configured for the current project.
                  - listitem [ref=e602]:
                    - paragraph [ref=e603]: Search for the newly added backup location in the list. The presence of the backup location validates that you successfully added a new backup location.
                - heading "Multiple Cloud Accounts with AWS STSDirect link to Multiple Cloud Accounts with AWS STS" [level=2] [ref=e604]:
                  - text: Multiple Cloud Accounts with AWS STS
                  - link "Direct link to Multiple Cloud Accounts with AWS STS" [ref=e605] [cursor=pointer]:
                    - /url: "#multiple-cloud-accounts-with-aws-sts"
                    - text: "#"
                - paragraph [ref=e606]:
                  - text: Suppose your Kubernetes cluster is deployed in
                  - emphasis [ref=e607]: AWS Account A
                  - text: ", and you want to create the backup in"
                  - emphasis [ref=e608]: AWS Account B
                  - text: ", but the Palette instance is hosted in"
                  - emphasis [ref=e609]: AWS Account C
                  - text: . In this scenario, Palette will allow you to use the STS authentication method to add a backup location. The diagram below presents this scenario and shows the order of authentication you must follow.
                - paragraph [ref=e610]:
                  - img "A diagram highlighting the order of authentication required when the backup cloud account differs from the cluster deployment cloud account." [ref=e611]
                - paragraph [ref=e612]: A multi-cloud account scenario requires you to perform the following authentication steps.
                - list [ref=e613]:
                  - listitem [ref=e614]:
                    - paragraph [ref=e615]:
                      - text: Grant Palette access to the cluster in AWS Account A. When you register a primary cloud account in Palette, you authenticate and authorize Palette to deploy clusters in the cloud account. Check out the
                      - link "Add AWS Account" [ref=e616] [cursor=pointer]:
                        - /url: /clusters/public-cloud/aws/add-aws-accounts/
                      - text: to guidance on how to add an AWS account in Palette.
                  - listitem [ref=e617]:
                    - paragraph [ref=e618]: Give Palette permission to use the S3 buckets in AWS Account B. Set the bucket permissions and link them to an IAM role. Then, update the IAM role to let Palette assume it.
                  - listitem [ref=e619]:
                    - paragraph [ref=e620]: Authorize the cluster with AWS Account B for S3 bucket access. Update the IAM role to allow Palette clusters to assume it.
                - paragraph [ref=e621]: Use the following steps to add an S3 bucket as the backup location using the STS authentication method when you have multiple cloud accounts.
                - heading "PrerequisitesDirect link to Prerequisites" [level=3] [ref=e622]:
                  - text: Prerequisites
                  - link "Direct link to Prerequisites" [ref=e623] [cursor=pointer]:
                    - /url: "#prerequisites-1"
                    - text: "#"
                - list [ref=e624]:
                  - listitem [ref=e625]:
                    - paragraph [ref=e626]:
                      - text: If you are using a self-hosted Palette or Vertex instance, you must configure an AWS account at the instance-level to allow tenants to add AWS accounts using STS. For more information, refer to
                      - link "Enable Adding AWS Accounts Using STS - Palette" [ref=e627] [cursor=pointer]:
                        - /url: /enterprise-version/system-management/configure-aws-sts-account/
                      - text: or
                      - link "Enable Adding AWS Accounts Using STS - VerteX" [ref=e628] [cursor=pointer]:
                        - /url: /vertex/system-management/configure-aws-sts-account/
                  - listitem [ref=e629]:
                    - paragraph [ref=e630]: Both your Palette environment instance and the S3 bucket are hosted on AWS. This prerequisite is more applicable to self-hosted Palette and Palette VerteX customers. Palette SaaS is hosted in an AWS environment.
                  - listitem [ref=e631]:
                    - paragraph [ref=e632]:
                      - text: An AWS account where you deploy Kubernetes clusters. This account will be referred to as
                      - emphasis [ref=e633]: AWS Account A
                      - text: .
                  - listitem [ref=e634]:
                    - paragraph [ref=e635]:
                      - text: Another AWS account where you want to create the backup location. This account will be referred to as
                      - emphasis [ref=e636]: AWS Account B
                      - text: . This is the AWS account where you want to create the backup location.
                  - listitem [ref=e637]:
                    - paragraph [ref=e638]: An S3 bucket in AWS Account B. The bucket will store the backup of your clusters or workspaces.
                  - listitem [ref=e639]:
                    - paragraph [ref=e640]: If you are using a custom Certificate Authority (CA) for SSL/TLS connections, provide the x509 certificate in Privacy-Enhanced Mail (PEM) format to Palette.
                  - listitem [ref=e641]:
                    - paragraph [ref=e642]:
                      - text: The following IAM policy must be created in your AWS Account B. Replace the
                      - code [ref=e643]: BUCKET-NAME
                      - text: placeholder in the policy below with your bucket name. Refer to the
                      - link "Creating IAM policies" [ref=e644] [cursor=pointer]:
                        - /url: https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create-console.html
                      - text: for additional guidance.
                - generic [ref=e646]:
                  - code [ref=e648]:
                    - generic [ref=e649]: "{"
                    - generic [ref=e650]: "\"Version\": \"2012-10-17\","
                    - generic [ref=e651]: "\"Statement\": ["
                    - generic [ref=e652]: "{"
                    - generic [ref=e653]: "\"Effect\": \"Allow\","
                    - generic [ref=e654]: "\"Action\": ["
                    - generic [ref=e655]: "\"ec2:DescribeVolumes\","
                    - generic [ref=e656]: "\"ec2:DescribeSnapshots\","
                    - generic [ref=e657]: "\"ec2:CreateTags\","
                    - generic [ref=e658]: "\"ec2:CreateVolume\","
                    - generic [ref=e659]: "\"ec2:CreateSnapshot\","
                    - generic [ref=e660]: "\"ec2:DeleteSnapshot\""
                    - generic [ref=e661]: "],"
                    - generic [ref=e662]: "\"Resource\": \"*\""
                    - generic [ref=e663]: "},"
                    - generic [ref=e664]: "{"
                    - generic [ref=e665]: "\"Effect\": \"Allow\","
                    - generic [ref=e666]: "\"Action\": ["
                    - generic [ref=e667]: "\"s3:GetObject\","
                    - generic [ref=e668]: "\"s3:DeleteObject\","
                    - generic [ref=e669]: "\"s3:PutObject\","
                    - generic [ref=e670]: "\"s3:AbortMultipartUpload\","
                    - generic [ref=e671]: "\"s3:ListMultipartUploadParts\""
                    - generic [ref=e672]: "],"
                    - generic [ref=e673]: "\"Resource\": [\"arn:aws:s3:::BUCKET-NAME/*\"]"
                    - generic [ref=e674]: "},"
                    - generic [ref=e675]: "{"
                    - generic [ref=e676]: "\"Effect\": \"Allow\","
                    - generic [ref=e677]: "\"Action\": [\"s3:ListBucket\"],"
                    - generic [ref=e678]: "\"Resource\": [\"arn:aws:s3:::BUCKET-NAME\"]"
                    - generic [ref=e679]: "}"
                    - generic [ref=e680]: "]"
                    - generic [ref=e681]: "}"
                  - button "Copy code to clipboard" [ref=e683] [cursor=pointer]:
                    - generic [ref=e684]:
                      - img [ref=e685]
                      - img [ref=e687]
                - heading "InstructionsDirect link to Instructions" [level=3] [ref=e689]:
                  - text: Instructions
                  - link "Direct link to Instructions" [ref=e690] [cursor=pointer]:
                    - /url: "#instructions-1"
                    - text: "#"
                - list [ref=e691]:
                  - listitem [ref=e692]:
                    - paragraph [ref=e693]:
                      - text: Log in to
                      - link "Palette" [ref=e694] [cursor=pointer]:
                        - /url: https://console.spectrocloud.com/
                      - text: .
                  - listitem [ref=e695]:
                    - paragraph [ref=e696]:
                      - text: Navigate to
                      - strong [ref=e697]: Project Settings
                      - text: and click on
                      - strong [ref=e698]: Backup Locations
                      - text: .
                  - listitem [ref=e699]:
                    - paragraph [ref=e700]:
                      - text: Click on the
                      - strong [ref=e701]: Add New Backup Location
                      - text: button. Palette will open a wizard to configure the new backup location, as shown in the screenshot below.
                    - paragraph [ref=e702]:
                      - img "A screenshot highlighting the wizard and configuration fields to add a backup location in Palette." [ref=e703]
                  - listitem [ref=e704]:
                    - paragraph [ref=e705]: Fill out the input fields listed in the table below.
                    - table [ref=e706]:
                      - rowgroup [ref=e707]:
                        - row "Configuration Field Value" [ref=e708]:
                          - cell "Configuration Field" [ref=e709]:
                            - strong [ref=e710]: Configuration Field
                          - cell "Value" [ref=e711]:
                            - strong [ref=e712]: Value
                      - rowgroup [ref=e713]:
                        - row "Location Name Provide a name of your choice." [ref=e714]:
                          - cell "Location Name" [ref=e715]:
                            - strong [ref=e716]: Location Name
                          - cell "Provide a name of your choice." [ref=e717]
                        - row "Location Provider Select AWS from the drop-down Menu." [ref=e718]:
                          - cell "Location Provider" [ref=e719]:
                            - strong [ref=e720]: Location Provider
                          - cell "Select AWS from the drop-down Menu." [ref=e721]:
                            - text: Select AWS from the
                            - strong [ref=e722]: drop-down
                            - text: Menu.
                        - row "Certificate Optional service provider x509 certificate." [ref=e723]:
                          - cell "Certificate" [ref=e724]:
                            - strong [ref=e725]: Certificate
                          - cell "Optional service provider x509 certificate." [ref=e726]
                        - row "S3 Bucket The S3 bucket name you created in the object store. The bucket name must be DNS-compliant. For more information, refer to the Bucket naming rules defined by AWS." [ref=e727]:
                          - cell "S3 Bucket" [ref=e728]:
                            - strong [ref=e729]: S3 Bucket
                          - cell "The S3 bucket name you created in the object store. The bucket name must be DNS-compliant. For more information, refer to the Bucket naming rules defined by AWS." [ref=e730]:
                            - text: The S3 bucket name you created in the object store. The bucket name must be DNS-compliant. For more information, refer to the
                            - link "Bucket naming rules" [ref=e731] [cursor=pointer]:
                              - /url: https://docs.aws.amazon.com/AmazonS3/latest/userguide/bucketnamingrules.html
                            - text: defined by AWS.
                        - row "Region Region where the S3 bucket is hosted. You can check the region code from the Service endpoints section in the AWS documentation." [ref=e732]:
                          - cell "Region" [ref=e733]:
                            - strong [ref=e734]: Region
                          - cell "Region where the S3 bucket is hosted. You can check the region code from the Service endpoints section in the AWS documentation." [ref=e735]:
                            - text: Region where the S3 bucket is hosted. You can check the region code from the
                            - link "Service endpoints" [ref=e736] [cursor=pointer]:
                              - /url: https://docs.aws.amazon.com/general/latest/gr/s3.html#s3_region
                            - text: section in the AWS documentation.
                        - row "S3 URL Optional S3 bucket URL. If you provide a value, refer to the Methods for accessing a bucket guide to determine the bucket URL, and select the Force S3 path style checkbox." [ref=e737]:
                          - cell "S3 URL" [ref=e738]:
                            - strong [ref=e739]: S3 URL
                          - cell "Optional S3 bucket URL. If you provide a value, refer to the Methods for accessing a bucket guide to determine the bucket URL, and select the Force S3 path style checkbox." [ref=e740]:
                            - text: Optional S3 bucket URL. If you provide a value, refer to the
                            - link "Methods for accessing a bucket" [ref=e741] [cursor=pointer]:
                              - /url: https://docs.aws.amazon.com/AmazonS3/latest/userguide/access-bucket-intro.html#virtual-host-style-url-ex
                            - text: guide to determine the bucket URL, and select the
                            - strong [ref=e742]: Force S3 path style
                            - text: checkbox.
                  - listitem [ref=e743]:
                    - paragraph [ref=e744]:
                      - text: Next, choose the
                      - strong [ref=e745]: STS
                      - text: authentication method. When you choose the STS authentication method, you must create a new IAM role and provide its Amazon Resource Name (ARN) to Palette. Check out the
                      - link "Creating a role using custom trust policies" [ref=e746] [cursor=pointer]:
                        - /url: https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-custom.html
                      - text: guide from Amazon for additional guidance.
                  - listitem [ref=e747]:
                    - paragraph [ref=e748]:
                      - text: Switch to AWS Account B to create a new IAM role. The IAM role must have the necessary IAM policy attached, which you defined in the prerequisites section above. Refer to the
                      - link "Creating a role to delegate permissions to an IAM user" [ref=e749] [cursor=pointer]:
                        - /url: https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-user.html
                      - text: guide to learn how to create an IAM role. Use the following configuration while creating the IAM role.
                - table [ref=e750]:
                  - rowgroup [ref=e751]:
                    - row "AWS Console Field Value" [ref=e752]:
                      - cell "AWS Console Field" [ref=e753]:
                        - strong [ref=e754]: AWS Console Field
                      - cell "Value" [ref=e755]:
                        - strong [ref=e756]: Value
                  - rowgroup [ref=e757]:
                    - row "Trusted entity type Select the AWS account option." [ref=e758]:
                      - cell "Trusted entity type" [ref=e759]:
                        - strong [ref=e760]: Trusted entity type
                      - cell "Select the AWS account option." [ref=e761]:
                        - text: Select the
                        - strong [ref=e762]: AWS account
                        - text: option.
                    - row "AWS account Select the Another AWS account radio button." [ref=e763]:
                      - cell "AWS account" [ref=e764]:
                        - strong [ref=e765]: AWS account
                      - cell "Select the Another AWS account radio button." [ref=e766]:
                        - text: Select the
                        - strong [ref=e767]: Another AWS account
                        - text: radio button.
                    - row "AWS Account ID Use the one displayed in Palette, which is Palette's account ID." [ref=e768]:
                      - cell "AWS Account ID" [ref=e769]:
                        - strong [ref=e770]: AWS Account ID
                      - cell "Use the one displayed in Palette, which is Palette's account ID." [ref=e771]
                    - row "Options Select the Require external ID checkbox." [ref=e772]:
                      - cell "Options" [ref=e773]:
                        - strong [ref=e774]: Options
                      - cell "Select the Require external ID checkbox." [ref=e775]:
                        - text: Select the
                        - strong [ref=e776]: Require external ID
                        - text: checkbox.
                    - row "External ID Use the one displayed in Palette. Palette generates the external ID." [ref=e777]:
                      - cell "External ID" [ref=e778]
                      - cell "Use the one displayed in Palette. Palette generates the external ID." [ref=e779]
                    - row "Permissions policies Attach the IAM policy defined in the Prerequisites section above." [ref=e780]:
                      - cell "Permissions policies" [ref=e781]
                      - cell "Attach the IAM policy defined in the Prerequisites section above." [ref=e782]:
                        - text: Attach the IAM policy defined in the
                        - link "Prerequisites section" [ref=e783] [cursor=pointer]:
                          - /url: "#prerequisites"
                        - text: above.
                    - row "Role name Provide a name of your choice." [ref=e784]:
                      - cell "Role name" [ref=e785]
                      - cell "Provide a name of your choice." [ref=e786]
                    - row "Role description Provide an optional description." [ref=e787]:
                      - cell "Role description" [ref=e788]
                      - cell "Provide an optional description." [ref=e789]
                - paragraph [ref=e790]:
                  - img "A view of the IAM Role creation screen" [ref=e791]
                - list [ref=e792]:
                  - listitem [ref=e793]: Review the details of the newly created IAM role in AWS Account B.
                - paragraph [ref=e794]:
                  - img "A view of the IAM Role creation summary screen" [ref=e795]
                - list [ref=e796]:
                  - listitem [ref=e797]:
                    - paragraph [ref=e798]:
                      - text: In the IAM role's
                      - strong [ref=e799]: Trust relationships
                      - text: section, a relationship will already be defined for Palette so that Palette can assume this role under specified conditions.
                  - listitem [ref=e800]:
                    - paragraph [ref=e801]:
                      - text: Edit the existing trust policy of the newly created IAM role in AWS Account B. Append the following permission to the existing trust policy. This step will authorize the cluster in AWS Account A to assume the current IAM role. Replace the
                      - code [ref=e802]: "[ACCOUNT-ID-FOR-AWS-ACCOUNT-A]"
                      - text: placeholder with the AWS account ID for AWS Account A.
                - generic [ref=e804]:
                  - code [ref=e806]:
                    - generic [ref=e807]: "{"
                    - generic [ref=e808]: "\"Effect\": \"Allow\","
                    - generic [ref=e809]: "\"Principal\": {"
                    - generic [ref=e810]: "\"AWS\": \"arn:aws:iam::[ACCOUNT-ID-FOR-AWS-ACCOUNT-A]:root\""
                    - generic [ref=e811]: "},"
                    - generic [ref=e812]: "\"Action\": \"sts:AssumeRole\""
                    - generic [ref=e813]: "}"
                  - button "Copy code to clipboard" [ref=e815] [cursor=pointer]:
                    - generic [ref=e816]:
                      - img [ref=e817]
                      - img [ref=e819]
                - paragraph [ref=e821]:
                  - text: If you want to establish a trust relationship with a specific IAM role in AWS Account A, say
                  - emphasis [ref=e822]: SpectroCloudRole
                  - text: ", you can use the"
                  - code [ref=e823]: "\"arn:aws:iam::[ACCOUNT-ID-FOR-AWS-ACCOUNT-A]:role/SpectroCloudRole\""
                  - text: ARN instead.
                - paragraph [ref=e824]: Your IAM trust policy should be similar to the policy defined below. The IAM policy has two trust relationships, one for Palette and another for the AWS Account A.
                - generic [ref=e826]:
                  - code [ref=e828]:
                    - generic [ref=e829]: "{"
                    - generic [ref=e830]: "\"Version\": \"2012-10-17\","
                    - generic [ref=e831]: "\"Statement\": ["
                    - generic [ref=e832]: "{"
                    - generic [ref=e833]: "\"Effect\": \"Allow\","
                    - generic [ref=e834]: "\"Principal\": {"
                    - generic [ref=e835]: "\"AWS\": \"arn:aws:iam::[AWS-ACCOUNT-ID-OF-PALETTE]:root\""
                    - generic [ref=e836]: "},"
                    - generic [ref=e837]: "\"Action\": \"sts:AssumeRole\","
                    - generic [ref=e838]: "\"Condition\": {"
                    - generic [ref=e839]: "\"StringEquals\": {"
                    - generic [ref=e840]: "\"sts:ExternalId\": \"[YOUR-EXTERNAL-ID]\""
                    - generic [ref=e841]: "}"
                    - generic [ref=e842]: "}"
                    - generic [ref=e843]: "},"
                    - generic [ref=e844]: "{"
                    - generic [ref=e845]: "\"Effect\": \"Allow\","
                    - generic [ref=e846]: "\"Principal\": {"
                    - generic [ref=e847]: "\"AWS\": \"arn:aws:iam::[ACCOUNT-ID-FOR-AWS-ACCOUNT-A]:root\""
                    - generic [ref=e848]: "},"
                    - generic [ref=e849]: "\"Action\": \"sts:AssumeRole\""
                    - generic [ref=e850]: "}"
                    - generic [ref=e851]: "]"
                    - generic [ref=e852]: "}"
                  - button "Copy code to clipboard" [ref=e854] [cursor=pointer]:
                    - generic [ref=e855]:
                      - img [ref=e856]
                      - img [ref=e858]
                - paragraph [ref=e860]:
                  - text: In your case, the
                  - code [ref=e861]: "[AWS-ACCOUNT-ID-OF-PALETTE]"
                  - text: and
                  - code [ref=e862]: "[YOUR-EXTERNAL-ID]"
                  - text: placeholders will contain the values you used while creating the IAM role.
                - generic [ref=e863]:
                  - generic [ref=e864]:
                    - img [ref=e866]
                    - text: info
                  - paragraph [ref=e869]:
                    - text: Check out
                    - link "How to use trust policies with IAM roles" [ref=e870] [cursor=pointer]:
                      - /url: https://aws.amazon.com/blogs/security/how-to-use-trust-policies-with-iam-roles/
                    - text: for a deep dive into the IAM trust policies.
                - list [ref=e871]:
                  - listitem [ref=e872]:
                    - paragraph [ref=e873]: Copy the IAM role ARN from AWS Account B.
                  - listitem [ref=e874]:
                    - paragraph [ref=e875]:
                      - text: Switch back to Palette, and resume the backup location creation wizard. Paste the copied IAM role ARN into the
                      - strong [ref=e876]: ARN
                      - text: field.
                  - listitem [ref=e877]:
                    - paragraph [ref=e878]:
                      - text: Click on
                      - strong [ref=e879]: Validate
                      - text: . Palette will display a validation status message. If the validation status message indicates a success, proceed to the next step. If the validation status message indicates an error, review the error message and verify the IAM configurations you provided. Ensure you have provided the correct IAM role ARN, Palette external ID, and that the IAM role has the required IAM policy permissions mentioned in the
                      - link "Prerequisites section" [ref=e880] [cursor=pointer]:
                        - /url: "#prerequisites"
                      - text: .
                  - listitem [ref=e881]:
                    - paragraph [ref=e882]:
                      - text: Click on the
                      - strong [ref=e883]: Create
                      - text: button.
                - paragraph [ref=e884]: You now have a backup location for Palette to use to store the backup of your clusters or workspaces. This backup location is using AWS STS to authenticate Palette with the S3 bucket in AWS Account B.
                - heading "ValidateDirect link to Validate" [level=3] [ref=e885]:
                  - text: Validate
                  - link "Direct link to Validate" [ref=e886] [cursor=pointer]:
                    - /url: "#validate-1"
                    - text: "#"
                - paragraph [ref=e887]: Use the following steps to validate adding the new backup location.
                - list [ref=e888]:
                  - listitem [ref=e889]:
                    - paragraph [ref=e890]:
                      - text: Log in to
                      - link "Palette" [ref=e891] [cursor=pointer]:
                        - /url: https://console.spectrocloud.com/
                      - text: .
                  - listitem [ref=e892]:
                    - paragraph [ref=e893]:
                      - text: Navigate to
                      - strong [ref=e894]: Project Settings
                      - text: and click on
                      - strong [ref=e895]: Backup Locations
                      - text: .
                  - listitem [ref=e896]:
                    - paragraph [ref=e897]:
                      - text: The
                      - strong [ref=e898]: Backup Locations
                      - text: page will display a list of all backup locations configured for the current project.
                  - listitem [ref=e899]:
                    - paragraph [ref=e900]: Search for the newly added backup location in the list. The presence of the backup location validates that you have successfully added a new backup location.
                - heading "Next StepsDirect link to Next Steps" [level=2] [ref=e901]:
                  - text: Next Steps
                  - link "Direct link to Next Steps" [ref=e902] [cursor=pointer]:
                    - /url: "#next-steps"
                    - text: "#"
                - paragraph [ref=e903]:
                  - text: You can now use the newly added backup location to create a backup of your clusters or workspaces. Refer to the
                  - link "Create a Backup" [ref=e904] [cursor=pointer]:
                    - /url: /clusters/cluster-management/backup-restore/create-cluster-backup/
                  - text: guide to learn how to create a backup of your clusters or workspaces.
              - generic [ref=e905]:
                - generic [ref=e907]:
                  - text: "Tags:"
                  - list [ref=e908]:
                    - listitem [ref=e909]:
                      - link "clusters" [ref=e910] [cursor=pointer]:
                        - /url: /tags/clusters/
                    - listitem [ref=e911]:
                      - link "cluster management" [ref=e912] [cursor=pointer]:
                        - /url: /tags/cluster-management/
                    - listitem [ref=e913]:
                      - link "backup" [ref=e914] [cursor=pointer]:
                        - /url: /tags/backup/
                - link "Edit this page" [ref=e917] [cursor=pointer]:
                  - /url: https://github.com/spectrocloud/librarium/blob/master/docs/docs-content/clusters/cluster-management/backup-restore/add-backup-location-dynamic.md
                  - img [ref=e918]
                  - text: Edit this page
            - navigation "Docs pages" [ref=e922]:
              - link "Previous « Add Backup Location using Static Credentials" [ref=e923] [cursor=pointer]:
                - /url: /clusters/cluster-management/backup-restore/add-backup-location-static/
                - generic [ref=e924]: Previous
                - generic [ref=e925]: « Add Backup Location using Static Credentials
              - link "Next Create Cluster Backup »" [ref=e926] [cursor=pointer]:
                - /url: /clusters/cluster-management/backup-restore/create-cluster-backup/
                - generic [ref=e927]: Next
                - generic [ref=e928]: Create Cluster Backup »
          - list [ref=e931]:
            - listitem [ref=e932]:
              - link "Dynamic Credentials with AWS STS" [ref=e933] [cursor=pointer]:
                - /url: "#dynamic-credentials-with-aws-sts"
            - listitem [ref=e934]:
              - link "Single Cloud Account with AWS STS" [ref=e935] [cursor=pointer]:
                - /url: "#single-cloud-account-with-aws-sts"
              - list [ref=e936]:
                - listitem [ref=e937]:
                  - link "Prerequisites" [ref=e938] [cursor=pointer]:
                    - /url: "#prerequisites"
                - listitem [ref=e939]:
                  - link "Instructions" [ref=e940] [cursor=pointer]:
                    - /url: "#instructions"
                - listitem [ref=e941]:
                  - link "Validate" [ref=e942] [cursor=pointer]:
                    - /url: "#validate"
            - listitem [ref=e943]:
              - link "Multiple Cloud Accounts with AWS STS" [ref=e944] [cursor=pointer]:
                - /url: "#multiple-cloud-accounts-with-aws-sts"
              - list [ref=e945]:
                - listitem [ref=e946]:
                  - link "Prerequisites" [ref=e947] [cursor=pointer]:
                    - /url: "#prerequisites-1"
                - listitem [ref=e948]:
                  - link "Instructions" [ref=e949] [cursor=pointer]:
                    - /url: "#instructions-1"
                - listitem [ref=e950]:
                  - link "Validate" [ref=e951] [cursor=pointer]:
                    - /url: "#validate-1"
            - listitem [ref=e952]:
              - link "Next Steps" [ref=e953] [cursor=pointer]:
                - /url: "#next-steps"
  - button "Project Logo Ask AI" [ref=e954] [cursor=pointer]:
    - generic [ref=e957]:
      - img "Project Logo" [ref=e958]
      - paragraph [ref=e959]: Ask AI
```