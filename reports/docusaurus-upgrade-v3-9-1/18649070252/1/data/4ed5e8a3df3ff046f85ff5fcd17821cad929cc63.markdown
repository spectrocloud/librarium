# Page snapshot

```yaml
- generic [active] [ref=e1]:
  - generic [ref=e2]:
    - region "Skip to main content":
      - link "Skip to main content" [ref=e3] [cursor=pointer]:
        - /url: "#__docusaurus_skipToContent_fallback"
    - navigation "Main" [ref=e4]:
      - generic [ref=e5]:
        - generic [ref=e6]:
          - link "Spectro cloud logo" [ref=e7] [cursor=pointer]:
            - /url: /
            - img "Spectro cloud logo" [ref=e9]
          - link "Docs" [ref=e10] [cursor=pointer]:
            - /url: /release-notes/
          - link "Tutorials" [ref=e11] [cursor=pointer]:
            - /url: /tutorials/
          - link "Downloads" [ref=e12] [cursor=pointer]:
            - /url: /downloads/
          - link "API" [ref=e13] [cursor=pointer]:
            - /url: /api/introduction/
          - button "latest" [ref=e15] [cursor=pointer]
        - generic [ref=e16]:
          - link "GitHub repository" [ref=e17] [cursor=pointer]:
            - /url: https://github.com/spectrocloud/librarium
          - button "Switch between dark and light mode (currently system mode)" [ref=e19] [cursor=pointer]:
            - img [ref=e20]
          - button "Search (Control+k)" [ref=e23] [cursor=pointer]:
            - generic [ref=e24]:
              - img [ref=e25]
              - generic [ref=e28]: Search
    - generic [ref=e32]:
      - complementary [ref=e33]:
        - generic [ref=e35]:
          - link "Spectro cloud logo" [ref=e36] [cursor=pointer]:
            - /url: /
            - img "Spectro cloud logo" [ref=e37]
          - navigation "Docs sidebar" [ref=e38]:
            - list [ref=e39]:
              - listitem [ref=e40]:
                - link "Palette Tutorials" [ref=e41] [cursor=pointer]:
                  - /url: /tutorials/
                  - img [ref=e43]
                  - text: Palette Tutorials
              - listitem [ref=e45]:
                - generic [ref=e46]:
                  - link "Getting Started" [expanded] [ref=e47] [cursor=pointer]:
                    - /url: /tutorials/getting-started/
                    - img [ref=e49]
                    - text: Getting Started
                  - button "Toggle the collapsible sidebar category 'Getting Started'" [ref=e51] [cursor=pointer]
                - list [ref=e52]:
                  - listitem [ref=e53]:
                    - generic [ref=e54]:
                      - link "Palette" [expanded] [ref=e55] [cursor=pointer]:
                        - /url: /tutorials/getting-started/palette/
                      - button "Toggle the collapsible sidebar category 'Palette'" [ref=e56] [cursor=pointer]
                    - list [ref=e57]:
                      - listitem [ref=e58]:
                        - link "Introduction to Palette" [ref=e59] [cursor=pointer]:
                          - /url: /tutorials/getting-started/palette/introduction-palette/
                      - listitem [ref=e60]:
                        - generic [ref=e61]:
                          - link "Deploy a Cluster to AWS" [ref=e62] [cursor=pointer]:
                            - /url: /tutorials/getting-started/palette/aws/
                          - button "Toggle the collapsible sidebar category 'Deploy a Cluster to AWS'" [ref=e63] [cursor=pointer]
                      - listitem [ref=e64]:
                        - generic [ref=e65]:
                          - link "Deploy a Cluster to Azure" [ref=e66] [cursor=pointer]:
                            - /url: /tutorials/getting-started/palette/azure/
                          - button "Toggle the collapsible sidebar category 'Deploy a Cluster to Azure'" [ref=e67] [cursor=pointer]
                      - listitem [ref=e68]:
                        - generic [ref=e69]:
                          - link "Deploy a Cluster to GCP" [expanded] [ref=e70] [cursor=pointer]:
                            - /url: /tutorials/getting-started/palette/gcp/
                          - button "Toggle the collapsible sidebar category 'Deploy a Cluster to GCP'" [ref=e71] [cursor=pointer]
                        - list [ref=e72]:
                          - listitem [ref=e73]:
                            - link "Set up Palette" [ref=e74] [cursor=pointer]:
                              - /url: /tutorials/getting-started/palette/gcp/setup/
                          - listitem [ref=e75]:
                            - link "Create a Cluster Profile" [ref=e76] [cursor=pointer]:
                              - /url: /tutorials/getting-started/palette/gcp/create-cluster-profile/
                          - listitem [ref=e77]:
                            - link "Deploy a Cluster" [ref=e78] [cursor=pointer]:
                              - /url: /tutorials/getting-started/palette/gcp/deploy-k8s-cluster/
                          - listitem [ref=e79]:
                            - link "Deploy Cluster Profile Updates" [ref=e80] [cursor=pointer]:
                              - /url: /tutorials/getting-started/palette/gcp/update-k8s-cluster/
                          - listitem [ref=e81]:
                            - link "Cluster Management with Terraform" [ref=e82] [cursor=pointer]:
                              - /url: /tutorials/getting-started/palette/gcp/deploy-manage-k8s-cluster-tf/
                          - listitem [ref=e83]:
                            - link "Scale, Upgrade, and Secure Clusters" [ref=e84] [cursor=pointer]:
                              - /url: /tutorials/getting-started/palette/gcp/scale-secure-cluster/
                      - listitem [ref=e85]:
                        - generic [ref=e86]:
                          - link "Deploy a Cluster to VMware" [ref=e87] [cursor=pointer]:
                            - /url: /tutorials/getting-started/palette/vmware/
                          - button "Toggle the collapsible sidebar category 'Deploy a Cluster to VMware'" [ref=e88] [cursor=pointer]
                  - listitem [ref=e89]:
                    - generic [ref=e90]:
                      - link "Palette Edge" [ref=e91] [cursor=pointer]:
                        - /url: /tutorials/getting-started/palette-edge/
                      - button "Toggle the collapsible sidebar category 'Palette Edge'" [ref=e92] [cursor=pointer]
                  - listitem [ref=e93]:
                    - generic [ref=e94]:
                      - link "Additional Capabilities" [ref=e95] [cursor=pointer]:
                        - /url: /tutorials/getting-started/additional-capabilities/
                      - button "Toggle the collapsible sidebar category 'Additional Capabilities'" [ref=e96] [cursor=pointer]
              - listitem [ref=e97]:
                - generic [ref=e98]:
                  - link "Packs and Registries" [ref=e99] [cursor=pointer]:
                    - /url: /tutorials/packs-registries/
                    - img [ref=e101]
                    - text: Packs and Registries
                  - button "Toggle the collapsible sidebar category 'Packs and Registries'" [ref=e103] [cursor=pointer]
              - listitem [ref=e104]:
                - generic [ref=e105]:
                  - link "Profiles" [ref=e106] [cursor=pointer]:
                    - /url: /tutorials/profiles/
                    - img [ref=e108]
                    - text: Profiles
                  - button "Toggle the collapsible sidebar category 'Profiles'" [ref=e112] [cursor=pointer]
              - listitem [ref=e113]:
                - generic [ref=e114]:
                  - link "Clusters" [ref=e115] [cursor=pointer]:
                    - /url: /tutorials/clusters/
                    - img [ref=e117]
                    - text: Clusters
                  - button "Toggle the collapsible sidebar category 'Clusters'" [ref=e123] [cursor=pointer]
              - listitem [ref=e124]:
                - generic [ref=e125]:
                  - link "Palette Dev Engine" [ref=e126] [cursor=pointer]:
                    - /url: /tutorials/pde/
                    - img [ref=e128]
                    - text: Palette Dev Engine
                  - button "Toggle the collapsible sidebar category 'Palette Dev Engine'" [ref=e130] [cursor=pointer]
              - listitem [ref=e131]:
                - button "Privacy Settings" [ref=e132] [cursor=pointer]
      - main [ref=e133]:
        - generic [ref=e135]:
          - generic [ref=e137]:
            - article [ref=e138]:
              - navigation "Breadcrumbs" [ref=e139]:
                - list [ref=e140]:
                  - listitem [ref=e141]:
                    - link "Home page" [ref=e142] [cursor=pointer]:
                      - /url: /
                      - img [ref=e143]
                  - listitem [ref=e145]:
                    - link "Getting Started" [ref=e146] [cursor=pointer]:
                      - /url: /tutorials/getting-started/
                  - listitem [ref=e147]:
                    - link "Palette" [ref=e148] [cursor=pointer]:
                      - /url: /tutorials/getting-started/palette/
                  - listitem [ref=e149]:
                    - link "Deploy a Cluster to GCP" [ref=e150] [cursor=pointer]:
                      - /url: /tutorials/getting-started/palette/gcp/
                  - listitem [ref=e151]:
                    - generic [ref=e152]: Cluster Management with Terraform
              - generic [ref=e153]:
                - heading "Cluster Management with Terraform" [level=1] [ref=e155]
                - paragraph [ref=e156]:
                  - text: The
                  - link "Spectro Cloud Terraform" [ref=e157] [cursor=pointer]:
                    - /url: https://registry.terraform.io/providers/spectrocloud/spectrocloud/latest/docs
                  - text: provider allows you to create and manage Palette resources using Infrastructure as Code (IaC). With IaC, you can automate the provisioning of resources, collaborate on changes, and maintain a single source of truth for your infrastructure.
                - paragraph [ref=e158]: This tutorial will teach you how to use Terraform to deploy and update a Google Cloud Platform (GCP) host cluster. You will learn how to create two versions of a cluster profile with different demo applications, update the deployed cluster with the new cluster profile version, and then perform a rollback. The concepts you learn about in the Getting Started section are centered around a fictional case study company, Spacetastic Ltd.
                - heading "üßë‚ÄçüöÄ Back at Spacetastic HQDirect link to üßë‚ÄçüöÄ Back at Spacetastic HQ" [level=2] [ref=e159]:
                  - text: üßë‚ÄçüöÄ Back at Spacetastic HQ
                  - link "Direct link to üßë‚ÄçüöÄ Back at Spacetastic HQ" [ref=e160] [cursor=pointer]:
                    - /url: "#-back-at-spacetastic-hq"
                    - text: "#"
                - paragraph [ref=e161]: After following the tutorials in the Getting Started section, the Spacetastic team have been have been impressed with Palette's capabilities. Wren, Founding Engineer, and Kai, Platform Engineer, have been discussing adopting IaC workflows and have been upskilling with Terraform throughout the past year. They are interested in learning if Palette can support IaC workflows too.
                - blockquote [ref=e162]:
                  - paragraph [ref=e163]: "\"While we're on the topic of platform improvements, it would be great to kick off our adoption of Infrastructure as Code at Spacetastic,\" says Wren. \"I've been wanting to roll this out for a while, but we don't have that much in-house expertise.\""
                  - paragraph [ref=e164]: "\"Yes, this would definitely be a big improvement to our processes,\" says Kai, Platform Engineer. \"Some people might think that it slows down the development and release processes, due to the extra code reviews. However, the ability to revert in the case of an outage more than makes up for this small drop in velocity.\""
                  - paragraph [ref=e165]: Wren nods, knowingly. "Let's explore Palette's IaC capabilities and maybe we can apply some learnings to our infrastructure."
                - heading "PrerequisitesDirect link to Prerequisites" [level=2] [ref=e166]:
                  - text: Prerequisites
                  - link "Direct link to Prerequisites" [ref=e167] [cursor=pointer]:
                    - /url: "#prerequisites"
                    - text: "#"
                - paragraph [ref=e168]: "To complete this tutorial, you will need the following items in place:"
                - list [ref=e169]:
                  - listitem [ref=e170]:
                    - text: Follow the steps described in the
                    - link "Set up Palette with GCP" [ref=e171] [cursor=pointer]:
                      - /url: /tutorials/getting-started/palette/gcp/setup/
                    - text: guide to authenticate Palette for use with your GCP cloud account and create a Palette API key.
                  - listitem [ref=e172]:
                    - link "Docker Desktop" [ref=e173] [cursor=pointer]:
                      - /url: https://www.docker.com/products/docker-desktop/
                    - text: or
                    - link "Podman" [ref=e174] [cursor=pointer]:
                      - /url: https://podman.io/docs/installation
                    - text: installed if you choose to follow along using the tutorial container.
                  - listitem [ref=e175]:
                    - text: "If you choose to clone the repository instead of using the tutorial container, make sure you have the following software installed:"
                    - list [ref=e176]:
                      - listitem [ref=e177]:
                        - link "Terraform" [ref=e178] [cursor=pointer]:
                          - /url: https://developer.hashicorp.com/terraform/tutorials/aws-get-started/install-cli
                        - text: v1.9.0 or greater
                      - listitem [ref=e179]:
                        - link "Git" [ref=e180] [cursor=pointer]:
                          - /url: https://git-scm.com/downloads
                      - listitem [ref=e181]:
                        - link "Kubectl" [ref=e182] [cursor=pointer]:
                          - /url: https://kubernetes.io/docs/tasks/tools/
                - heading "Set Up Local EnvironmentDirect link to Set Up Local Environment" [level=2] [ref=e183]:
                  - text: Set Up Local Environment
                  - link "Direct link to Set Up Local Environment" [ref=e184] [cursor=pointer]:
                    - /url: "#set-up-local-environment"
                    - text: "#"
                - paragraph [ref=e185]:
                  - text: You can clone the
                  - link "Tutorials" [ref=e186] [cursor=pointer]:
                    - /url: https://github.com/spectrocloud/tutorials
                  - text: repository locally or follow along by downloading a container image that includes the tutorial code and all dependencies.
                - generic [ref=e187]:
                  - tablist [ref=e188]:
                    - tab "Docker" [selected] [ref=e189] [cursor=pointer]
                    - tab "Podman" [ref=e190] [cursor=pointer]
                    - tab "Git" [ref=e191] [cursor=pointer]
                  - tabpanel [ref=e193]:
                    - paragraph [ref=e194]: Start Docker Desktop and ensure that the Docker daemon is available by issuing the following command.
                    - generic [ref=e196]:
                      - code [ref=e198]:
                        - generic [ref=e199]: docker ps
                      - button "Copy code to clipboard" [ref=e201] [cursor=pointer]:
                        - generic [ref=e202]:
                          - img [ref=e203]
                          - img [ref=e205]
                    - paragraph [ref=e207]: Next, download the tutorial image, start the container, and open a bash session into it.
                    - generic [ref=e209]:
                      - code [ref=e211]:
                        - generic [ref=e212]: docker run --name tutorialContainer --interactive --tty ghcr.io/spectrocloud/tutorials:1.3.0 bash
                      - generic [ref=e213]:
                        - button "Toggle word wrap" [ref=e214] [cursor=pointer]:
                          - img [ref=e215]
                        - button "Copy code to clipboard" [ref=e217] [cursor=pointer]:
                          - generic [ref=e218]:
                            - img [ref=e219]
                            - img [ref=e221]
                    - generic [ref=e223]:
                      - generic [ref=e224]:
                        - img [ref=e226]
                        - text: warning
                      - paragraph [ref=e229]: Do not exit the container until the tutorial is complete. Otherwise, you may lose your progress.
                - paragraph [ref=e230]: Navigate to the folder that contains the tutorial code.
                - generic [ref=e232]:
                  - code [ref=e234]:
                    - generic [ref=e235]: cd terraform/getting-started-deployment-tf
                  - button "Copy code to clipboard" [ref=e237] [cursor=pointer]:
                    - generic [ref=e238]:
                      - img [ref=e239]
                      - img [ref=e241]
                - heading "Resources ReviewDirect link to Resources Review" [level=2] [ref=e243]:
                  - text: Resources Review
                  - link "Direct link to Resources Review" [ref=e244] [cursor=pointer]:
                    - /url: "#resources-review"
                    - text: "#"
                - paragraph [ref=e245]: To help you get started with Terraform, the tutorial code is structured to support deploying a cluster to either AWS, Azure, GCP, or VMware vSphere. Before you deploy a host cluster to GCP, review the following files in the folder structure.
                - table [ref=e246]:
                  - rowgroup [ref=e247]:
                    - row "File Description" [ref=e248]:
                      - cell "File" [ref=e249]:
                        - strong [ref=e250]: File
                      - cell "Description" [ref=e251]:
                        - strong [ref=e252]: Description
                  - rowgroup [ref=e253]:
                    - row "provider.tf This file contains the Terraform providers that are used to support the deployment of the cluster." [ref=e254]:
                      - cell "provider.tf" [ref=e255]:
                        - strong [ref=e256]: provider.tf
                      - cell "This file contains the Terraform providers that are used to support the deployment of the cluster." [ref=e257]
                    - row "inputs.tf This file contains all the Terraform variables required for the deployment logic." [ref=e258]:
                      - cell "inputs.tf" [ref=e259]:
                        - strong [ref=e260]: inputs.tf
                      - cell "This file contains all the Terraform variables required for the deployment logic." [ref=e261]
                    - row "data.tf This file contains all the query resources that perform read actions." [ref=e262]:
                      - cell "data.tf" [ref=e263]:
                        - strong [ref=e264]: data.tf
                      - cell "This file contains all the query resources that perform read actions." [ref=e265]
                    - row "cluster_profiles.tf This file contains the cluster profile definitions for each cloud provider." [ref=e266]:
                      - cell "cluster_profiles.tf" [ref=e267]:
                        - strong [ref=e268]: cluster_profiles.tf
                      - cell "This file contains the cluster profile definitions for each cloud provider." [ref=e269]
                    - row "clusters.tf This file has the cluster configurations required to deploy a host cluster to one of the cloud providers." [ref=e270]:
                      - cell "clusters.tf" [ref=e271]:
                        - strong [ref=e272]: clusters.tf
                      - cell "This file has the cluster configurations required to deploy a host cluster to one of the cloud providers." [ref=e273]
                    - row "terraform.tfvars Use this file to target a specific cloud provider and customize the deployment. This is the only file you must modify." [ref=e274]:
                      - cell "terraform.tfvars" [ref=e275]:
                        - strong [ref=e276]: terraform.tfvars
                      - cell "Use this file to target a specific cloud provider and customize the deployment. This is the only file you must modify." [ref=e277]
                    - row "ippool.tf This file contains the configuration required for VMware deployments that use static IP placement." [ref=e278]:
                      - cell "ippool.tf" [ref=e279]:
                        - strong [ref=e280]: ippool.tf
                      - cell "This file contains the configuration required for VMware deployments that use static IP placement." [ref=e281]
                    - row "ssh-key.tf This file has the SSH key resource definition required for Azure and VMware deployments." [ref=e282]:
                      - cell "ssh-key.tf" [ref=e283]:
                        - strong [ref=e284]: ssh-key.tf
                      - cell "This file has the SSH key resource definition required for Azure and VMware deployments." [ref=e285]
                    - row "outputs.tf This file contains the content that will be displayed in the terminal after a successful Terraform apply action." [ref=e286]:
                      - cell "outputs.tf" [ref=e287]:
                        - strong [ref=e288]: outputs.tf
                      - cell "This file contains the content that will be displayed in the terminal after a successful Terraform apply action." [ref=e289]:
                        - text: This file contains the content that will be displayed in the terminal after a successful Terraform
                        - code [ref=e290]: apply
                        - text: action.
                - paragraph [ref=e291]: The following section reviews the core Terraform resources more closely.
                - heading "ProviderDirect link to Provider" [level=4] [ref=e292]:
                  - text: Provider
                  - link "Direct link to Provider" [ref=e293] [cursor=pointer]:
                    - /url: "#provider"
                    - text: "#"
                - paragraph [ref=e294]:
                  - text: The
                  - strong [ref=e295]: provider.tf
                  - text: "file contains the Terraform providers used in the tutorial and their respective versions. This tutorial uses four providers:"
                - list [ref=e296]:
                  - listitem [ref=e297]:
                    - link "Spectro Cloud" [ref=e298] [cursor=pointer]:
                      - /url: https://registry.terraform.io/providers/spectrocloud/spectrocloud/latest/docs
                  - listitem [ref=e299]:
                    - link "TLS" [ref=e300] [cursor=pointer]:
                      - /url: https://registry.terraform.io/providers/hashicorp/tls/latest
                  - listitem [ref=e301]:
                    - link "vSphere" [ref=e302] [cursor=pointer]:
                      - /url: https://registry.terraform.io/providers/hashicorp/vsphere/latest
                  - listitem [ref=e303]:
                    - link "Local" [ref=e304] [cursor=pointer]:
                      - /url: https://registry.terraform.io/providers/hashicorp/local/latest
                - paragraph [ref=e305]:
                  - text: Note how the project name is specified in the
                  - code [ref=e306]: "provider \"spectrocloud\" {}"
                  - text: block. You can change the target project by modifying the value of the
                  - code [ref=e307]: palette-project
                  - text: variable in the
                  - strong [ref=e308]: terraform.tfvars
                  - text: file.
                - generic [ref=e310]:
                  - code [ref=e312]:
                    - generic [ref=e313]: "terraform {"
                    - generic [ref=e314]: "required_providers {"
                    - generic [ref=e315]: "spectrocloud = {"
                    - generic [ref=e316]: version = ">= 0.20.6"
                    - generic [ref=e317]: source = "spectrocloud/spectrocloud"
                    - generic [ref=e318]: "}"
                    - generic [ref=e319]: "tls = {"
                    - generic [ref=e320]: source = "hashicorp/tls"
                    - generic [ref=e321]: version = "4.0.4"
                    - generic [ref=e322]: "}"
                    - generic [ref=e323]: "vsphere = {"
                    - generic [ref=e324]: source = "hashicorp/vsphere"
                    - generic [ref=e325]: version = ">= 2.6.1"
                    - generic [ref=e326]: "}"
                    - generic [ref=e327]: "local = {"
                    - generic [ref=e328]: source = "hashicorp/local"
                    - generic [ref=e329]: version = "2.4.1"
                    - generic [ref=e330]: "}"
                    - generic [ref=e331]: "}"
                    - generic [ref=e332]: required_version = ">= 1.9"
                    - generic [ref=e333]: "}"
                    - generic [ref=e334]: "provider \"spectrocloud\" {"
                    - generic [ref=e335]: project_name = var.palette-project
                    - generic [ref=e336]: "}"
                  - button "Copy code to clipboard" [ref=e338] [cursor=pointer]:
                    - generic [ref=e339]:
                      - img [ref=e340]
                      - img [ref=e342]
                - heading "Cluster ProfileDirect link to Cluster Profile" [level=4] [ref=e344]:
                  - text: Cluster Profile
                  - link "Direct link to Cluster Profile" [ref=e345] [cursor=pointer]:
                    - /url: "#cluster-profile"
                    - text: "#"
                - paragraph [ref=e346]:
                  - text: The next file you should become familiar with is the
                  - strong [ref=e347]: cluster_profiles.tf
                  - text: file. The
                  - code [ref=e348]: spectrocloud_cluster_profile
                  - text: resource allows you to create a cluster profile and customize its layers. You can specify the packs and versions to use or add a manifest or Helm chart.
                - paragraph [ref=e349]:
                  - text: The cluster profile resource is declared eight times in the
                  - strong [ref=e350]: cluster-profiles.tf
                  - text: "file, with each pair of resources being designated for a specific provider. In this tutorial, two versions of the GCP cluster profile are deployed: version"
                  - code [ref=e351]: 1.0.0
                  - text: deploys the
                  - link "Hello Universe" [ref=e352] [cursor=pointer]:
                    - /url: https://github.com/spectrocloud/hello-universe
                  - text: pack, while version
                  - code [ref=e353]: 1.1.0
                  - text: deploys the
                  - link "Kubecost" [ref=e354] [cursor=pointer]:
                    - /url: https://www.kubecost.com/
                  - text: pack along with the
                  - link "Hello Universe" [ref=e355] [cursor=pointer]:
                    - /url: https://github.com/spectrocloud/hello-universe
                  - text: application.
                - paragraph [ref=e356]:
                  - text: The cluster profiles include layers for the Operating System (OS), Kubernetes, container network interface, and container storage interface. The first
                  - code [ref=e357]: "pack {}"
                  - text: block in the list equates to the bottom layer of the cluster profile. Ensure you define the bottom layer of the cluster profile - the OS layer - first in the list of
                  - code [ref=e358]: "pack {}"
                  - text: blocks, as the order in which you arrange the contents of the
                  - code [ref=e359]: "pack {}"
                  - text: blocks plays an important role in the cluster profile creation. The table below displays the packs deployed in each version of the cluster profile.
                - table [ref=e360]:
                  - rowgroup [ref=e361]:
                    - row "Pack Type Pack Name Version Cluster Profile v1.0.0 Cluster Profile v1.1.0" [ref=e362]:
                      - cell "Pack Type" [ref=e363]:
                        - strong [ref=e364]: Pack Type
                      - cell "Pack Name" [ref=e365]:
                        - strong [ref=e366]: Pack Name
                      - cell "Version" [ref=e367]:
                        - strong [ref=e368]: Version
                      - cell "Cluster Profile v1.0.0" [ref=e369]:
                        - strong [ref=e370]: Cluster Profile v1.0.0
                      - cell "Cluster Profile v1.1.0" [ref=e371]:
                        - strong [ref=e372]: Cluster Profile v1.1.0
                  - rowgroup [ref=e373]:
                    - row "OS ubuntu-gcp 22.04 ‚úÖ ‚úÖ" [ref=e374]:
                      - cell "OS" [ref=e375]
                      - cell "ubuntu-gcp" [ref=e376]:
                        - code [ref=e377]: ubuntu-gcp
                      - cell "22.04" [ref=e378]:
                        - code [ref=e379]: "22.04"
                      - cell "‚úÖ" [ref=e380]
                      - cell "‚úÖ" [ref=e381]
                    - row "Kubernetes kubernetes 1.32.3 ‚úÖ ‚úÖ" [ref=e382]:
                      - cell "Kubernetes" [ref=e383]
                      - cell "kubernetes" [ref=e384]:
                        - code [ref=e385]: kubernetes
                      - cell "1.32.3" [ref=e386]:
                        - code [ref=e387]: 1.32.3
                      - cell "‚úÖ" [ref=e388]
                      - cell "‚úÖ" [ref=e389]
                    - row "Network cni-calico 3.29.3 ‚úÖ ‚úÖ" [ref=e390]:
                      - cell "Network" [ref=e391]
                      - cell "cni-calico" [ref=e392]:
                        - code [ref=e393]: cni-calico
                      - cell "3.29.3" [ref=e394]:
                        - code [ref=e395]: 3.29.3
                      - cell "‚úÖ" [ref=e396]
                      - cell "‚úÖ" [ref=e397]
                    - row "Storage csi-gcp-driver 1.15.4 ‚úÖ ‚úÖ" [ref=e398]:
                      - cell "Storage" [ref=e399]
                      - cell "csi-gcp-driver" [ref=e400]:
                        - code [ref=e401]: csi-gcp-driver
                      - cell "1.15.4" [ref=e402]:
                        - code [ref=e403]: 1.15.4
                      - cell "‚úÖ" [ref=e404]
                      - cell "‚úÖ" [ref=e405]
                    - row "App Services hellouniverse 1.2.0 ‚úÖ ‚úÖ" [ref=e406]:
                      - cell "App Services" [ref=e407]
                      - cell "hellouniverse" [ref=e408]:
                        - code [ref=e409]: hellouniverse
                      - cell "1.2.0" [ref=e410]:
                        - code [ref=e411]: 1.2.0
                      - cell "‚úÖ" [ref=e412]
                      - cell "‚úÖ" [ref=e413]
                    - row "App Services cost-analyzer 1.103.3 ‚ùå ‚úÖ" [ref=e414]:
                      - cell "App Services" [ref=e415]
                      - cell "cost-analyzer" [ref=e416]:
                        - code [ref=e417]: cost-analyzer
                      - cell "1.103.3" [ref=e418]:
                        - code [ref=e419]: 1.103.3
                      - cell "‚ùå" [ref=e420]
                      - cell "‚úÖ" [ref=e421]
                - paragraph [ref=e422]:
                  - text: The Hello Universe pack has two configured
                  - link "presets" [ref=e423] [cursor=pointer]:
                    - /url: /glossary-all/#presets
                  - text: . The first preset deploys a standalone frontend application, while the second one deploys a three-tier application with a frontend, API server, and Postgres database. This tutorial deploys the three-tier version of the
                  - link "Hello Universe" [ref=e424] [cursor=pointer]:
                    - /url: https://github.com/spectrocloud/hello-universe
                  - text: pack. The preset selection in the Terraform code is specified within the Hello Universe pack block with the
                  - code [ref=e425]: values
                  - text: field and by using the
                  - strong [ref=e426]: values-3tier.yaml
                  - text: file. Below is an example of version
                  - code [ref=e427]: 1.0.0
                  - text: of the GCP cluster profile Terraform resource.
                - generic [ref=e429]:
                  - code [ref=e431]:
                    - generic [ref=e432]: "resource \"spectrocloud_cluster_profile\" \"gcp-profile\" {"
                    - generic [ref=e433]: "count = var.deploy-gcp ? 1 : 0"
                    - generic [ref=e434]: name = "tf-gcp-profile"
                    - generic [ref=e435]: description = "A basic cluster profile for GCP"
                    - generic [ref=e436]: tags = concat(var.tags, ["env:GCP"])
                    - generic [ref=e437]: cloud = "gcp"
                    - generic [ref=e438]: type = "cluster"
                    - generic [ref=e439]: version = "1.0.0"
                    - generic [ref=e440]: "pack {"
                    - generic [ref=e441]: name = data.spectrocloud_pack.gcp_ubuntu.name
                    - generic [ref=e442]: tag = data.spectrocloud_pack.gcp_ubuntu.version
                    - generic [ref=e443]: uid = data.spectrocloud_pack.gcp_ubuntu.id
                    - generic [ref=e444]: values = data.spectrocloud_pack.gcp_ubuntu.values
                    - generic [ref=e445]: type = "spectro"
                    - generic [ref=e446]: "}"
                    - generic [ref=e447]: "pack {"
                    - generic [ref=e448]: name = data.spectrocloud_pack.gcp_k8s.name
                    - generic [ref=e449]: tag = data.spectrocloud_pack.gcp_k8s.version
                    - generic [ref=e450]: uid = data.spectrocloud_pack.gcp_k8s.id
                    - generic [ref=e451]: values = data.spectrocloud_pack.gcp_k8s.values
                    - generic [ref=e452]: type = "spectro"
                    - generic [ref=e453]: "}"
                    - generic [ref=e454]: "pack {"
                    - generic [ref=e455]: name = data.spectrocloud_pack.gcp_cni.name
                    - generic [ref=e456]: tag = data.spectrocloud_pack.gcp_cni.version
                    - generic [ref=e457]: uid = data.spectrocloud_pack.gcp_cni.id
                    - generic [ref=e458]: values = data.spectrocloud_pack.gcp_cni.values
                    - generic [ref=e459]: type = "spectro"
                    - generic [ref=e460]: "}"
                    - generic [ref=e461]: "pack {"
                    - generic [ref=e462]: name = data.spectrocloud_pack.gcp_csi.name
                    - generic [ref=e463]: tag = data.spectrocloud_pack.gcp_csi.version
                    - generic [ref=e464]: uid = data.spectrocloud_pack.gcp_csi.id
                    - generic [ref=e465]: values = data.spectrocloud_pack.gcp_csi.values
                    - generic [ref=e466]: type = "spectro"
                    - generic [ref=e467]: "}"
                    - generic [ref=e468]: "pack {"
                    - generic [ref=e469]: name = data.spectrocloud_pack.hellouniverse.name
                    - generic [ref=e470]: tag = data.spectrocloud_pack.hellouniverse.version
                    - generic [ref=e471]: uid = data.spectrocloud_pack.hellouniverse.id
                    - generic [ref=e472]: "values = templatefile(\"manifests/values-3tier.yaml\", {"
                    - generic [ref=e473]: namespace = var.app_namespace,
                    - generic [ref=e474]: port = var.app_port,
                    - generic [ref=e475]: replicas = var.replicas_number
                    - generic [ref=e476]: db_password = base64encode(var.db_password),
                    - generic [ref=e477]: auth_token = base64encode(var.auth_token)
                    - generic [ref=e478]: "})"
                    - generic [ref=e479]: type = "oci"
                    - generic [ref=e480]: "}"
                    - generic [ref=e481]: "}"
                  - button "Copy code to clipboard" [ref=e483] [cursor=pointer]:
                    - generic [ref=e484]:
                      - img [ref=e485]
                      - img [ref=e487]
                - heading "Data ResourcesDirect link to Data Resources" [level=4] [ref=e489]:
                  - text: Data Resources
                  - link "Direct link to Data Resources" [ref=e490] [cursor=pointer]:
                    - /url: "#data-resources"
                    - text: "#"
                - paragraph [ref=e491]:
                  - text: Each
                  - code [ref=e492]: "pack {}"
                  - text: block contains references to a data resource.
                  - link "Data resources" [ref=e493] [cursor=pointer]:
                    - /url: https://developer.hashicorp.com/terraform/language/data-sources
                  - text: are used to perform read actions in Terraform. The Spectro Cloud Terraform provider exposes several data resources to help you make your Terraform code more dynamic. The data resource used in the cluster profile is
                  - code [ref=e494]: spectrocloud_pack
                  - text: . This resource enables you to query Palette for information about a specific pack, such as its unique ID, registry ID, available versions, and YAML values.
                - paragraph [ref=e495]:
                  - text: Below is the data resource used to query Palette for information about the Kubernetes pack for version
                  - code [ref=e496]: 1.28.3
                  - text: .
                - generic [ref=e498]:
                  - code [ref=e500]:
                    - generic [ref=e501]: "data \"spectrocloud_pack\" \"gcp_k8s\" {"
                    - generic [ref=e502]: name = "kubernetes"
                    - generic [ref=e503]: version = "1.32.3"
                    - generic [ref=e504]: registry_uid = data.spectrocloud_registry.public_registry.id
                    - generic [ref=e505]: "}"
                  - button "Copy code to clipboard" [ref=e507] [cursor=pointer]:
                    - generic [ref=e508]:
                      - img [ref=e509]
                      - img [ref=e511]
                - paragraph [ref=e513]:
                  - text: Using the data resource helps you avoid manually entering the parameter values required by the cluster profile's
                  - code [ref=e514]: "pack {}"
                  - text: block.
                - heading "ClusterDirect link to Cluster" [level=4] [ref=e515]:
                  - text: Cluster
                  - link "Direct link to Cluster" [ref=e516] [cursor=pointer]:
                    - /url: "#cluster"
                    - text: "#"
                - paragraph [ref=e517]:
                  - text: The
                  - strong [ref=e518]: clusters.tf
                  - text: file contains the definitions required for deploying a host cluster to one of the infrastructure providers. To create a GCP host cluster, you must set the
                  - code [ref=e519]: deploy-gcp
                  - text: variable in the
                  - strong [ref=e520]: terraform.tfvars
                  - text: file to true.
                - paragraph [ref=e521]:
                  - text: When deploying a cluster using Terraform, you must provide the same parameters as those available in the Palette UI for the cluster deployment step, such as the instance size and number of nodes. You can learn more about each parameter by reviewing the
                  - link "GCP cluster resource" [ref=e522] [cursor=pointer]:
                    - /url: https://registry.terraform.io/providers/spectrocloud/spectrocloud/latest/docs/resources/cluster_gcp
                  - text: documentation.
                - generic [ref=e524]:
                  - code [ref=e526]:
                    - generic [ref=e527]: "resource \"spectrocloud_cluster_gcp\" \"gcp-cluster\" {"
                    - generic [ref=e528]: "count = var.deploy-gcp ? 1 : 0"
                    - generic [ref=e529]: name = "gcp-cluster"
                    - generic [ref=e530]: tags = concat(var.tags, ["env:gcp"])
                    - generic [ref=e531]: cloud_account_id = data.spectrocloud_cloudaccount_gcp.account[0].id
                    - generic [ref=e532]: "cloud_config {"
                    - generic [ref=e533]: project = var.gcp_project_name
                    - generic [ref=e534]: region = var.gcp-region
                    - generic [ref=e535]: "}"
                    - generic [ref=e536]: "cluster_profile {"
                    - generic [ref=e537]: "id = var.deploy-gcp && var.deploy-gcp-kubecost ? resource.spectrocloud_cluster_profile.gcp-profile-kubecost[0].id : resource.spectrocloud_cluster_profile.gcp-profile[0].id"
                    - generic [ref=e538]: "}"
                    - generic [ref=e539]: "machine_pool {"
                    - generic [ref=e540]: control_plane = true
                    - generic [ref=e541]: control_plane_as_worker = true
                    - generic [ref=e542]: name = "control-plane-pool"
                    - generic [ref=e543]: count = var.gcp_control_plane_nodes.count
                    - generic [ref=e544]: instance_type = var.gcp_control_plane_nodes.instance_type
                    - generic [ref=e545]: disk_size_gb = var.gcp_control_plane_nodes.disk_size_gb
                    - generic [ref=e546]: azs = var.gcp_control_plane_nodes.availability_zones
                    - generic [ref=e547]: "}"
                    - generic [ref=e548]: "machine_pool {"
                    - generic [ref=e549]: name = "worker-pool"
                    - generic [ref=e550]: count = var.gcp_worker_nodes.count
                    - generic [ref=e551]: instance_type = var.gcp_worker_nodes.instance_type
                    - generic [ref=e552]: disk_size_gb = var.gcp_worker_nodes.disk_size_gb
                    - generic [ref=e553]: azs = var.gcp_worker_nodes.availability_zones
                    - generic [ref=e554]: "}"
                    - generic [ref=e555]: "timeouts {"
                    - generic [ref=e556]: create = "45m"
                    - generic [ref=e557]: delete = "45m"
                    - generic [ref=e558]: "}"
                    - generic [ref=e559]: "}"
                  - generic [ref=e560]:
                    - button "Toggle word wrap" [ref=e561] [cursor=pointer]:
                      - img [ref=e562]
                    - button "Copy code to clipboard" [ref=e564] [cursor=pointer]:
                      - generic [ref=e565]:
                        - img [ref=e566]
                        - img [ref=e568]
                - heading "Terraform TestsDirect link to Terraform Tests" [level=2] [ref=e570]:
                  - text: Terraform Tests
                  - link "Direct link to Terraform Tests" [ref=e571] [cursor=pointer]:
                    - /url: "#terraform-tests"
                    - text: "#"
                - paragraph [ref=e572]: Before starting the cluster deployment, test the Terraform code to ensure the resources will be provisioned correctly.
                - paragraph [ref=e573]:
                  - text: Issue the following command in your terminal to initialize Terraform. The
                  - code [ref=e574]: init
                  - text: command initializes the working directory that contains the Terraform files.
                - generic [ref=e576]:
                  - code [ref=e578]:
                    - generic [ref=e579]: terraform init
                  - button "Copy code to clipboard" [ref=e581] [cursor=pointer]:
                    - generic [ref=e582]:
                      - img [ref=e583]
                      - img [ref=e585]
                - code [ref=e590]:
                  - generic [ref=e591]: Terraform has been successfully initialized!
                - paragraph [ref=e592]:
                  - text: Next, issue the
                  - code [ref=e593]: terraform test
                  - text: command to start the tests.
                - generic [ref=e595]:
                  - code [ref=e597]:
                    - generic [ref=e598]: terraform test
                  - button "Copy code to clipboard" [ref=e600] [cursor=pointer]:
                    - generic [ref=e601]:
                      - img [ref=e602]
                      - img [ref=e604]
                - paragraph [ref=e606]: A successful test execution will output the following.
                - code [ref=e610]:
                  - generic [ref=e611]: Success! 16 passed, 0 failed.
                - heading "Input VariablesDirect link to Input Variables" [level=2] [ref=e612]:
                  - text: Input Variables
                  - link "Direct link to Input Variables" [ref=e613] [cursor=pointer]:
                    - /url: "#input-variables"
                    - text: "#"
                - paragraph [ref=e614]:
                  - text: To deploy a cluster using Terraform, you must first modify the
                  - strong [ref=e615]: terraform.tfvars
                  - text: file. Open it in the editor of your choice. The tutorial container includes the editor
                  - link "Nano" [ref=e616] [cursor=pointer]:
                    - /url: https://www.nano-editor.org
                  - text: .
                - paragraph [ref=e617]:
                  - text: The file is structured with different sections. Each provider has a section with variables that need to be filled in, identified by the placeholder
                  - code [ref=e618]: REPLACE_ME
                  - text: . Additionally, there is a toggle variable named
                  - code [ref=e619]: deploy-<cloud-provider>
                  - text: available for each provider, which you can use to select the deployment environment.
                - paragraph [ref=e620]:
                  - text: In the
                  - strong [ref=e621]: Palette Settings
                  - text: section, modify the name of the
                  - code [ref=e622]: palette-project
                  - text: variable if you wish to deploy to a Palette project different from the default one.
                - generic [ref=e624]:
                  - code [ref=e626]:
                    - generic [ref=e627]: "#####################"
                    - generic [ref=e628]: "# Palette Settings"
                    - generic [ref=e629]: "#####################"
                    - generic [ref=e630]: "palette-project = \"Default\" # The name of your project in Palette."
                  - button "Copy code to clipboard" [ref=e632] [cursor=pointer]:
                    - generic [ref=e633]:
                      - img [ref=e634]
                      - img [ref=e636]
                - paragraph [ref=e638]:
                  - text: Next, in the
                  - strong [ref=e639]: Hello Universe Configuration
                  - text: section, provide values for the database password and authentication token for the Hello Universe pack. For example, you can use the value
                  - code [ref=e640]: password
                  - text: for the database password and the default token provided in the
                  - link "Hello Universe" [ref=e641] [cursor=pointer]:
                    - /url: https://github.com/spectrocloud/hello-universe/tree/main?tab=readme-ov-file#reverse-proxy-with-kubernetes
                  - text: repository for the authentication token.
                - generic [ref=e643]:
                  - code [ref=e645]:
                    - generic [ref=e646]: "##############################"
                    - generic [ref=e647]: "# Hello Universe Configuration"
                    - generic [ref=e648]: "##############################"
                    - generic [ref=e649]: "app_namespace = \"hello-universe\" # The namespace in which the application will be deployed."
                    - generic [ref=e650]: "app_port = 8080 # The cluster port number on which the service will listen for incoming traffic."
                    - generic [ref=e651]: "replicas_number = 1 # The number of pods to be created."
                    - generic [ref=e652]: "db_password = \"REPLACE ME\" # The database password to connect to the API database."
                    - generic [ref=e653]: "auth_token = \"REPLACE ME\" # The auth token for the API connection."
                  - generic [ref=e654]:
                    - button "Toggle word wrap" [ref=e655] [cursor=pointer]:
                      - img [ref=e656]
                    - button "Copy code to clipboard" [ref=e658] [cursor=pointer]:
                      - generic [ref=e659]:
                        - img [ref=e660]
                        - img [ref=e662]
                - paragraph [ref=e664]:
                  - text: Locate the GCP provider section and change
                  - code [ref=e665]: deploy-gcp = false
                  - text: to
                  - code [ref=e666]: deploy-gcp = true
                  - text: . Additionally, replace all occurrences of
                  - code [ref=e667]: REPLACE_ME
                  - text: with their corresponding values, such as those for the
                  - code [ref=e668]: gcp-cloud-account-name
                  - text: ","
                  - code [ref=e669]: gcp-region
                  - text: ","
                  - code [ref=e670]: gcp_project_name
                  - text: ", and"
                  - code [ref=e671]: availability_zones
                  - text: variables. You can also update the values for the nodes in the control plane or worker node pools as needed.
                - generic [ref=e672]:
                  - generic [ref=e673]:
                    - img [ref=e675]
                    - text: warning
                  - paragraph [ref=e678]:
                    - text: Ensure that
                    - code [ref=e679]: gcp-cloud-account-name
                    - text: is replaced with the name of the GCP cloud account registered in Palette.
                - generic [ref=e681]:
                  - code [ref=e683]:
                    - generic [ref=e684]: "###########################"
                    - generic [ref=e685]: "# GCP Deployment Settings"
                    - generic [ref=e686]: "############################"
                    - generic [ref=e687]: "deploy-gcp = false # Set to true to deploy to GCP."
                    - generic [ref=e688]: "deploy-gcp-kubecost = false # Set to true to deploy to GCP and include Kubecost to your cluster profile."
                    - generic [ref=e689]: gcp-cloud-account-name = "REPLACE ME"
                    - generic [ref=e690]: gcp-region = "REPLACE ME"
                    - generic [ref=e691]: gcp_project_name = "REPLACE ME"
                    - generic [ref=e692]: "gcp_control_plane_nodes = {"
                    - generic [ref=e693]: count = "1"
                    - generic [ref=e694]: control_plane = true
                    - generic [ref=e695]: instance_type = "n2-standard-4"
                    - generic [ref=e696]: disk_size_gb = "60"
                    - generic [ref=e697]: "availability_zones = [\"REPLACE ME\"] # If you want to deploy to multiple AZs, add them here. Example: [\"us-central1-a\", \"us-central1-b\"]."
                    - generic [ref=e698]: "}"
                    - generic [ref=e699]: "gcp_worker_nodes = {"
                    - generic [ref=e700]: count = "1"
                    - generic [ref=e701]: control_plane = false
                    - generic [ref=e702]: instance_type = "n2-standard-4"
                    - generic [ref=e703]: disk_size_gb = "60"
                    - generic [ref=e704]: "availability_zones = [\"REPLACE ME\"] # If you want to deploy to multiple AZs, add them here. Example: [\"us-central1-a\", \"us-central1-b\"]."
                    - generic [ref=e705]: "}"
                  - generic [ref=e706]:
                    - button "Toggle word wrap" [ref=e707] [cursor=pointer]:
                      - img [ref=e708]
                    - button "Copy code to clipboard" [ref=e710] [cursor=pointer]:
                      - generic [ref=e711]:
                        - img [ref=e712]
                        - img [ref=e714]
                - paragraph [ref=e716]: When you are done making the required changes, save the file.
                - heading "Deploy the ClusterDirect link to Deploy the Cluster" [level=2] [ref=e717]:
                  - text: Deploy the Cluster
                  - link "Direct link to Deploy the Cluster" [ref=e718] [cursor=pointer]:
                    - /url: "#deploy-the-cluster"
                    - text: "#"
                - paragraph [ref=e719]:
                  - text: Before starting the cluster provisioning, export your
                  - link "Palette API key" [ref=e720] [cursor=pointer]:
                    - /url: /tutorials/getting-started/palette/gcp/setup/#create-a-palette-api-key
                  - text: as an environment variable. This step allows the Terraform code to authenticate with the Palette API.
                - generic [ref=e722]:
                  - code [ref=e724]:
                    - generic [ref=e725]: export SPECTROCLOUD_APIKEY=<Your-Spectro-Cloud-API-key>
                  - button "Copy code to clipboard" [ref=e727] [cursor=pointer]:
                    - generic [ref=e728]:
                      - img [ref=e729]
                      - img [ref=e731]
                - generic [ref=e733]:
                  - generic [ref=e734]:
                    - img [ref=e736]
                    - text: warning
                  - paragraph [ref=e739]:
                    - text: Before deploying the resources, ensure that there are no active clusters named
                    - code [ref=e740]: gcp-cluster
                    - text: or cluster profiles named
                    - code [ref=e741]: tf-gcp-profile
                    - text: in your Palette project.
                - paragraph [ref=e742]:
                  - text: Issue the
                  - code [ref=e743]: plan
                  - text: command to preview the resources that Terraform will create.
                - generic [ref=e745]:
                  - code [ref=e747]:
                    - generic [ref=e748]: terraform plan
                  - button "Copy code to clipboard" [ref=e750] [cursor=pointer]:
                    - generic [ref=e751]:
                      - img [ref=e752]
                      - img [ref=e754]
                - paragraph [ref=e756]:
                  - text: "The output indicates that three new resources will be created: two versions of the GCP cluster profile and the host cluster. The host cluster will use version"
                  - code [ref=e757]: 1.0.0
                  - text: of the cluster profile.
                - generic [ref=e759]:
                  - code [ref=e761]:
                    - generic [ref=e762]: "Plan: 3 to add, 0 to change, 0 to destroy."
                  - button "Copy code to clipboard" [ref=e764] [cursor=pointer]:
                    - generic [ref=e765]:
                      - img [ref=e766]
                      - img [ref=e768]
                - paragraph [ref=e770]:
                  - text: To deploy the resources, use the
                  - code [ref=e771]: apply
                  - text: command.
                - generic [ref=e773]:
                  - code [ref=e775]:
                    - generic [ref=e776]: terraform apply -auto-approve
                  - button "Copy code to clipboard" [ref=e778] [cursor=pointer]:
                    - generic [ref=e779]:
                      - img [ref=e780]
                      - img [ref=e782]
                - paragraph [ref=e784]:
                  - text: To check that the cluster profile was created correctly, log in to
                  - link "Palette" [ref=e785] [cursor=pointer]:
                    - /url: https://console.spectrocloud.com
                  - text: ", and click"
                  - strong [ref=e786]: Profiles
                  - text: from the left
                  - strong [ref=e787]: Main Menu
                  - text: . Locate the cluster profile named
                  - code [ref=e788]: tf-gcp-profile
                  - text: . Click on the cluster profile to review its layers and versions.
                - paragraph [ref=e789]:
                  - img "A view of the cluster profile" [ref=e790]
                - paragraph [ref=e791]:
                  - text: You can also check the cluster creation process by selecting
                  - strong [ref=e792]: Clusters
                  - text: from the left
                  - strong [ref=e793]: Main Menu
                  - text: .
                - paragraph [ref=e794]:
                  - img "Update the cluster" [ref=e795]
                - paragraph [ref=e796]: Select your cluster to review its details page, which contains the status, cluster profile, event logs, and more.
                - paragraph [ref=e797]:
                  - text: The cluster deployment may take 15 to 30 minutes depending on the cloud provider, cluster profile, cluster size, and the node pool configurations provided. You can learn more about the deployment progress by reviewing the event log. Click on the
                  - strong [ref=e798]: Events
                  - text: tab to check the log.
                - paragraph [ref=e799]:
                  - img "Update the cluster" [ref=e800]
                - heading "Verify the ApplicationDirect link to Verify the Application" [level=3] [ref=e801]:
                  - text: Verify the Application
                  - link "Direct link to Verify the Application" [ref=e802] [cursor=pointer]:
                    - /url: "#verify-the-application"
                    - text: "#"
                - paragraph [ref=e803]:
                  - text: In Palette, navigate to the left
                  - strong [ref=e804]: Main Menu
                  - text: and select
                  - strong [ref=e805]: Clusters
                  - text: .
                - paragraph [ref=e806]:
                  - text: Select your cluster to view its
                  - strong [ref=e807]: Overview
                  - text: tab. When the application is deployed and ready for network traffic, indicated in the
                  - strong [ref=e808]: Services
                  - text: field, Palette exposes the service URL. Click on the URL for port
                  - strong [ref=e809]: :8080
                  - text: to access the Hello Universe application.
                - generic [ref=e810]:
                  - generic [ref=e811]:
                    - img [ref=e813]
                    - text: warning
                  - paragraph [ref=e816]: It can take up to three minutes for DNS to properly resolve the public load balancer URL. We recommend waiting a few moments before clicking on the service URL to prevent the browser from caching an unresolved DNS request.
                - paragraph [ref=e817]:
                  - img "Deployed application" [ref=e818]
                - paragraph [ref=e819]: Welcome to the Spacetastic astronomy education platform. Feel free to explore the pages and learn more about space. The statistics page offers information on visitor counts on your deployed cluster.
                - heading "Version Cluster ProfilesDirect link to Version Cluster Profiles" [level=2] [ref=e820]:
                  - text: Version Cluster Profiles
                  - link "Direct link to Version Cluster Profiles" [ref=e821] [cursor=pointer]:
                    - /url: "#version-cluster-profiles"
                    - text: "#"
                - paragraph [ref=e822]: Palette supports the creation of multiple cluster profile versions using the same profile name. This provides you with better change visibility and control over the layers in your host clusters. Profile versions are commonly used for adding or removing layers and pack configuration updates.
                - paragraph [ref=e823]:
                  - text: The version number of a given profile must be unique and use the semantic versioning format
                  - code [ref=e824]: major.minor.patch
                  - text: . In this tutorial, you used Terraform to deploy two versions of a GCP cluster profile. The snippet below displays a segment of the Terraform cluster profile resource version
                  - code [ref=e825]: 1.0.0
                  - text: that was deployed.
                - generic [ref=e827]:
                  - code [ref=e829]:
                    - generic [ref=e830]: "resource \"spectrocloud_cluster_profile\" \"gcp-profile\" {"
                    - generic [ref=e831]: "count = var.deploy-gcp ? 1 : 0"
                    - generic [ref=e832]: name = "tf-gcp-profile"
                    - generic [ref=e833]: description = "A basic cluster profile for GCP"
                    - generic [ref=e834]: tags = concat(var.tags, ["env:GCP"])
                    - generic [ref=e835]: cloud = "gcp"
                    - generic [ref=e836]: type = "cluster"
                    - generic [ref=e837]: version = "1.0.0"
                  - button "Copy code to clipboard" [ref=e839] [cursor=pointer]:
                    - generic [ref=e840]:
                      - img [ref=e841]
                      - img [ref=e843]
                - paragraph [ref=e845]:
                  - text: Open the
                  - strong [ref=e846]: terraform.tfvars
                  - text: file, set the
                  - code [ref=e847]: deploy-gcp-kubecost
                  - text: variable to true, and save the file. Once applied, the host cluster will use version
                  - code [ref=e848]: 1.1.0
                  - text: of the cluster profile with the Kubecost pack.
                - paragraph [ref=e849]:
                  - text: The snippet below displays the segment of the Terraform resource that creates the cluster profile version
                  - code [ref=e850]: 1.1.0
                  - text: . Note how the name
                  - code [ref=e851]: tf-gcp-profile
                  - text: is the same as in the first cluster profile resource, but the version is different.
                - generic [ref=e853]:
                  - code [ref=e855]:
                    - generic [ref=e856]: "resource \"spectrocloud_cluster_profile\" \"gcp-profile-kubecost\" {"
                    - generic [ref=e857]: "count = var.deploy-gcp ? 1 : 0"
                    - generic [ref=e858]: name = "tf-gcp-profile"
                    - generic [ref=e859]: description = "A basic cluster profile for GCP with Kubecost"
                    - generic [ref=e860]: tags = concat(var.tags, ["env:GCP"])
                    - generic [ref=e861]: cloud = "gcp"
                    - generic [ref=e862]: type = "cluster"
                    - generic [ref=e863]: version = "1.1.0"
                  - button "Copy code to clipboard" [ref=e865] [cursor=pointer]:
                    - generic [ref=e866]:
                      - img [ref=e867]
                      - img [ref=e869]
                - paragraph [ref=e871]: In the terminal window, issue the following command to plan the changes.
                - generic [ref=e873]:
                  - code [ref=e875]:
                    - generic [ref=e876]: terraform plan
                  - button "Copy code to clipboard" [ref=e878] [cursor=pointer]:
                    - generic [ref=e879]:
                      - img [ref=e880]
                      - img [ref=e882]
                - paragraph [ref=e884]:
                  - text: The output states that one resource will be modified. The deployed cluster will now use version
                  - code [ref=e885]: 1.1.0
                  - text: of the cluster profile.
                - code [ref=e889]:
                  - generic [ref=e890]: "Plan: 0 to add, 1 to change, 0 to destroy."
                - paragraph [ref=e891]:
                  - text: Issue the
                  - code [ref=e892]: apply
                  - text: command to deploy the changes.
                - generic [ref=e894]:
                  - code [ref=e896]:
                    - generic [ref=e897]: terraform apply -auto-approve
                  - button "Copy code to clipboard" [ref=e899] [cursor=pointer]:
                    - generic [ref=e900]:
                      - img [ref=e901]
                      - img [ref=e903]
                - paragraph [ref=e905]: Palette will now reconcile the current state of your workloads with the desired state specified by the new cluster profile version.
                - paragraph [ref=e906]:
                  - text: To visualize the reconciliation behavior, log in to
                  - link "Palette" [ref=e907] [cursor=pointer]:
                    - /url: https://console.spectrocloud.com
                  - text: ", and click"
                  - strong [ref=e908]: Clusters
                  - text: from the left
                  - strong [ref=e909]: Main Menu
                  - text: .
                - paragraph [ref=e910]:
                  - text: Select the cluster named
                  - code [ref=e911]: gcp-cluster
                  - text: . Click on the
                  - strong [ref=e912]: Events
                  - text: tab. Note how a cluster reconciliation action was triggered due to cluster profile changes.
                - paragraph [ref=e913]:
                  - img "Image that shows the cluster profile reconciliation behavior" [ref=e914]
                - paragraph [ref=e915]:
                  - text: Next, click on the
                  - strong [ref=e916]: Profile
                  - text: tab. Observe that the cluster is now using version
                  - code [ref=e917]: 1.1.0
                  - text: of the
                  - code [ref=e918]: tf-gcp-profile
                  - text: cluster profile.
                - paragraph [ref=e919]:
                  - img "Image that shows the new cluster profile version with Kubecost" [ref=e920]
                - paragraph [ref=e921]:
                  - text: Once the changes have been completed, Palette marks the cluster layers with a green status indicator. Click the
                  - strong [ref=e922]: Overview
                  - text: tab to verify that the Kubecost pack was successfully deployed.
                - paragraph [ref=e923]:
                  - img "Image that shows the cluster with Kubecost" [ref=e924]
                - paragraph [ref=e925]:
                  - text: Next, download the
                  - link "kubeconfig" [ref=e926] [cursor=pointer]:
                    - /url: /clusters/cluster-management/kubeconfig/
                  - text: file for your cluster from the Palette UI. This file enables you and other users to issue
                  - code [ref=e927]: kubectl
                  - text: commands against the host cluster.
                - paragraph [ref=e928]:
                  - img "Image that shows the cluster&#39;s kubeconfig file location" [ref=e929]
                - paragraph [ref=e930]:
                  - text: Open a new terminal window and set the environment variable
                  - code [ref=e931]: KUBECONFIG
                  - text: to point to the kubeconfig file you downloaded.
                - generic [ref=e933]:
                  - code [ref=e935]:
                    - generic [ref=e936]: export KUBECONFIG=~/Downloads/admin.gcp-cluster.kubeconfig
                  - button "Copy code to clipboard" [ref=e938] [cursor=pointer]:
                    - generic [ref=e939]:
                      - img [ref=e940]
                      - img [ref=e942]
                - paragraph [ref=e944]:
                  - text: Forward the Kubecost UI to your local network. The Kubecost dashboard is not exposed externally by default, so the command below will allow you to access it locally on port
                  - strong [ref=e945]: "9090"
                  - text: . If port 9090 is already taken, you can choose a different one.
                - generic [ref=e947]:
                  - code [ref=e949]:
                    - generic [ref=e950]: kubectl port-forward --namespace kubecost deployment/cost-analyzer-cost-analyzer 9090
                  - generic [ref=e951]:
                    - button "Toggle word wrap" [ref=e952] [cursor=pointer]:
                      - img [ref=e953]
                    - button "Copy code to clipboard" [ref=e955] [cursor=pointer]:
                      - generic [ref=e956]:
                        - img [ref=e957]
                        - img [ref=e959]
                - paragraph [ref=e961]:
                  - text: Open your browser window and navigate to
                  - code [ref=e962]: http://localhost:9090
                  - text: . The Kubecost UI provides you with a variety of cost information about your cluster. Read more about
                  - link "Navigating the Kubecost UI" [ref=e963] [cursor=pointer]:
                    - /url: https://docs.kubecost.com/using-kubecost/navigating-the-kubecost-ui
                  - text: to make the most of the cost analyzer pack.
                - paragraph [ref=e964]:
                  - img "Image that shows the Kubecost UI" [ref=e965]
                - paragraph [ref=e966]:
                  - text: Once you are done exploring the Kubecost dashboard, stop the
                  - code [ref=e967]: kubectl port-forward
                  - text: command by closing the terminal window it is executing from.
                - heading "Roll Back Cluster ProfilesDirect link to Roll Back Cluster Profiles" [level=2] [ref=e968]:
                  - text: Roll Back Cluster Profiles
                  - link "Direct link to Roll Back Cluster Profiles" [ref=e969] [cursor=pointer]:
                    - /url: "#roll-back-cluster-profiles"
                    - text: "#"
                - paragraph [ref=e970]: One of the key advantages of using cluster profile versions is that they make it possible to maintain a copy of previously known working states. The ability to roll back to a previously working cluster profile in one action shortens the time to recovery in the event of an incident.
                - paragraph [ref=e971]: The process of rolling back to a previous version using Terraform is similar to the process of applying a new version.
                - paragraph [ref=e972]:
                  - text: Open the
                  - strong [ref=e973]: terraform.tfvars
                  - text: file, set the
                  - code [ref=e974]: deploy-gcp-kubecost
                  - text: variable to false, and save the file. Once applied, this action will make the active cluster use version
                  - strong [ref=e975]: 1.0.0
                  - text: of the cluster profile again.
                - paragraph [ref=e976]: In the terminal window, issue the following command to plan the changes.
                - generic [ref=e978]:
                  - code [ref=e980]:
                    - generic [ref=e981]: terraform plan
                  - button "Copy code to clipboard" [ref=e983] [cursor=pointer]:
                    - generic [ref=e984]:
                      - img [ref=e985]
                      - img [ref=e987]
                - paragraph [ref=e989]:
                  - text: The output states that the deployed cluster will now use version
                  - code [ref=e990]: 1.0.0
                  - text: of the cluster profile.
                - code [ref=e994]:
                  - generic [ref=e995]: "Plan: 0 to add, 1 to change, 0 to destroy."
                - paragraph [ref=e996]:
                  - text: Issue the
                  - code [ref=e997]: apply
                  - text: command to deploy the changes.
                - generic [ref=e999]:
                  - code [ref=e1001]:
                    - generic [ref=e1002]: terraform apply -auto-approve
                  - button "Copy code to clipboard" [ref=e1004] [cursor=pointer]:
                    - generic [ref=e1005]:
                      - img [ref=e1006]
                      - img [ref=e1008]
                - paragraph [ref=e1010]:
                  - text: Palette now makes the changes required for the cluster to return to the state specified in version
                  - code [ref=e1011]: 1.0.0
                  - text: of your cluster profile. Once your changes have completed, Palette marks your layers with the green status indicator.
                - paragraph [ref=e1012]:
                  - img "Image that shows the cluster using version 1.0.0 of the cluster profile" [ref=e1013]
                - heading "CleanupDirect link to Cleanup" [level=2] [ref=e1014]:
                  - text: Cleanup
                  - link "Direct link to Cleanup" [ref=e1015] [cursor=pointer]:
                    - /url: "#cleanup"
                    - text: "#"
                - paragraph [ref=e1016]:
                  - text: Use the following steps to clean up the resources you created for the tutorial. Use the
                  - code [ref=e1017]: destroy
                  - text: command to remove all the resources you created through Terraform.
                - generic [ref=e1019]:
                  - code [ref=e1021]:
                    - generic [ref=e1022]: terraform destroy --auto-approve
                  - button "Copy code to clipboard" [ref=e1024] [cursor=pointer]:
                    - generic [ref=e1025]:
                      - img [ref=e1026]
                      - img [ref=e1028]
                - paragraph [ref=e1030]:
                  - text: A successful execution of
                  - code [ref=e1031]: terraform destroy
                  - text: will output the following.
                - generic [ref=e1033]:
                  - code [ref=e1035]:
                    - generic [ref=e1036]: "Destroy complete! Resources: 3 destroyed."
                  - button "Copy code to clipboard" [ref=e1038] [cursor=pointer]:
                    - generic [ref=e1039]:
                      - img [ref=e1040]
                      - img [ref=e1042]
                - generic [ref=e1044]:
                  - generic [ref=e1045]:
                    - img [ref=e1047]
                    - text: info
                  - paragraph [ref=e1050]:
                    - text: If a cluster remains in the delete phase for over 15 minutes, it becomes eligible for force delete. To trigger a force delete action, navigate to the cluster‚Äôs details page and click on
                    - strong [ref=e1051]: Settings
                    - text: . Click on
                    - strong [ref=e1052]: Force Delete Cluster
                    - text: to delete the cluster. Palette automatically removes clusters stuck in the cluster deletion phase for over 24 hours.
                - paragraph [ref=e1053]:
                  - text: If you are using the tutorial container, type
                  - code [ref=e1054]: exit
                  - text: in your terminal session and press the
                  - strong [ref=e1055]: Enter
                  - text: key. Next, issue the following command to stop and remove the container.
                - generic [ref=e1056]:
                  - tablist [ref=e1057]:
                    - tab "Docker" [selected] [ref=e1058] [cursor=pointer]
                    - tab "Podman" [ref=e1059] [cursor=pointer]
                  - tabpanel [ref=e1061]:
                    - generic [ref=e1063]:
                      - code [ref=e1065]:
                        - generic [ref=e1066]: docker stop tutorialContainer && \
                        - generic [ref=e1067]: docker rmi --force ghcr.io/spectrocloud/tutorials:1.3.0
                      - button "Copy code to clipboard" [ref=e1069] [cursor=pointer]:
                        - generic [ref=e1070]:
                          - img [ref=e1071]
                          - img [ref=e1073]
                - heading "Wrap-UpDirect link to Wrap-Up" [level=2] [ref=e1075]:
                  - text: Wrap-Up
                  - link "Direct link to Wrap-Up" [ref=e1076] [cursor=pointer]:
                    - /url: "#wrap-up"
                    - text: "#"
                - paragraph [ref=e1077]: In this tutorial, you learned how to create different versions of a cluster profile using Terraform. You deployed a host GCP cluster and then updated it to use a different version of a cluster profile. Finally, you learned how to perform cluster profile roll backs.
                - paragraph [ref=e1078]:
                  - text: We encourage you to check out the
                  - link "Scale, Upgrade, and Secure Clusters" [ref=e1079] [cursor=pointer]:
                    - /url: /tutorials/getting-started/palette/gcp/scale-secure-cluster/
                  - text: tutorial to learn how to perform common Day-2 operations on your deployed clusters.
                - heading "üßë‚ÄçüöÄ Catch up with SpacetasticDirect link to üßë‚ÄçüöÄ Catch up with Spacetastic" [level=2] [ref=e1080]:
                  - text: üßë‚ÄçüöÄ Catch up with Spacetastic
                  - link "Direct link to üßë‚ÄçüöÄ Catch up with Spacetastic" [ref=e1081] [cursor=pointer]:
                    - /url: "#-catch-up-with-spacetastic"
                    - text: "#"
                - paragraph [ref=e1082]: Wren and Kai have followed this tutorial and have learned how Palette supports IaC through Terraform. They found the essentials covered to be a great introduction to IaC, and it gives them the confidence to kick off this initiative at Spacetastic.
                - blockquote [ref=e1083]:
                  - paragraph [ref=e1084]: "\"I'd say that deploying Palette clusters with Terraform is even more convenient than through the UI,\" says Kai. \"The Palette Terraform provider includes a lot of the same functionality that the UI provides.\""
                  - paragraph [ref=e1085]: "\"Yes! I definitely agree. I'm a Terraform novice and I could follow along with this tutorial,\" says Wren. \"This has definitely inspired me to make our IaC adoption a priority in the medium term future.\""
              - generic [ref=e1086]:
                - generic [ref=e1088]:
                  - text: "Tags:"
                  - list [ref=e1089]:
                    - listitem [ref=e1090]:
                      - link "getting-started" [ref=e1091] [cursor=pointer]:
                        - /url: /tags/getting-started/
                    - listitem [ref=e1092]:
                      - link "gcp" [ref=e1093] [cursor=pointer]:
                        - /url: /tags/gcp/
                    - listitem [ref=e1094]:
                      - link "terraform" [ref=e1095] [cursor=pointer]:
                        - /url: /tags/terraform/
                    - listitem [ref=e1096]:
                      - link "tutorial" [ref=e1097] [cursor=pointer]:
                        - /url: /tags/tutorial/
                - link "Edit this page" [ref=e1100] [cursor=pointer]:
                  - /url: https://github.com/spectrocloud/librarium/blob/master/docs/docs-content/tutorials/getting-started/palette/gcp/deploy-manage-k8s-cluster-tf.md
                  - img [ref=e1101]
                  - text: Edit this page
            - navigation "Docs pages" [ref=e1105]:
              - link "Previous ¬´ Deploy Cluster Profile Updates" [ref=e1106] [cursor=pointer]:
                - /url: /tutorials/getting-started/palette/gcp/update-k8s-cluster/
                - generic [ref=e1107]: Previous
                - generic [ref=e1108]: ¬´ Deploy Cluster Profile Updates
              - link "Next Scale, Upgrade, and Secure Clusters ¬ª" [ref=e1109] [cursor=pointer]:
                - /url: /tutorials/getting-started/palette/gcp/scale-secure-cluster/
                - generic [ref=e1110]: Next
                - generic [ref=e1111]: Scale, Upgrade, and Secure Clusters ¬ª
          - list [ref=e1114]:
            - listitem [ref=e1115]:
              - link "üßë‚ÄçüöÄ Back at Spacetastic HQ" [ref=e1116] [cursor=pointer]:
                - /url: "#-back-at-spacetastic-hq"
            - listitem [ref=e1117]:
              - link "Prerequisites" [ref=e1118] [cursor=pointer]:
                - /url: "#prerequisites"
            - listitem [ref=e1119]:
              - link "Set Up Local Environment" [ref=e1120] [cursor=pointer]:
                - /url: "#set-up-local-environment"
            - listitem [ref=e1121]:
              - link "Resources Review" [ref=e1122] [cursor=pointer]:
                - /url: "#resources-review"
            - listitem [ref=e1123]:
              - link "Terraform Tests" [ref=e1124] [cursor=pointer]:
                - /url: "#terraform-tests"
            - listitem [ref=e1125]:
              - link "Input Variables" [ref=e1126] [cursor=pointer]:
                - /url: "#input-variables"
            - listitem [ref=e1127]:
              - link "Deploy the Cluster" [ref=e1128] [cursor=pointer]:
                - /url: "#deploy-the-cluster"
            - listitem [ref=e1129]:
              - link "Version Cluster Profiles" [ref=e1130] [cursor=pointer]:
                - /url: "#version-cluster-profiles"
            - listitem [ref=e1131]:
              - link "Roll Back Cluster Profiles" [ref=e1132] [cursor=pointer]:
                - /url: "#roll-back-cluster-profiles"
            - listitem [ref=e1133]:
              - link "Cleanup" [ref=e1134] [cursor=pointer]:
                - /url: "#cleanup"
            - listitem [ref=e1135]:
              - link "Wrap-Up" [ref=e1136] [cursor=pointer]:
                - /url: "#wrap-up"
            - listitem [ref=e1137]:
              - link "üßë‚ÄçüöÄ Catch up with Spacetastic" [ref=e1138] [cursor=pointer]:
                - /url: "#-catch-up-with-spacetastic"
  - button "Project Logo Ask AI" [ref=e1139] [cursor=pointer]:
    - generic [ref=e1142]:
      - img "Project Logo" [ref=e1143]
      - paragraph [ref=e1144]: Ask AI
```