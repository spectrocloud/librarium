# Page snapshot

```yaml
- generic [active] [ref=e1]:
  - generic [ref=e2]:
    - region "Skip to main content":
      - link "Skip to main content" [ref=e3] [cursor=pointer]:
        - /url: "#__docusaurus_skipToContent_fallback"
    - navigation "Main" [ref=e4]:
      - generic [ref=e5]:
        - generic [ref=e6]:
          - link "Spectro cloud logo" [ref=e7] [cursor=pointer]:
            - /url: /
            - img "Spectro cloud logo" [ref=e9]
          - link "Docs" [ref=e10] [cursor=pointer]:
            - /url: /release-notes/
          - link "Tutorials" [ref=e11] [cursor=pointer]:
            - /url: /tutorials/
          - link "Downloads" [ref=e12] [cursor=pointer]:
            - /url: /downloads/
          - link "API" [ref=e13] [cursor=pointer]:
            - /url: /api/introduction/
          - button "latest" [ref=e15] [cursor=pointer]
        - generic [ref=e16]:
          - link "GitHub repository" [ref=e17] [cursor=pointer]:
            - /url: https://github.com/spectrocloud/librarium
          - button "Switch between dark and light mode (currently system mode)" [ref=e19] [cursor=pointer]:
            - img [ref=e20]
          - button "Search (Control+k)" [ref=e23] [cursor=pointer]:
            - generic [ref=e24]:
              - img [ref=e25]
              - generic [ref=e28]: Search
    - generic [ref=e32]:
      - complementary [ref=e33]:
        - generic [ref=e35]:
          - link "Spectro cloud logo" [ref=e36] [cursor=pointer]:
            - /url: /
            - img "Spectro cloud logo" [ref=e37]
          - navigation "Docs sidebar" [ref=e38]:
            - list [ref=e39]:
              - listitem [ref=e40]:
                - generic [ref=e41]:
                  - link "Release Notes" [ref=e42] [cursor=pointer]:
                    - /url: /release-notes/
                    - img [ref=e44]
                    - text: Release Notes
                  - button "Toggle the collapsible sidebar category 'Release Notes'" [ref=e46] [cursor=pointer]
              - listitem [ref=e47]:
                - generic [ref=e48]:
                  - link "Security Bulletins" [ref=e49] [cursor=pointer]:
                    - /url: /security-bulletins/
                    - img [ref=e51]
                    - text: Security Bulletins
                  - button "Toggle the collapsible sidebar category 'Security Bulletins'" [ref=e53] [cursor=pointer]
              - listitem [ref=e54]:
                - generic [ref=e55]:
                  - link "What is Palette?" [ref=e56] [cursor=pointer]:
                    - /url: /
                    - img [ref=e58]
                    - text: What is Palette?
                  - button "Toggle the collapsible sidebar category 'What is Palette?'" [ref=e60] [cursor=pointer]
              - listitem [ref=e61]:
                - link "Getting Started" [ref=e62] [cursor=pointer]:
                  - /url: /getting-started/
                  - img [ref=e64]
                  - text: Getting Started
              - listitem [ref=e66]:
                - generic [ref=e67]:
                  - link "Architecture" [ref=e68] [cursor=pointer]:
                    - /url: /architecture/
                    - img [ref=e70]
                    - text: Architecture
                  - button "Toggle the collapsible sidebar category 'Architecture'" [ref=e72] [cursor=pointer]
              - listitem [ref=e73]:
                - generic [ref=e74]:
                  - link "Profiles" [ref=e75] [cursor=pointer]:
                    - /url: /profiles/
                    - img [ref=e77]
                    - text: Profiles
                  - button "Toggle the collapsible sidebar category 'Profiles'" [ref=e81] [cursor=pointer]
              - listitem [ref=e82]:
                - generic [ref=e83]:
                  - link "Cluster Templates" [ref=e84] [cursor=pointer]:
                    - /url: /cluster-templates/
                    - img [ref=e86]
                    - text: Cluster Templates
                  - button "Toggle the collapsible sidebar category 'Cluster Templates'" [ref=e88] [cursor=pointer]
              - listitem [ref=e89]:
                - generic [ref=e90]:
                  - link "Deployment Modes" [ref=e91] [cursor=pointer]:
                    - /url: /deployment-modes/
                    - img [ref=e93]
                    - text: Deployment Modes
                  - button "Toggle the collapsible sidebar category 'Deployment Modes'" [ref=e95] [cursor=pointer]
              - listitem [ref=e96]:
                - generic [ref=e97]:
                  - link "Clusters" [expanded] [ref=e98] [cursor=pointer]:
                    - /url: /clusters/
                    - img [ref=e100]
                    - text: Clusters
                  - button "Toggle the collapsible sidebar category 'Clusters'" [ref=e106] [cursor=pointer]
                - list [ref=e107]:
                  - listitem [ref=e108]:
                    - generic [ref=e109]:
                      - link "Public Cloud Clusters" [expanded] [ref=e110] [cursor=pointer]:
                        - /url: /clusters/public-cloud/
                        - img [ref=e112]
                        - text: Public Cloud Clusters
                      - button "Toggle the collapsible sidebar category 'Public Cloud Clusters'" [ref=e114] [cursor=pointer]
                    - list [ref=e115]:
                      - listitem [ref=e116]:
                        - generic [ref=e117]:
                          - link "AWS" [expanded] [ref=e118] [cursor=pointer]:
                            - /url: /clusters/public-cloud/aws/
                          - button "Toggle the collapsible sidebar category 'AWS'" [ref=e119] [cursor=pointer]
                        - list [ref=e120]:
                          - listitem [ref=e121]:
                            - link "Architecture" [ref=e122] [cursor=pointer]:
                              - /url: /clusters/public-cloud/aws/architecture/
                          - listitem [ref=e123]:
                            - link "Register and Manage AWS Accounts" [ref=e124] [cursor=pointer]:
                              - /url: /clusters/public-cloud/aws/add-aws-accounts/
                          - listitem [ref=e125]:
                            - link "Create and Manage AWS IaaS Cluster" [ref=e126] [cursor=pointer]:
                              - /url: /clusters/public-cloud/aws/create-cluster/
                          - listitem [ref=e127]:
                            - link "Create and Manage AWS EKS Cluster" [ref=e128] [cursor=pointer]:
                              - /url: /clusters/public-cloud/aws/eks/
                          - listitem [ref=e129]:
                            - generic [ref=e130]:
                              - link "EKS Hybrid Nodes" [ref=e131] [cursor=pointer]:
                                - /url: /clusters/public-cloud/aws/eks-hybrid-nodes/
                              - button "Toggle the collapsible sidebar category 'EKS Hybrid Nodes'" [ref=e132] [cursor=pointer]
                          - listitem [ref=e133]:
                            - link "Enable Secrets Encryption for EKS Cluster" [ref=e134] [cursor=pointer]:
                              - /url: /clusters/public-cloud/aws/enable-secrets-encryption-kms-key/
                          - listitem [ref=e135]:
                            - link "Enable Disk Encryption for EKS Cluster" [ref=e136] [cursor=pointer]:
                              - /url: /clusters/public-cloud/aws/enable-disk-encryption-eks-cluster/
                          - listitem [ref=e137]:
                            - link "Configure Karpenter for EKS Clusters" [ref=e138] [cursor=pointer]:
                              - /url: /clusters/public-cloud/aws/configure-karpenter-eks-clusters/
                          - listitem [ref=e139]:
                            - link "Required IAM Policies" [ref=e140] [cursor=pointer]:
                              - /url: /clusters/public-cloud/aws/required-iam-policies/
                      - listitem [ref=e141]:
                        - generic [ref=e142]:
                          - link "Azure" [ref=e143] [cursor=pointer]:
                            - /url: /clusters/public-cloud/azure/
                          - button "Toggle the collapsible sidebar category 'Azure'" [ref=e144] [cursor=pointer]
                      - listitem [ref=e145]:
                        - generic [ref=e146]:
                          - link "GCP" [ref=e147] [cursor=pointer]:
                            - /url: /clusters/public-cloud/gcp/
                          - button "Toggle the collapsible sidebar category 'GCP'" [ref=e148] [cursor=pointer]
                  - listitem [ref=e149]:
                    - generic [ref=e150]:
                      - link "Data Center Clusters" [ref=e151] [cursor=pointer]:
                        - /url: /clusters/data-center/
                        - img [ref=e153]
                        - text: Data Center Clusters
                      - button "Toggle the collapsible sidebar category 'Data Center Clusters'" [ref=e155] [cursor=pointer]
                  - listitem [ref=e156]:
                    - generic [ref=e157]:
                      - link "Edge" [ref=e158] [cursor=pointer]:
                        - /url: /clusters/edge/
                        - img [ref=e160]
                        - text: Edge
                      - button "Toggle the collapsible sidebar category 'Edge'" [ref=e162] [cursor=pointer]
                  - listitem [ref=e163]:
                    - generic [ref=e164]:
                      - link "Palette Virtual Clusters" [ref=e165] [cursor=pointer]:
                        - /url: /clusters/palette-virtual-clusters/
                        - img [ref=e167]
                        - text: Palette Virtual Clusters
                      - button "Toggle the collapsible sidebar category 'Palette Virtual Clusters'" [ref=e169] [cursor=pointer]
                  - listitem [ref=e170]:
                    - generic [ref=e171]:
                      - link "Imported Clusters" [ref=e172] [cursor=pointer]:
                        - /url: /clusters/imported-clusters/
                        - img [ref=e174]
                        - text: Imported Clusters
                      - button "Toggle the collapsible sidebar category 'Imported Clusters'" [ref=e176] [cursor=pointer]
                  - listitem [ref=e177]:
                    - generic [ref=e178]:
                      - link "Manage Clusters" [ref=e179] [cursor=pointer]:
                        - /url: /clusters/cluster-management/
                        - img [ref=e181]
                        - text: Manage Clusters
                      - button "Toggle the collapsible sidebar category 'Manage Clusters'" [ref=e183] [cursor=pointer]
                  - listitem [ref=e184]:
                    - generic [ref=e185]:
                      - link "Cluster Groups" [ref=e186] [cursor=pointer]:
                        - /url: /clusters/cluster-groups/
                        - img [ref=e188]
                        - text: Cluster Groups
                      - button "Toggle the collapsible sidebar category 'Cluster Groups'" [ref=e190] [cursor=pointer]
                  - listitem [ref=e191]:
                    - generic [ref=e192]:
                      - link "Private Cloud Gateway" [ref=e193] [cursor=pointer]:
                        - /url: /clusters/pcg/
                        - img [ref=e195]
                        - text: Private Cloud Gateway
                      - button "Toggle the collapsible sidebar category 'Private Cloud Gateway'" [ref=e197] [cursor=pointer]
              - listitem [ref=e198]:
                - generic [ref=e199]:
                  - link "Bring Your Own OS (BYOOS)" [ref=e200] [cursor=pointer]:
                    - /url: /byoos/
                    - img [ref=e202]
                    - text: Bring Your Own OS (BYOOS)
                  - button "Toggle the collapsible sidebar category 'Bring Your Own OS (BYOOS)'" [ref=e204] [cursor=pointer]
              - listitem [ref=e205]:
                - generic [ref=e206]:
                  - link "Palette Dev Engine" [ref=e207] [cursor=pointer]:
                    - /url: /devx/
                    - img [ref=e209]
                    - text: Palette Dev Engine
                  - button "Toggle the collapsible sidebar category 'Palette Dev Engine'" [ref=e211] [cursor=pointer]
              - listitem [ref=e212]:
                - generic [ref=e213]:
                  - link "Virtual Machine Orchestrator" [ref=e214] [cursor=pointer]:
                    - /url: /vm-management/
                    - img [ref=e216]
                    - text: Virtual Machine Orchestrator
                  - button "Toggle the collapsible sidebar category 'Virtual Machine Orchestrator'" [ref=e218] [cursor=pointer]
              - listitem [ref=e219]:
                - generic [ref=e220]:
                  - link "Workspaces" [ref=e221] [cursor=pointer]:
                    - /url: /workspace/
                    - img [ref=e223]
                    - text: Workspaces
                  - button "Toggle the collapsible sidebar category 'Workspaces'" [ref=e225] [cursor=pointer]
              - listitem [ref=e226]:
                - generic [ref=e227]:
                  - link "Packs List" [ref=e228] [cursor=pointer]:
                    - /url: /integrations/
                    - img [ref=e230]
                    - text: Packs List
                  - button "Toggle the collapsible sidebar category 'Packs List'" [ref=e232] [cursor=pointer]
              - listitem [ref=e233]:
                - generic [ref=e234]:
                  - link "User & Role Management" [ref=e235] [cursor=pointer]:
                    - /url: /user-management/
                    - img [ref=e237]
                    - text: User & Role Management
                  - button "Toggle the collapsible sidebar category 'User & Role Management'" [ref=e239] [cursor=pointer]
              - listitem [ref=e240]:
                - generic [ref=e241]:
                  - link "Registries and Packs" [ref=e242] [cursor=pointer]:
                    - /url: /registries-and-packs/
                    - img [ref=e244]
                    - text: Registries and Packs
                  - button "Toggle the collapsible sidebar category 'Registries and Packs'" [ref=e246] [cursor=pointer]
              - listitem [ref=e247]:
                - generic [ref=e248]:
                  - link "Security" [ref=e249] [cursor=pointer]:
                    - /url: /security/
                    - img [ref=e251]
                    - text: Security
                  - button "Toggle the collapsible sidebar category 'Security'" [ref=e253] [cursor=pointer]
              - listitem [ref=e254]:
                - generic [ref=e255]:
                  - link "Audit Logs" [ref=e256] [cursor=pointer]:
                    - /url: /audit-logs/
                    - img [ref=e258]
                    - text: Audit Logs
                  - button "Toggle the collapsible sidebar category 'Audit Logs'" [ref=e260] [cursor=pointer]
              - listitem [ref=e261]:
                - generic [ref=e262]:
                  - link "Self-Hosted Palette" [ref=e263] [cursor=pointer]:
                    - /url: /enterprise-version/
                    - img [ref=e265]
                    - text: Self-Hosted Palette
                  - button "Toggle the collapsible sidebar category 'Self-Hosted Palette'" [ref=e267] [cursor=pointer]
              - listitem [ref=e268]:
                - generic [ref=e269]:
                  - link "Palette VerteX" [ref=e270] [cursor=pointer]:
                    - /url: /vertex/
                    - img [ref=e272]
                    - text: Palette VerteX
                  - button "Toggle the collapsible sidebar category 'Palette VerteX'" [ref=e274] [cursor=pointer]
              - listitem [ref=e275]:
                - generic [ref=e276]:
                  - link "Tenant Administration" [ref=e277] [cursor=pointer]:
                    - /url: /tenant-settings/
                    - img [ref=e279]
                    - text: Tenant Administration
                  - button "Toggle the collapsible sidebar category 'Tenant Administration'" [ref=e281] [cursor=pointer]
              - listitem [ref=e282]:
                - generic [ref=e283]:
                  - link "Automation" [ref=e284] [cursor=pointer]:
                    - /url: /automation/
                    - img [ref=e286]
                    - text: Automation
                  - button "Toggle the collapsible sidebar category 'Automation'" [ref=e288] [cursor=pointer]
              - listitem [ref=e289]:
                - generic [ref=e290]:
                  - link "Troubleshooting" [ref=e291] [cursor=pointer]:
                    - /url: /troubleshooting/
                    - img [ref=e293]
                    - text: Troubleshooting
                  - button "Toggle the collapsible sidebar category 'Troubleshooting'" [ref=e295] [cursor=pointer]
              - listitem [ref=e296]:
                - link "Glossary" [ref=e297] [cursor=pointer]:
                  - /url: /glossary-all/
                  - img [ref=e299]
                  - text: Glossary
              - listitem [ref=e301]:
                - generic [ref=e302]:
                  - link "Compliance & Legal" [ref=e303] [cursor=pointer]:
                    - /url: /legal-licenses/
                    - img [ref=e305]
                    - text: Compliance & Legal
                  - button "Toggle the collapsible sidebar category 'Compliance & Legal'" [ref=e307] [cursor=pointer]
              - listitem [ref=e308]:
                - button "Privacy Settings" [ref=e309] [cursor=pointer]:
                  - img [ref=e310]
                  - text: Privacy Settings
      - main [ref=e312]:
        - generic [ref=e314]:
          - generic [ref=e316]:
            - article [ref=e317]:
              - navigation "Breadcrumbs" [ref=e318]:
                - list [ref=e319]:
                  - listitem [ref=e320]:
                    - link "Home page" [ref=e321] [cursor=pointer]:
                      - /url: /
                      - img [ref=e322]
                  - listitem [ref=e324]:
                    - link "Clusters" [ref=e325] [cursor=pointer]:
                      - /url: /clusters/
                  - listitem [ref=e326]:
                    - link "Public Cloud Clusters" [ref=e327] [cursor=pointer]:
                      - /url: /clusters/public-cloud/
                  - listitem [ref=e328]:
                    - link "AWS" [ref=e329] [cursor=pointer]:
                      - /url: /clusters/public-cloud/aws/
                  - listitem [ref=e330]:
                    - generic [ref=e331]: Required IAM Policies
              - generic [ref=e332]:
                - heading "Required IAM Policies" [level=1] [ref=e334]
                - paragraph [ref=e335]: Palette requires proper Amazon Web Services (AWS) permissions to operate and perform actions on your behalf. The following policies include all the permissions needed for Palette to deploy and manage clusters on AWS.
                - list [ref=e336]:
                  - listitem [ref=e337]:
                    - paragraph [ref=e338]:
                      - strong [ref=e339]: PaletteControllerPolicy
                  - listitem [ref=e340]:
                    - paragraph [ref=e341]:
                      - strong [ref=e342]: PaletteControlPlanePolicy
                  - listitem [ref=e343]:
                    - paragraph [ref=e344]:
                      - strong [ref=e345]: PaletteNodesPolicy
                  - listitem [ref=e346]:
                    - paragraph [ref=e347]:
                      - strong [ref=e348]: PaletteDeploymentPolicy
                - paragraph [ref=e349]:
                  - text: Additional IAM policies may be required depending on the use case. For example, AWS Elastic Kubernetes Service (EKS) requires the
                  - strong [ref=e350]: PaletteControllersEKSPolicy
                  - text: . Check out the
                  - link "Controllers EKS Policy" [ref=e351] [cursor=pointer]:
                    - /url: "#controllers-eks-policy"
                  - text: section to review the IAM policy.
                - generic [ref=e352]:
                  - generic [ref=e353]:
                    - img [ref=e355]
                    - text: warning
                  - paragraph [ref=e358]:
                    - text: You can attach a maximum of ten managed policies to an IAM User or role. Exceeding this limit will result in cluster deployment failures. If you find yourself in a scenario where you are exceeding the limit, consider combining policies into a custom-managed policy. You can learn more about AWS IAM limits in the
                    - link "IAM Quotas" [ref=e359] [cursor=pointer]:
                      - /url: https://docs.aws.amazon.com/us_en/IAM/latest/UserGuide/reference_iam-quotas.html
                    - text: reference guide.
                - paragraph [ref=e360]:
                  - text: If you want to narrow down the IAM permissions, you can use the
                  - link "Minimum Permissions" [ref=e361] [cursor=pointer]:
                    - /url: "#minimum-permissions-policies"
                  - text: policies. These policies are designed to follow the
                  - link "principle of least privilege" [ref=e362] [cursor=pointer]:
                    - /url: https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#grant-least-privilege
                  - text: . You can also use the Static Policy for deploying clusters within an existing VPC without provisioning or deleting foundational network resources.
                - generic [ref=e363]:
                  - generic [ref=e364]:
                    - img [ref=e366]
                    - text: tip
                  - paragraph [ref=e369]:
                    - text: You can use Palette CLI to verify you have setup the correct permissions. Check out the Palette CLI
                    - link "validate-auth" [ref=e370] [cursor=pointer]:
                      - /url: /automation/palette-cli/commands/validate-auth/
                      - code [ref=e371]: validate-auth
                    - text: command section for more information.
                - heading "Core IAM PoliciesDirect link to Core IAM Policies" [level=2] [ref=e372]:
                  - text: Core IAM Policies
                  - link "Direct link to Core IAM Policies" [ref=e373] [cursor=pointer]:
                    - /url: "#core-iam-policies"
                    - text: "#"
                - paragraph [ref=e374]: The four core IAM policies are required for Palette to operate.
                - generic [ref=e375]:
                  - tablist [ref=e376]:
                    - tab "Controller Policy" [selected] [ref=e377] [cursor=pointer]
                    - tab "Control Plane Policy" [ref=e378] [cursor=pointer]
                    - tab "Nodes Policy" [ref=e379] [cursor=pointer]
                    - tab "Deployment Policy" [ref=e380] [cursor=pointer]
                  - tabpanel [ref=e382]:
                    - paragraph [ref=e383]:
                      - strong [ref=e384]: Last Update
                      - text: ": May 25, 2025"
                    - generic [ref=e386]:
                      - code [ref=e388]:
                        - generic [ref=e389]: "{"
                        - generic [ref=e390]: "\"Version\": \"2012-10-17\","
                        - generic [ref=e391]: "\"Statement\": ["
                        - generic [ref=e392]: "{"
                        - generic [ref=e393]: "\"Action\": ["
                        - generic [ref=e394]: "\"iam:DeleteOpenIDConnectProvider\","
                        - generic [ref=e395]: "\"iam:GetOpenIDConnectProvider\","
                        - generic [ref=e396]: "\"iam:ListOpenIDConnectProviders\","
                        - generic [ref=e397]: "\"iam:TagOpenIDConnectProvider\","
                        - generic [ref=e398]: "\"autoscaling:DescribeAutoScalingGroups\","
                        - generic [ref=e399]: "\"autoscaling:DescribeInstanceRefreshes\","
                        - generic [ref=e400]: "\"ec2:AllocateAddress\","
                        - generic [ref=e401]: "\"ec2:AssociateRouteTable\","
                        - generic [ref=e402]: "\"ec2:AttachInternetGateway\","
                        - generic [ref=e403]: "\"ec2:AuthorizeSecurityGroupIngress\","
                        - generic [ref=e404]: "\"ec2:CreateInternetGateway\","
                        - generic [ref=e405]: "\"ec2:CreateLaunchTemplate\","
                        - generic [ref=e406]: "\"ec2:CreateLaunchTemplateVersion\","
                        - generic [ref=e407]: "\"ec2:CreateNatGateway\","
                        - generic [ref=e408]: "\"ec2:CreateRoute\","
                        - generic [ref=e409]: "\"ec2:CreateRouteTable\","
                        - generic [ref=e410]: "\"ec2:CreateSecurityGroup\","
                        - generic [ref=e411]: "\"ec2:CreateSubnet\","
                        - generic [ref=e412]: "\"ec2:CreateTags\","
                        - generic [ref=e413]: "\"ec2:CreateVpc\","
                        - generic [ref=e414]: "\"ec2:DeleteInternetGateway\","
                        - generic [ref=e415]: "\"ec2:DeleteLaunchTemplate\","
                        - generic [ref=e416]: "\"ec2:DeleteLaunchTemplateVersions\","
                        - generic [ref=e417]: "\"ec2:DeleteNatGateway\","
                        - generic [ref=e418]: "\"ec2:DeleteRouteTable\","
                        - generic [ref=e419]: "\"ec2:DeleteSecurityGroup\","
                        - generic [ref=e420]: "\"ec2:DeleteSubnet\","
                        - generic [ref=e421]: "\"ec2:DeleteTags\","
                        - generic [ref=e422]: "\"ec2:DeleteVpc\","
                        - generic [ref=e423]: "\"ec2:DescribeAccountAttributes\","
                        - generic [ref=e424]: "\"ec2:DescribeAddresses\","
                        - generic [ref=e425]: "\"ec2:DescribeAvailabilityZones\","
                        - generic [ref=e426]: "\"ec2:DescribeImages\","
                        - generic [ref=e427]: "\"ec2:DescribeInstances\","
                        - generic [ref=e428]: "\"ec2:DescribeInternetGateways\","
                        - generic [ref=e429]: "\"ec2:DescribeKeyPairs\","
                        - generic [ref=e430]: "\"ec2:DescribeLaunchTemplates\","
                        - generic [ref=e431]: "\"ec2:DescribeLaunchTemplateVersions\","
                        - generic [ref=e432]: "\"ec2:DescribeNatGateways\","
                        - generic [ref=e433]: "\"ec2:DescribeNetworkInterfaceAttribute\","
                        - generic [ref=e434]: "\"ec2:DescribeNetworkInterfaces\","
                        - generic [ref=e435]: "\"ec2:DescribeRouteTables\","
                        - generic [ref=e436]: "\"ec2:DescribeSecurityGroups\","
                        - generic [ref=e437]: "\"ec2:DescribeSubnets\","
                        - generic [ref=e438]: "\"ec2:DescribeVolumes\","
                        - generic [ref=e439]: "\"ec2:DescribeVpcAttribute\","
                        - generic [ref=e440]: "\"ec2:DescribeVpcs\","
                        - generic [ref=e441]: "\"ec2:DetachInternetGateway\","
                        - generic [ref=e442]: "\"ec2:DisassociateAddress\","
                        - generic [ref=e443]: "\"ec2:DisassociateRouteTable\","
                        - generic [ref=e444]: "\"ec2:ModifyInstanceAttribute\","
                        - generic [ref=e445]: "\"ec2:ModifyNetworkInterfaceAttribute\","
                        - generic [ref=e446]: "\"ec2:ModifySubnetAttribute\","
                        - generic [ref=e447]: "\"ec2:ModifyVpcAttribute\","
                        - generic [ref=e448]: "\"ec2:ReleaseAddress\","
                        - generic [ref=e449]: "\"ec2:ReplaceRoute\","
                        - generic [ref=e450]: "\"ec2:RevokeSecurityGroupIngress\","
                        - generic [ref=e451]: "\"ec2:RunInstances\","
                        - generic [ref=e452]: "\"ec2:TerminateInstances\","
                        - generic [ref=e453]: "\"elasticloadbalancing:AddTags\","
                        - generic [ref=e454]: "\"elasticloadbalancing:ApplySecurityGroupsToLoadBalancer\","
                        - generic [ref=e455]: "\"elasticloadbalancing:ConfigureHealthCheck\","
                        - generic [ref=e456]: "\"elasticloadbalancing:CreateLoadBalancer\","
                        - generic [ref=e457]: "\"elasticloadbalancing:DeleteLoadBalancer\","
                        - generic [ref=e458]: "\"elasticloadbalancing:DeleteTargetGroup\","
                        - generic [ref=e459]: "\"elasticloadbalancing:DeregisterInstancesFromLoadBalancer\","
                        - generic [ref=e460]: "\"elasticloadbalancing:DescribeLoadBalancerAttributes\","
                        - generic [ref=e461]: "\"elasticloadbalancing:DescribeLoadBalancers\","
                        - generic [ref=e462]: "\"elasticloadbalancing:DescribeTags\","
                        - generic [ref=e463]: "\"elasticloadbalancing:ModifyLoadBalancerAttributes\","
                        - generic [ref=e464]: "\"elasticloadbalancing:RegisterInstancesWithLoadBalancer\","
                        - generic [ref=e465]: "\"elasticloadbalancing:RemoveTags\","
                        - generic [ref=e466]: "\"iam:CreateOpenIDConnectProvider\","
                        - generic [ref=e467]: "\"tag:GetResources\","
                        - generic [ref=e468]: "\"ec2:DescribeIpamPools\","
                        - generic [ref=e469]: "\"ec2:AllocateIpamPoolCidr\","
                        - generic [ref=e470]: "\"ec2:AttachNetworkInterface\","
                        - generic [ref=e471]: "\"ec2:DetachNetworkInterface\","
                        - generic [ref=e472]: "\"ec2:AssignIpv6Addresses\","
                        - generic [ref=e473]: "\"ec2:AssignPrivateIpAddresses\","
                        - generic [ref=e474]: "\"ec2:UnassignPrivateIpAddresses\","
                        - generic [ref=e475]: "\"ec2:AssociateVpcCidrBlock\","
                        - generic [ref=e476]: "\"ec2:CreateCarrierGateway\","
                        - generic [ref=e477]: "\"ec2:CreateEgressOnlyInternetGateway\","
                        - generic [ref=e478]: "\"ec2:CreateNetworkInterface\","
                        - generic [ref=e479]: "\"ec2:CreateVpcEndpoint\","
                        - generic [ref=e480]: "\"ec2:DisassociateVpcCidrBlock\","
                        - generic [ref=e481]: "\"ec2:ModifyVpcEndpoint\","
                        - generic [ref=e482]: "\"ec2:DeleteCarrierGateway\","
                        - generic [ref=e483]: "\"ec2:DeleteEgressOnlyInternetGateway\","
                        - generic [ref=e484]: "\"ec2:DeleteVpcEndpoints\","
                        - generic [ref=e485]: "\"ec2:DescribeCarrierGateways\","
                        - generic [ref=e486]: "\"ec2:DescribeInstanceTypes\","
                        - generic [ref=e487]: "\"ec2:DescribeEgressOnlyInternetGateways\","
                        - generic [ref=e488]: "\"ec2:DescribeVpcEndpoints\","
                        - generic [ref=e489]: "\"ec2:DescribeDhcpOptions\","
                        - generic [ref=e490]: "\"ec2:DescribeTags\","
                        - generic [ref=e491]: "\"ec2:ModifyInstanceMetadataOptions\","
                        - generic [ref=e492]: "\"elasticloadbalancing:DescribeTargetGroups\","
                        - generic [ref=e493]: "\"elasticloadbalancing:SetSecurityGroups\","
                        - generic [ref=e494]: "\"elasticloadbalancing:SetSubnets\","
                        - generic [ref=e495]: "\"elasticloadbalancing:ModifyTargetGroupAttributes\","
                        - generic [ref=e496]: "\"elasticloadbalancing:CreateTargetGroup\","
                        - generic [ref=e497]: "\"elasticloadbalancing:DescribeListeners\","
                        - generic [ref=e498]: "\"elasticloadbalancing:CreateListener\","
                        - generic [ref=e499]: "\"elasticloadbalancing:DescribeTargetHealth\","
                        - generic [ref=e500]: "\"elasticloadbalancing:RegisterTargets\","
                        - generic [ref=e501]: "\"elasticloadbalancing:DeleteListener\","
                        - generic [ref=e502]: "\"sts:AssumeRole\""
                        - generic [ref=e503]: "],"
                        - generic [ref=e504]: "\"Resource\": [\"*\"],"
                        - generic [ref=e505]: "\"Effect\": \"Allow\""
                        - generic [ref=e506]: "},"
                        - generic [ref=e507]: "{"
                        - generic [ref=e508]: "\"Action\": ["
                        - generic [ref=e509]: "\"autoscaling:CreateAutoScalingGroup\","
                        - generic [ref=e510]: "\"autoscaling:UpdateAutoScalingGroup\","
                        - generic [ref=e511]: "\"autoscaling:CreateOrUpdateTags\","
                        - generic [ref=e512]: "\"autoscaling:StartInstanceRefresh\","
                        - generic [ref=e513]: "\"autoscaling:DeleteAutoScalingGroup\","
                        - generic [ref=e514]: "\"autoscaling:DeleteTags\""
                        - generic [ref=e515]: "],"
                        - generic [ref=e516]: "\"Resource\": ["
                        - generic [ref=e517]: "\"arn:*:autoscaling:*:*:autoScalingGroup:*:autoScalingGroupName/*\""
                        - generic [ref=e518]: "],"
                        - generic [ref=e519]: "\"Effect\": \"Allow\""
                        - generic [ref=e520]: "},"
                        - generic [ref=e521]: "{"
                        - generic [ref=e522]: "\"Condition\": {"
                        - generic [ref=e523]: "\"StringLike\": {"
                        - generic [ref=e524]: "\"iam:AWSServiceName\": \"autoscaling.amazonaws.com\""
                        - generic [ref=e525]: "}"
                        - generic [ref=e526]: "},"
                        - generic [ref=e527]: "\"Action\": [\"iam:CreateServiceLinkedRole\"],"
                        - generic [ref=e528]: "\"Resource\": ["
                        - generic [ref=e529]: "\"arn:*:iam::*:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling\""
                        - generic [ref=e530]: "],"
                        - generic [ref=e531]: "\"Effect\": \"Allow\""
                        - generic [ref=e532]: "},"
                        - generic [ref=e533]: "{"
                        - generic [ref=e534]: "\"Condition\": {"
                        - generic [ref=e535]: "\"StringLike\": {"
                        - generic [ref=e536]: "\"iam:AWSServiceName\": \"elasticloadbalancing.amazonaws.com\""
                        - generic [ref=e537]: "}"
                        - generic [ref=e538]: "},"
                        - generic [ref=e539]: "\"Action\": [\"iam:CreateServiceLinkedRole\"],"
                        - generic [ref=e540]: "\"Resource\": ["
                        - generic [ref=e541]: "\"arn:*:iam::*:role/aws-service-role/elasticloadbalancing.amazonaws.com/AWSServiceRoleForElasticLoadBalancing\""
                        - generic [ref=e542]: "],"
                        - generic [ref=e543]: "\"Effect\": \"Allow\""
                        - generic [ref=e544]: "},"
                        - generic [ref=e545]: "{"
                        - generic [ref=e546]: "\"Condition\": {"
                        - generic [ref=e547]: "\"StringLike\": {"
                        - generic [ref=e548]: "\"iam:AWSServiceName\": \"spot.amazonaws.com\""
                        - generic [ref=e549]: "}"
                        - generic [ref=e550]: "},"
                        - generic [ref=e551]: "\"Action\": [\"iam:CreateServiceLinkedRole\"],"
                        - generic [ref=e552]: "\"Resource\": ["
                        - generic [ref=e553]: "\"arn:*:iam::*:role/aws-service-role/spot.amazonaws.com/AWSServiceRoleForEC2Spot\""
                        - generic [ref=e554]: "],"
                        - generic [ref=e555]: "\"Effect\": \"Allow\""
                        - generic [ref=e556]: "},"
                        - generic [ref=e557]: "{"
                        - generic [ref=e558]: "\"Action\": [\"iam:PassRole\"],"
                        - generic [ref=e559]: "\"Resource\": [\"arn:*:iam::*:role/*.cluster-api-provider-aws.sigs.k8s.io\"],"
                        - generic [ref=e560]: "\"Effect\": \"Allow\""
                        - generic [ref=e561]: "},"
                        - generic [ref=e562]: "{"
                        - generic [ref=e563]: "\"Action\": ["
                        - generic [ref=e564]: "\"secretsmanager:CreateSecret\","
                        - generic [ref=e565]: "\"secretsmanager:DeleteSecret\","
                        - generic [ref=e566]: "\"secretsmanager:TagResource\""
                        - generic [ref=e567]: "],"
                        - generic [ref=e568]: "\"Resource\": [\"arn:*:secretsmanager:*:*:secret:aws.cluster.x-k8s.io/*\"],"
                        - generic [ref=e569]: "\"Effect\": \"Allow\""
                        - generic [ref=e570]: "},"
                        - generic [ref=e571]: "{"
                        - generic [ref=e572]: "\"Action\": ["
                        - generic [ref=e573]: "\"s3:DeleteObject\","
                        - generic [ref=e574]: "\"s3:PutBucketOwnershipControls\","
                        - generic [ref=e575]: "\"s3:PutBucketPolicy\","
                        - generic [ref=e576]: "\"s3:PutBucketPublicAccessBlock\","
                        - generic [ref=e577]: "\"s3:PutObjectAcl\","
                        - generic [ref=e578]: "\"s3:PutObject\""
                        - generic [ref=e579]: "],"
                        - generic [ref=e580]: "\"Resource\": [\"arn:*:s3:::*\"],"
                        - generic [ref=e581]: "\"Effect\": \"Allow\""
                        - generic [ref=e582]: "}"
                        - generic [ref=e583]: "]"
                        - generic [ref=e584]: "}"
                      - generic [ref=e585]:
                        - button "Toggle word wrap" [ref=e586] [cursor=pointer]:
                          - img [ref=e587]
                        - button "Copy code to clipboard" [ref=e589] [cursor=pointer]:
                          - generic [ref=e590]:
                            - img [ref=e591]
                            - img [ref=e593]
                - heading "Minimum Permissions PoliciesDirect link to Minimum Permissions Policies" [level=2] [ref=e595]:
                  - text: Minimum Permissions Policies
                  - link "Direct link to Minimum Permissions Policies" [ref=e596] [cursor=pointer]:
                    - /url: "#minimum-permissions-policies"
                    - text: "#"
                - paragraph [ref=e597]:
                  - text: The following policies are designed from the
                  - link "principle of least privilege" [ref=e598] [cursor=pointer]:
                    - /url: https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#grant-least-privilege
                  - text: . You can use these policies to narrow the permissions Palette requires to operate instead of using the
                  - link "Core IAM Policies" [ref=e599] [cursor=pointer]:
                    - /url: "#core-iam-policies"
                  - text: .
                - paragraph [ref=e600]:
                  - text: The
                  - strong [ref=e601]: Minimum Dynamic Permissions
                  - text: grants broad permissions across EC2, VPC, and Elastic Container Registry (ECR), allowing complete control over the lifecycle of virtual network and compute resources. This includes creating, modifying, and deleting VPCs, subnets, internet gateways, and route tables, as well as managing Docker images in ECR.
                - paragraph [ref=e602]:
                  - text: In contrast, the
                  - strong [ref=e603]: Static Policy
                  - text: is more restrictive, omitting permissions for creating and deleting core VPC components and excluding ECR access. However, it includes additional permissions for managing EC2 volumes and accessing S3 bucket encryption configurations.
                - paragraph [ref=e604]:
                  - text: Both policies provide similar access to CloudFormation, Elastic Load Balancing, IAM roles, and Secrets Manager. However, the
                  - strong [ref=e605]: Dynamic Policy
                  - text: supports full EC2 and network resource control, while the
                  - strong [ref=e606]: Static Policy
                  - text: is tailored for managing existing infrastructure without provisioning or deleting foundational network resources.
                - generic [ref=e607]:
                  - tablist [ref=e608]:
                    - tab "Minimum Dynamic Permissions" [selected] [ref=e609] [cursor=pointer]
                    - tab "Minimum Static Permissions" [ref=e610] [cursor=pointer]
                  - tabpanel [ref=e612]:
                    - paragraph [ref=e613]: The following policy allows Palette to operate and create VPC resources as needed while retaining minimal permissions for deploying clusters through Palette.
                    - paragraph [ref=e614]:
                      - strong [ref=e615]: Last Update
                      - text: ": May 25, 2025"
                    - generic [ref=e617]:
                      - code [ref=e619]:
                        - generic [ref=e620]: "{"
                        - generic [ref=e621]: "\"Version\": \"2012-10-17\","
                        - generic [ref=e622]: "\"Statement\": ["
                        - generic [ref=e623]: "{"
                        - generic [ref=e624]: "\"Sid\": \"PalettedynamicPermissions\","
                        - generic [ref=e625]: "\"Effect\": \"Allow\","
                        - generic [ref=e626]: "\"Action\": ["
                        - generic [ref=e627]: "\"autoscaling:CreateOrUpdateTags\","
                        - generic [ref=e628]: "\"autoscaling:DescribeAutoScalingGroups\","
                        - generic [ref=e629]: "\"autoscaling:StartInstanceRefresh\","
                        - generic [ref=e630]: "\"cloudformation:CreateStack\","
                        - generic [ref=e631]: "\"cloudformation:DescribeStacks\","
                        - generic [ref=e632]: "\"cloudformation:UpdateStack\","
                        - generic [ref=e633]: "\"ec2:AllocateAddress\","
                        - generic [ref=e634]: "\"ec2:AssociateAddress\","
                        - generic [ref=e635]: "\"ec2:AssociateRouteTable\","
                        - generic [ref=e636]: "\"ec2:AttachInternetGateway\","
                        - generic [ref=e637]: "\"ec2:AuthorizeSecurityGroupIngress\","
                        - generic [ref=e638]: "\"ec2:CreateInternetGateway\","
                        - generic [ref=e639]: "\"ec2:CreateNatGateway\","
                        - generic [ref=e640]: "\"ec2:CreateRoute\","
                        - generic [ref=e641]: "\"ec2:CreateRouteTable\","
                        - generic [ref=e642]: "\"ec2:CreateSecurityGroup\","
                        - generic [ref=e643]: "\"ec2:CreateSnapshot\","
                        - generic [ref=e644]: "\"ec2:CreateSubnet\","
                        - generic [ref=e645]: "\"ec2:CreateTags\","
                        - generic [ref=e646]: "\"ec2:CreateVpc\","
                        - generic [ref=e647]: "\"ec2:DeleteInternetGateway\","
                        - generic [ref=e648]: "\"ec2:DeleteNatGateway\","
                        - generic [ref=e649]: "\"ec2:DeleteNetworkInterface\","
                        - generic [ref=e650]: "\"ec2:DeleteRoute\","
                        - generic [ref=e651]: "\"ec2:DeleteRouteTable\","
                        - generic [ref=e652]: "\"ec2:DeleteSecurityGroup\","
                        - generic [ref=e653]: "\"ec2:DeleteSnapshot\","
                        - generic [ref=e654]: "\"ec2:DeleteSubnet\","
                        - generic [ref=e655]: "\"ec2:DeleteTags\","
                        - generic [ref=e656]: "\"ec2:DeleteVpc\","
                        - generic [ref=e657]: "\"ec2:DescribeAddresses\","
                        - generic [ref=e658]: "\"ec2:DescribeAvailabilityZones\","
                        - generic [ref=e659]: "\"ec2:DescribeDhcpOptions\","
                        - generic [ref=e660]: "\"ec2:DescribeImages\","
                        - generic [ref=e661]: "\"ec2:DescribeInstances\","
                        - generic [ref=e662]: "\"ec2:DescribeInternetGateways\","
                        - generic [ref=e663]: "\"ec2:DescribeIpamPools\","
                        - generic [ref=e664]: "\"ec2:DescribeIpv6Pools\","
                        - generic [ref=e665]: "\"ec2:DescribeKeyPairs\","
                        - generic [ref=e666]: "\"ec2:DescribeNatGateways\","
                        - generic [ref=e667]: "\"ec2:DescribeNetworkAcls\","
                        - generic [ref=e668]: "\"ec2:DescribeNetworkInterfaceAttribute\","
                        - generic [ref=e669]: "\"ec2:DescribeNetworkInterfaces\","
                        - generic [ref=e670]: "\"ec2:DescribeRegions\","
                        - generic [ref=e671]: "\"ec2:DescribeRouteTables\","
                        - generic [ref=e672]: "\"ec2:DescribeSecurityGroups\","
                        - generic [ref=e673]: "\"ec2:DescribeSnapshots\","
                        - generic [ref=e674]: "\"ec2:DescribeSubnets\","
                        - generic [ref=e675]: "\"ec2:DescribeTags\","
                        - generic [ref=e676]: "\"ec2:DescribeVolumes\","
                        - generic [ref=e677]: "\"ec2:DescribeVolumesModifications\","
                        - generic [ref=e678]: "\"ec2:DescribeVpcAttribute\","
                        - generic [ref=e679]: "\"ec2:DescribeVpcs\","
                        - generic [ref=e680]: "\"ec2:DescribeVpcEndpoints\","
                        - generic [ref=e681]: "\"ec2:DetachInternetGateway\","
                        - generic [ref=e682]: "\"ec2:DisassociateAddress\","
                        - generic [ref=e683]: "\"ec2:DisassociateRouteTable\","
                        - generic [ref=e684]: "\"ec2:ModifyInstanceAttribute\","
                        - generic [ref=e685]: "\"ec2:ModifyNetworkInterfaceAttribute\","
                        - generic [ref=e686]: "\"ec2:ModifySubnetAttribute\","
                        - generic [ref=e687]: "\"ec2:ModifyVpcAttribute\","
                        - generic [ref=e688]: "\"ec2:ReleaseAddress\","
                        - generic [ref=e689]: "\"ec2:ReplaceRoute\","
                        - generic [ref=e690]: "\"ec2:RevokeSecurityGroupIngress\","
                        - generic [ref=e691]: "\"ec2:RunInstances\","
                        - generic [ref=e692]: "\"ec2:TerminateInstances\","
                        - generic [ref=e693]: "\"ecr:BatchCheckLayerAvailability\","
                        - generic [ref=e694]: "\"ecr:BatchGetImage\","
                        - generic [ref=e695]: "\"ecr:DescribeRepositories\","
                        - generic [ref=e696]: "\"ecr:GetAuthorizationToken\","
                        - generic [ref=e697]: "\"ecr:GetDownloadUrlForLayer\","
                        - generic [ref=e698]: "\"ecr:GetRepositoryPolicy\","
                        - generic [ref=e699]: "\"ecr:ListImages\","
                        - generic [ref=e700]: "\"eks:DescribeCluster\","
                        - generic [ref=e701]: "\"eks:ListClusters\","
                        - generic [ref=e702]: "\"elasticloadbalancing:AddTags\","
                        - generic [ref=e703]: "\"elasticloadbalancing:ConfigureHealthCheck\","
                        - generic [ref=e704]: "\"elasticloadbalancing:CreateLoadBalancer\","
                        - generic [ref=e705]: "\"elasticloadbalancing:DeleteLoadBalancer\","
                        - generic [ref=e706]: "\"elasticloadbalancing:DeregisterInstancesFromLoadBalancer\","
                        - generic [ref=e707]: "\"elasticloadbalancing:DescribeLoadBalancerAttributes\","
                        - generic [ref=e708]: "\"elasticloadbalancing:DescribeLoadBalancers\","
                        - generic [ref=e709]: "\"elasticloadbalancing:DescribeTargetHealth\","
                        - generic [ref=e710]: "\"elasticloadbalancing:DescribeTags\","
                        - generic [ref=e711]: "\"elasticloadbalancing:ModifyLoadBalancerAttributes\","
                        - generic [ref=e712]: "\"elasticloadbalancing:RegisterInstancesWithLoadBalancer\","
                        - generic [ref=e713]: "\"iam:AddRoleToInstanceProfile\","
                        - generic [ref=e714]: "\"iam:AddUserToGroup\","
                        - generic [ref=e715]: "\"iam:AttachGroupPolicy\","
                        - generic [ref=e716]: "\"iam:CreateGroup\","
                        - generic [ref=e717]: "\"iam:CreateInstanceProfile\","
                        - generic [ref=e718]: "\"iam:CreatePolicy\","
                        - generic [ref=e719]: "\"iam:CreatePolicyVersion\","
                        - generic [ref=e720]: "\"iam:CreateRole\","
                        - generic [ref=e721]: "\"iam:CreateUser\","
                        - generic [ref=e722]: "\"iam:DeleteGroup\","
                        - generic [ref=e723]: "\"iam:DeleteInstanceProfile\","
                        - generic [ref=e724]: "\"iam:DeletePolicy\","
                        - generic [ref=e725]: "\"iam:DeletePolicyVersion\","
                        - generic [ref=e726]: "\"iam:DetachGroupPolicy\","
                        - generic [ref=e727]: "\"iam:GetGroup\","
                        - generic [ref=e728]: "\"iam:GetInstanceProfile\","
                        - generic [ref=e729]: "\"iam:GetPolicy\","
                        - generic [ref=e730]: "\"iam:GetRole\","
                        - generic [ref=e731]: "\"iam:GetUser\","
                        - generic [ref=e732]: "\"iam:ListPolicies\","
                        - generic [ref=e733]: "\"iam:ListPolicyVersions\","
                        - generic [ref=e734]: "\"iam:PassRole\","
                        - generic [ref=e735]: "\"iam:RemoveRoleFromInstanceProfile\","
                        - generic [ref=e736]: "\"iam:RemoveUserFromGroup\","
                        - generic [ref=e737]: "\"iam:TagOpenIDConnectProvider\","
                        - generic [ref=e738]: "\"pricing:GetProducts\","
                        - generic [ref=e739]: "\"secretsmanager:CreateSecret\","
                        - generic [ref=e740]: "\"secretsmanager:DeleteSecret\","
                        - generic [ref=e741]: "\"secretsmanager:GetSecretValue\","
                        - generic [ref=e742]: "\"secretsmanager:TagResource\","
                        - generic [ref=e743]: "\"ssm:UpdateInstanceInformation\","
                        - generic [ref=e744]: "\"ssmmessages:CreateControlChannel\","
                        - generic [ref=e745]: "\"ssmmessages:CreateDataChannel\","
                        - generic [ref=e746]: "\"ssmmessages:OpenControlChannel\","
                        - generic [ref=e747]: "\"ssmmessages:OpenDataChannel\","
                        - generic [ref=e748]: "\"sts:AssumeRole\","
                        - generic [ref=e749]: "\"sts:GetServiceBearerToken\","
                        - generic [ref=e750]: "\"tag:GetResources\""
                        - generic [ref=e751]: "],"
                        - generic [ref=e752]: "\"Resource\": \"*\""
                        - generic [ref=e753]: "},"
                        - generic [ref=e754]: "{"
                        - generic [ref=e755]: "\"Effect\": \"Allow\","
                        - generic [ref=e756]: "\"Action\": [\"iam:PassRole\"],"
                        - generic [ref=e757]: "\"Resource\": [\"arn:*:iam::*:role/*.cluster-api-provider-aws.sigs.k8s.io\"]"
                        - generic [ref=e758]: "}"
                        - generic [ref=e759]: "]"
                        - generic [ref=e760]: "}"
                      - generic [ref=e761]:
                        - button "Toggle word wrap" [ref=e762] [cursor=pointer]:
                          - img [ref=e763]
                        - button "Copy code to clipboard" [ref=e765] [cursor=pointer]:
                          - generic [ref=e766]:
                            - img [ref=e767]
                            - img [ref=e769]
                - generic [ref=e771]:
                  - generic [ref=e772]:
                    - img [ref=e774]
                    - text: warning
                  - generic [ref=e776]:
                    - paragraph [ref=e777]: The following are important points to be aware of.
                    - list [ref=e778]:
                      - listitem [ref=e779]:
                        - paragraph [ref=e780]: These permissions specified do not include all the permissions required for all possible use cases and for taking full advantage of all Palette features. Additional permissions may be required based on the specific use case.
                      - listitem [ref=e781]:
                        - paragraph [ref=e782]: Ensure that the IAM Role or IAM User created contain all the core policies defined above, or one of the minimum permissions policies.
                      - listitem [ref=e783]:
                        - paragraph [ref=e784]: These IAM policies cannot be used as an inline policy, as it exceeds the 2048 non-whitespace character limit by AWS. Break policy into multiple inline policies or create new managed policies.
                      - listitem [ref=e785]:
                        - paragraph [ref=e786]: "The following IAM warning is expected and can be ignored:"
                    - blockquote [ref=e787]:
                      - paragraph [ref=e788]:
                        - text: These policies define some actions, resources, or conditions that do not provide permissions.
                        - emphasis [ref=e789]: To grant access, policies must have an action that has an applicable resource or condition
                        - text: .
                - heading "Controllers EKS PolicyDirect link to Controllers EKS Policy" [level=2] [ref=e790]:
                  - text: Controllers EKS Policy
                  - link "Direct link to Controllers EKS Policy" [ref=e791] [cursor=pointer]:
                    - /url: "#controllers-eks-policy"
                    - text: "#"
                - paragraph [ref=e792]:
                  - text: If you plan to deploy AWS EKS host clusters, make sure to attach the
                  - strong [ref=e793]: PaletteControllersEKSPolicy
                  - text: on top of the
                  - link "Core IAM" [ref=e794] [cursor=pointer]:
                    - /url: "#core-iam-policies"
                  - text: or
                  - link "Minimum Permissions" [ref=e795] [cursor=pointer]:
                    - /url: "#minimum-permissions-policies"
                  - text: policies.
                - paragraph [ref=e796]:
                  - strong [ref=e797]: Last Update
                  - text: ": May 25, 2025"
                - generic [ref=e799]:
                  - code [ref=e801]:
                    - generic [ref=e802]: "{"
                    - generic [ref=e803]: "\"Version\": \"2012-10-17\","
                    - generic [ref=e804]: "\"Statement\": ["
                    - generic [ref=e805]: "{"
                    - generic [ref=e806]: "\"Action\": [\"ssm:GetParameter\"],"
                    - generic [ref=e807]: "\"Resource\": [\"arn:*:ssm:*:*:parameter/aws/service/eks/optimized-ami/*\"],"
                    - generic [ref=e808]: "\"Effect\": \"Allow\""
                    - generic [ref=e809]: "},"
                    - generic [ref=e810]: "{"
                    - generic [ref=e811]: "\"Condition\": {"
                    - generic [ref=e812]: "\"StringLike\": {"
                    - generic [ref=e813]: "\"iam:AWSServiceName\": \"eks.amazonaws.com\""
                    - generic [ref=e814]: "}"
                    - generic [ref=e815]: "},"
                    - generic [ref=e816]: "\"Action\": [\"iam:CreateServiceLinkedRole\"],"
                    - generic [ref=e817]: "\"Resource\": ["
                    - generic [ref=e818]: "\"arn:*:iam::*:role/aws-service-role/eks.amazonaws.com/AWSServiceRoleForAmazonEKS\""
                    - generic [ref=e819]: "],"
                    - generic [ref=e820]: "\"Effect\": \"Allow\""
                    - generic [ref=e821]: "},"
                    - generic [ref=e822]: "{"
                    - generic [ref=e823]: "\"Condition\": {"
                    - generic [ref=e824]: "\"StringLike\": {"
                    - generic [ref=e825]: "\"iam:AWSServiceName\": \"eks-nodegroup.amazonaws.com\""
                    - generic [ref=e826]: "}"
                    - generic [ref=e827]: "},"
                    - generic [ref=e828]: "\"Action\": [\"iam:CreateServiceLinkedRole\"],"
                    - generic [ref=e829]: "\"Resource\": ["
                    - generic [ref=e830]: "\"arn:*:iam::*:role/aws-service-role/eks-nodegroup.amazonaws.com/AWSServiceRoleForAmazonEKSNodegroup\""
                    - generic [ref=e831]: "],"
                    - generic [ref=e832]: "\"Effect\": \"Allow\""
                    - generic [ref=e833]: "},"
                    - generic [ref=e834]: "{"
                    - generic [ref=e835]: "\"Condition\": {"
                    - generic [ref=e836]: "\"StringLike\": {"
                    - generic [ref=e837]: "\"iam:AWSServiceName\": \"eks-fargate.amazonaws.com\""
                    - generic [ref=e838]: "}"
                    - generic [ref=e839]: "},"
                    - generic [ref=e840]: "\"Action\": [\"iam:CreateServiceLinkedRole\"],"
                    - generic [ref=e841]: "\"Resource\": ["
                    - generic [ref=e842]: "\"arn:*:iam::*:role/aws-service-role/eks-fargate-pods.amazonaws.com/AWSServiceRoleForAmazonEKSForFargate\""
                    - generic [ref=e843]: "],"
                    - generic [ref=e844]: "\"Effect\": \"Allow\""
                    - generic [ref=e845]: "},"
                    - generic [ref=e846]: "{"
                    - generic [ref=e847]: "\"Action\": ["
                    - generic [ref=e848]: "\"iam:AddClientIDToOpenIDConnectProvider\","
                    - generic [ref=e849]: "\"iam:CreateOpenIDConnectProvider\","
                    - generic [ref=e850]: "\"iam:DeleteOpenIDConnectProvider\","
                    - generic [ref=e851]: "\"iam:ListOpenIDConnectProviders\","
                    - generic [ref=e852]: "\"iam:UpdateOpenIDConnectProviderThumbprint\","
                    - generic [ref=e853]: "\"iam:GetOpenIDConnectProvider\""
                    - generic [ref=e854]: "],"
                    - generic [ref=e855]: "\"Resource\": [\"*\"],"
                    - generic [ref=e856]: "\"Effect\": \"Allow\""
                    - generic [ref=e857]: "},"
                    - generic [ref=e858]: "{"
                    - generic [ref=e859]: "\"Action\": ["
                    - generic [ref=e860]: "\"iam:GetRole\","
                    - generic [ref=e861]: "\"iam:ListAttachedRolePolicies\","
                    - generic [ref=e862]: "\"iam:DetachRolePolicy\","
                    - generic [ref=e863]: "\"iam:DeleteRole\","
                    - generic [ref=e864]: "\"iam:CreateRole\","
                    - generic [ref=e865]: "\"iam:TagRole\","
                    - generic [ref=e866]: "\"iam:UntagRole\","
                    - generic [ref=e867]: "\"iam:AttachRolePolicy\""
                    - generic [ref=e868]: "],"
                    - generic [ref=e869]: "\"Resource\": [\"arn:*:iam::*:role/*\"],"
                    - generic [ref=e870]: "\"Effect\": \"Allow\""
                    - generic [ref=e871]: "},"
                    - generic [ref=e872]: "{"
                    - generic [ref=e873]: "\"Action\": [\"iam:GetPolicy\"],"
                    - generic [ref=e874]: "\"Resource\": [\"arn:aws:iam::aws:policy/AmazonEKSClusterPolicy\"],"
                    - generic [ref=e875]: "\"Effect\": \"Allow\""
                    - generic [ref=e876]: "},"
                    - generic [ref=e877]: "{"
                    - generic [ref=e878]: "\"Action\": ["
                    - generic [ref=e879]: "\"eks:DescribeCluster\","
                    - generic [ref=e880]: "\"eks:ListClusters\","
                    - generic [ref=e881]: "\"eks:CreateCluster\","
                    - generic [ref=e882]: "\"eks:TagResource\","
                    - generic [ref=e883]: "\"eks:UpdateClusterVersion\","
                    - generic [ref=e884]: "\"eks:DeleteCluster\","
                    - generic [ref=e885]: "\"eks:UpdateClusterConfig\","
                    - generic [ref=e886]: "\"eks:UntagResource\","
                    - generic [ref=e887]: "\"eks:UpdateNodegroupVersion\","
                    - generic [ref=e888]: "\"eks:DescribeNodegroup\","
                    - generic [ref=e889]: "\"eks:DeleteNodegroup\","
                    - generic [ref=e890]: "\"eks:UpdateNodegroupConfig\","
                    - generic [ref=e891]: "\"eks:CreateNodegroup\","
                    - generic [ref=e892]: "\"eks:AssociateEncryptionConfig\","
                    - generic [ref=e893]: "\"eks:ListIdentityProviderConfigs\","
                    - generic [ref=e894]: "\"eks:AssociateIdentityProviderConfig\","
                    - generic [ref=e895]: "\"eks:DescribeIdentityProviderConfig\","
                    - generic [ref=e896]: "\"eks:DisassociateIdentityProviderConfig\""
                    - generic [ref=e897]: "],"
                    - generic [ref=e898]: "\"Resource\": [\"arn:*:eks:*:*:cluster/*\", \"arn:*:eks:*:*:nodegroup/*/*/*\"],"
                    - generic [ref=e899]: "\"Effect\": \"Allow\""
                    - generic [ref=e900]: "},"
                    - generic [ref=e901]: "{"
                    - generic [ref=e902]: "\"Action\": ["
                    - generic [ref=e903]: "\"ec2:AssociateVpcCidrBlock\","
                    - generic [ref=e904]: "\"ec2:DisassociateVpcCidrBlock\","
                    - generic [ref=e905]: "\"eks:ListAddons\","
                    - generic [ref=e906]: "\"eks:CreateAddon\","
                    - generic [ref=e907]: "\"eks:DescribeAddonVersions\","
                    - generic [ref=e908]: "\"eks:DescribeAddon\","
                    - generic [ref=e909]: "\"eks:DeleteAddon\","
                    - generic [ref=e910]: "\"eks:UpdateAddon\","
                    - generic [ref=e911]: "\"eks:TagResource\","
                    - generic [ref=e912]: "\"eks:DescribeFargateProfile\","
                    - generic [ref=e913]: "\"eks:CreateFargateProfile\","
                    - generic [ref=e914]: "\"eks:DeleteFargateProfile\""
                    - generic [ref=e915]: "],"
                    - generic [ref=e916]: "\"Resource\": [\"*\"],"
                    - generic [ref=e917]: "\"Effect\": \"Allow\""
                    - generic [ref=e918]: "},"
                    - generic [ref=e919]: "{"
                    - generic [ref=e920]: "\"Condition\": {"
                    - generic [ref=e921]: "\"StringEquals\": {"
                    - generic [ref=e922]: "\"iam:PassedToService\": \"eks.amazonaws.com\""
                    - generic [ref=e923]: "}"
                    - generic [ref=e924]: "},"
                    - generic [ref=e925]: "\"Action\": [\"iam:PassRole\"],"
                    - generic [ref=e926]: "\"Resource\": [\"*\"],"
                    - generic [ref=e927]: "\"Effect\": \"Allow\""
                    - generic [ref=e928]: "},"
                    - generic [ref=e929]: "{"
                    - generic [ref=e930]: "\"Condition\": {"
                    - generic [ref=e931]: "\"ForAnyValue:StringLike\": {"
                    - generic [ref=e932]: "\"kms:ResourceAliases\": \"alias/cluster-api-provider-aws-*\""
                    - generic [ref=e933]: "}"
                    - generic [ref=e934]: "},"
                    - generic [ref=e935]: "\"Action\": [\"kms:CreateGrant\", \"kms:DescribeKey\"],"
                    - generic [ref=e936]: "\"Resource\": [\"*\"],"
                    - generic [ref=e937]: "\"Effect\": \"Allow\""
                    - generic [ref=e938]: "}"
                    - generic [ref=e939]: "]"
                    - generic [ref=e940]: "}"
                  - generic [ref=e941]:
                    - button "Toggle word wrap" [ref=e942] [cursor=pointer]:
                      - img [ref=e943]
                    - button "Copy code to clipboard" [ref=e945] [cursor=pointer]:
                      - generic [ref=e946]:
                        - img [ref=e947]
                        - img [ref=e949]
                - heading "Global Role Additional PoliciesDirect link to Global Role Additional Policies" [level=2] [ref=e951]:
                  - text: Global Role Additional Policies
                  - link "Direct link to Global Role Additional Policies" [ref=e952] [cursor=pointer]:
                    - /url: "#global-role-additional-policies"
                    - text: "#"
                - paragraph [ref=e953]:
                  - text: There may be situations where additional node-level policies must be added to your deployment. For instance, when you create a host cluster with the
                  - strong [ref=e954]: AWS EBS CSI
                  - text: storage layer, ensure
                  - strong [ref=e955]: AmazonEBSCSIDriverPolicy
                  - text: is included. To add additional node-level policies, switch to the
                  - strong [ref=e956]: Tenant Admin
                  - text: project, and click on the
                  - strong [ref=e957]: Tenant Settings
                  - text: on the
                  - strong [ref=e958]: Main Menu
                  - text: . Click on
                  - strong [ref=e959]: Cloud Accounts
                  - text: . Add an account if one does not exists. After validation of the AWS credentials, ensure
                  - code [ref=e960]: Add IAM policies
                  - text: are enabled. You can specify additional amazon resource names (ARN) to be attached. The attached policies will be included to all the clusters launched with this specific AWS cloud Account.
                - paragraph [ref=e961]:
                  - strong [ref=e962]: "AmazonEBSCSIDriverPolicy:"
                - paragraph [ref=e963]:
                  - strong [ref=e964]: Last Update
                  - text: ": November 8, 2023"
                - generic [ref=e966]:
                  - code [ref=e968]:
                    - generic [ref=e969]: "roleName: \"custom-ng-role\""
                    - generic [ref=e970]: "roleAdditionalPolicies:"
                    - generic [ref=e971]: "- \"arn:aws:iam::aws:policy/service-role/AmazonEBSCSIDriverPolicy\""
                  - generic [ref=e972]:
                    - button "Toggle word wrap" [ref=e973] [cursor=pointer]:
                      - img [ref=e974]
                    - button "Copy code to clipboard" [ref=e976] [cursor=pointer]:
                      - generic [ref=e977]:
                        - img [ref=e978]
                        - img [ref=e980]
                - heading "Roles and PoliciesDirect link to Roles and Policies" [level=2] [ref=e982]:
                  - text: Roles and Policies
                  - link "Direct link to Roles and Policies" [ref=e983] [cursor=pointer]:
                    - /url: "#roles-and-policies"
                    - text: "#"
                - paragraph [ref=e984]: Palette creates and attaches IAM roles and policies to the clusters it deploys. Depending on which type of cluster you deploy, either AWS EKS or IaaS (using EC2 instances), Palette creates and attaches different IAM roles and policies.
                - paragraph [ref=e985]: Select the tab below to review the IAM roles and policies attached to the cluster's IAM role and the node group's IAM role.
                - generic [ref=e986]:
                  - tablist [ref=e987]:
                    - tab "EKS" [selected] [ref=e988] [cursor=pointer]
                    - tab "IaaS" [ref=e989] [cursor=pointer]
                  - tabpanel [ref=e991]:
                    - paragraph [ref=e992]: When you deploy an EKS cluster using Palette, two IAM roles are created automatically. One IAM role is for the cluster, and the other IAM role for the worker node group.
                    - paragraph [ref=e993]:
                      - text: The cluster's IAM role is named in the following syntax,
                      - code [ref=e994]: "[cluster-name]-iam-service-role"
                      - text: ", and the node group's IAM role is named as"
                      - code [ref=e995]: ng-role_worker-pool-[random-string]
                      - text: . These two IAM roles have customer-managed and AWS-managed IAM policies. You can attach more IAM policies to any of these IAM roles if needed. The following table lists the IAM policies attached to the cluster's IAM role and the node group's IAM role.
                    - table [ref=e996]:
                      - rowgroup [ref=e997]:
                        - row "Policy Name Type Attached to the cluster's IAM role? Attached to the node group's IAM role? Description" [ref=e998]:
                          - cell "Policy Name" [ref=e999]:
                            - strong [ref=e1000]: Policy Name
                          - cell "Type" [ref=e1001]:
                            - strong [ref=e1002]: Type
                          - cell "Attached to the cluster's IAM role?" [ref=e1003]:
                            - strong [ref=e1004]: Attached to the cluster's IAM role?
                          - cell "Attached to the node group's IAM role?" [ref=e1005]:
                            - strong [ref=e1006]: Attached to the node group's IAM role?
                          - cell "Description" [ref=e1007]:
                            - strong [ref=e1008]: Description
                      - rowgroup [ref=e1009]:
                        - row "AmazonEKSClusterPolicy AWS managed   Provides the cluster permission to manage compute resources." [ref=e1010]:
                          - cell "AmazonEKSClusterPolicy" [ref=e1011]
                          - cell "AWS managed" [ref=e1012]
                          - cell "" [ref=e1013]
                          - cell "" [ref=e1014]
                          - cell "Provides the cluster permission to manage compute resources." [ref=e1015]
                        - row "AmazonEC2ContainerRegistryReadOnly AWS managed   Provides the node group permission to pull images from Amazon ECR." [ref=e1016]:
                          - cell "AmazonEC2ContainerRegistryReadOnly" [ref=e1017]
                          - cell "AWS managed" [ref=e1018]
                          - cell "" [ref=e1019]
                          - cell "" [ref=e1020]
                          - cell "Provides the node group permission to pull images from Amazon ECR." [ref=e1021]
                        - row "AmazonEKS_CNI_Policy AWS managed   Provides the node group permission to manage network resources." [ref=e1022]:
                          - cell "AmazonEKS_CNI_Policy" [ref=e1023]
                          - cell "AWS managed" [ref=e1024]
                          - cell "" [ref=e1025]
                          - cell "" [ref=e1026]
                          - cell "Provides the node group permission to manage network resources." [ref=e1027]
                        - row "AmazonEKSWorkerNodePolicy AWS managed   This policy allows Amazon EKS worker nodes to connect to Amazon EKS Clusters." [ref=e1028]:
                          - cell "AmazonEKSWorkerNodePolicy" [ref=e1029]
                          - cell "AWS managed" [ref=e1030]
                          - cell "" [ref=e1031]
                          - cell "" [ref=e1032]
                          - cell "This policy allows Amazon EKS worker nodes to connect to Amazon EKS Clusters." [ref=e1033]
                        - row "AmazonSSMManagedInstanceCore AWS managed   The policy for Amazon EC2 Role to enable AWS Systems Manager service core functionality." [ref=e1034]:
                          - cell "AmazonSSMManagedInstanceCore" [ref=e1035]
                          - cell "AWS managed" [ref=e1036]
                          - cell "" [ref=e1037]
                          - cell "" [ref=e1038]
                          - cell "The policy for Amazon EC2 Role to enable AWS Systems Manager service core functionality." [ref=e1039]
                    - paragraph [ref=e1040]: In addition to the policies listed above, if you specified other IAM policies during the AWS account registration, those policies are also attached to the cluster's IAM role and the node group's IAM role.
                - generic [ref=e1041]:
                  - generic [ref=e1042]:
                    - img [ref=e1044]
                    - text: warning
                  - paragraph [ref=e1047]:
                    - text: Be aware that AWS has a default limit of 10 policies per role. If you exceed this limit, the cluster deployment may fail due to the IAM role policy limit. Request a
                    - link "service quota increase" [ref=e1048] [cursor=pointer]:
                      - /url: https://docs.aws.amazon.com/servicequotas/latest/userguide/request-quota-increase.html
                    - text: for the AWS account to increase the limit.
              - generic [ref=e1049]:
                - generic [ref=e1051]:
                  - text: "Tags:"
                  - list [ref=e1052]:
                    - listitem [ref=e1053]:
                      - link "public cloud" [ref=e1054] [cursor=pointer]:
                        - /url: /tags/public-cloud/
                    - listitem [ref=e1055]:
                      - link "aws" [ref=e1056] [cursor=pointer]:
                        - /url: /tags/aws/
                    - listitem [ref=e1057]:
                      - link "iam" [ref=e1058] [cursor=pointer]:
                        - /url: /tags/iam/
                - link "Edit this page" [ref=e1061] [cursor=pointer]:
                  - /url: https://github.com/spectrocloud/librarium/blob/master/docs/docs-content/clusters/public-cloud/aws/required-iam-policies.md
                  - img [ref=e1062]
                  - text: Edit this page
            - navigation "Docs pages" [ref=e1066]:
              - link "Previous  Configure Karpenter for EKS Clusters" [ref=e1067] [cursor=pointer]:
                - /url: /clusters/public-cloud/aws/configure-karpenter-eks-clusters/
                - generic [ref=e1068]: Previous
                - generic [ref=e1069]:  Configure Karpenter for EKS Clusters
              - link "Next Azure " [ref=e1070] [cursor=pointer]:
                - /url: /clusters/public-cloud/azure/
                - generic [ref=e1071]: Next
                - generic [ref=e1072]: Azure 
          - list [ref=e1075]:
            - listitem [ref=e1076]:
              - link "Core IAM Policies" [ref=e1077] [cursor=pointer]:
                - /url: "#core-iam-policies"
            - listitem [ref=e1078]:
              - link "Minimum Permissions Policies" [ref=e1079] [cursor=pointer]:
                - /url: "#minimum-permissions-policies"
            - listitem [ref=e1080]:
              - link "Controllers EKS Policy" [ref=e1081] [cursor=pointer]:
                - /url: "#controllers-eks-policy"
            - listitem [ref=e1082]:
              - link "Global Role Additional Policies" [ref=e1083] [cursor=pointer]:
                - /url: "#global-role-additional-policies"
            - listitem [ref=e1084]:
              - link "Roles and Policies" [ref=e1085] [cursor=pointer]:
                - /url: "#roles-and-policies"
  - button "Project Logo Ask AI" [ref=e1086] [cursor=pointer]:
    - generic [ref=e1089]:
      - img "Project Logo" [ref=e1090]
      - paragraph [ref=e1091]: Ask AI
```