# Page snapshot

```yaml
- generic [active] [ref=e1]:
  - generic [ref=e2]:
    - region "Skip to main content":
      - link "Skip to main content" [ref=e3] [cursor=pointer]:
        - /url: "#__docusaurus_skipToContent_fallback"
    - navigation "Main" [ref=e4]:
      - generic [ref=e5]:
        - generic [ref=e6]:
          - link "Spectro cloud logo" [ref=e7] [cursor=pointer]:
            - /url: /
            - img "Spectro cloud logo" [ref=e9]
          - link "Docs" [ref=e10] [cursor=pointer]:
            - /url: /release-notes/
          - link "Tutorials" [ref=e11] [cursor=pointer]:
            - /url: /tutorials/
          - link "Downloads" [ref=e12] [cursor=pointer]:
            - /url: /downloads/
          - link "API" [ref=e13] [cursor=pointer]:
            - /url: /api/introduction/
          - button "latest" [ref=e15] [cursor=pointer]
        - generic [ref=e16]:
          - link "GitHub repository" [ref=e17] [cursor=pointer]:
            - /url: https://github.com/spectrocloud/librarium
          - button "Switch between dark and light mode (currently system mode)" [ref=e19] [cursor=pointer]:
            - img [ref=e20]
          - button "Search (Ctrl+K)" [ref=e23] [cursor=pointer]:
            - generic [ref=e24]:
              - img [ref=e25]
              - generic [ref=e27]: Search
    - generic [ref=e31]:
      - complementary [ref=e32]:
        - generic [ref=e34]:
          - link "Spectro cloud logo" [ref=e35] [cursor=pointer]:
            - /url: /
            - img "Spectro cloud logo" [ref=e36]
          - navigation "Docs sidebar" [ref=e37]:
            - list [ref=e38]:
              - listitem [ref=e39]:
                - generic [ref=e40]:
                  - link "Release Notes" [ref=e41] [cursor=pointer]:
                    - /url: /release-notes/
                    - img [ref=e43]
                    - text: Release Notes
                  - button "Toggle the collapsible sidebar category 'Release Notes'" [ref=e45] [cursor=pointer]
              - listitem [ref=e46]:
                - generic [ref=e47]:
                  - link "Security Bulletins" [ref=e48] [cursor=pointer]:
                    - /url: /security-bulletins/
                    - img [ref=e50]
                    - text: Security Bulletins
                  - button "Toggle the collapsible sidebar category 'Security Bulletins'" [ref=e52] [cursor=pointer]
              - listitem [ref=e53]:
                - generic [ref=e54]:
                  - link "What is Palette?" [ref=e55] [cursor=pointer]:
                    - /url: /
                    - img [ref=e57]
                    - text: What is Palette?
                  - button "Toggle the collapsible sidebar category 'What is Palette?'" [ref=e59] [cursor=pointer]
              - listitem [ref=e60]:
                - link "Getting Started" [ref=e61] [cursor=pointer]:
                  - /url: /getting-started/
                  - img [ref=e63]
                  - text: Getting Started
              - listitem [ref=e65]:
                - generic [ref=e66]:
                  - link "Architecture" [ref=e67] [cursor=pointer]:
                    - /url: /architecture/
                    - img [ref=e69]
                    - text: Architecture
                  - button "Toggle the collapsible sidebar category 'Architecture'" [ref=e71] [cursor=pointer]
              - listitem [ref=e72]:
                - generic [ref=e73]:
                  - link "Profiles" [ref=e74] [cursor=pointer]:
                    - /url: /profiles/
                    - img [ref=e76]
                    - text: Profiles
                  - button "Toggle the collapsible sidebar category 'Profiles'" [ref=e80] [cursor=pointer]
              - listitem [ref=e81]:
                - generic [ref=e82]:
                  - link "Deployment Modes" [ref=e83] [cursor=pointer]:
                    - /url: /deployment-modes/
                    - img [ref=e85]
                    - text: Deployment Modes
                  - button "Toggle the collapsible sidebar category 'Deployment Modes'" [ref=e87] [cursor=pointer]
              - listitem [ref=e88]:
                - generic [ref=e89]:
                  - link "Clusters" [ref=e90] [cursor=pointer]:
                    - /url: /clusters/
                    - img [ref=e92]
                    - text: Clusters
                  - button "Toggle the collapsible sidebar category 'Clusters'" [ref=e98] [cursor=pointer]
              - listitem [ref=e99]:
                - generic [ref=e100]:
                  - link "Bring Your Own OS (BYOOS)" [ref=e101] [cursor=pointer]:
                    - /url: /byoos/
                    - img [ref=e103]
                    - text: Bring Your Own OS (BYOOS)
                  - button "Toggle the collapsible sidebar category 'Bring Your Own OS (BYOOS)'" [ref=e105] [cursor=pointer]
              - listitem [ref=e106]:
                - generic [ref=e107]:
                  - link "Palette Dev Engine" [ref=e108] [cursor=pointer]:
                    - /url: /devx/
                    - img [ref=e110]
                    - text: Palette Dev Engine
                  - button "Toggle the collapsible sidebar category 'Palette Dev Engine'" [ref=e112] [cursor=pointer]
              - listitem [ref=e113]:
                - generic [ref=e114]:
                  - link "Virtual Machine Orchestrator" [ref=e115] [cursor=pointer]:
                    - /url: /vm-management/
                    - img [ref=e117]
                    - text: Virtual Machine Orchestrator
                  - button "Toggle the collapsible sidebar category 'Virtual Machine Orchestrator'" [ref=e119] [cursor=pointer]
              - listitem [ref=e120]:
                - generic [ref=e121]:
                  - link "Workspaces" [ref=e122] [cursor=pointer]:
                    - /url: /workspace/
                    - img [ref=e124]
                    - text: Workspaces
                  - button "Toggle the collapsible sidebar category 'Workspaces'" [ref=e126] [cursor=pointer]
              - listitem [ref=e127]:
                - generic [ref=e128]:
                  - link "Packs List" [ref=e129] [cursor=pointer]:
                    - /url: /integrations/
                    - img [ref=e131]
                    - text: Packs List
                  - button "Toggle the collapsible sidebar category 'Packs List'" [ref=e133] [cursor=pointer]
              - listitem [ref=e134]:
                - generic [ref=e135]:
                  - link "User & Role Management" [ref=e136] [cursor=pointer]:
                    - /url: /user-management/
                    - img [ref=e138]
                    - text: User & Role Management
                  - button "Toggle the collapsible sidebar category 'User & Role Management'" [ref=e140] [cursor=pointer]
              - listitem [ref=e141]:
                - generic [ref=e142]:
                  - link "Registries and Packs" [ref=e143] [cursor=pointer]:
                    - /url: /registries-and-packs/
                    - img [ref=e145]
                    - text: Registries and Packs
                  - button "Toggle the collapsible sidebar category 'Registries and Packs'" [ref=e147] [cursor=pointer]
              - listitem [ref=e148]:
                - generic [ref=e149]:
                  - link "Security" [ref=e150] [cursor=pointer]:
                    - /url: /security/
                    - img [ref=e152]
                    - text: Security
                  - button "Toggle the collapsible sidebar category 'Security'" [ref=e154] [cursor=pointer]
              - listitem [ref=e155]:
                - generic [ref=e156]:
                  - link "Audit Logs" [ref=e157] [cursor=pointer]:
                    - /url: /audit-logs/
                    - img [ref=e159]
                    - text: Audit Logs
                  - button "Toggle the collapsible sidebar category 'Audit Logs'" [ref=e161] [cursor=pointer]
              - listitem [ref=e162]:
                - generic [ref=e163]:
                  - link "Self-Hosted Palette" [ref=e164] [cursor=pointer]:
                    - /url: /enterprise-version/
                    - img [ref=e166]
                    - text: Self-Hosted Palette
                  - button "Toggle the collapsible sidebar category 'Self-Hosted Palette'" [ref=e168] [cursor=pointer]
              - listitem [ref=e169]:
                - generic [ref=e170]:
                  - link "Palette VerteX" [ref=e171] [cursor=pointer]:
                    - /url: /vertex/
                    - img [ref=e173]
                    - text: Palette VerteX
                  - button "Toggle the collapsible sidebar category 'Palette VerteX'" [ref=e175] [cursor=pointer]
              - listitem [ref=e176]:
                - generic [ref=e177]:
                  - link "Tenant Administration" [ref=e178] [cursor=pointer]:
                    - /url: /tenant-settings/
                    - img [ref=e180]
                    - text: Tenant Administration
                  - button "Toggle the collapsible sidebar category 'Tenant Administration'" [ref=e182] [cursor=pointer]
              - listitem [ref=e183]:
                - generic [ref=e184]:
                  - link "Automation" [ref=e185] [cursor=pointer]:
                    - /url: /automation/
                    - img [ref=e187]
                    - text: Automation
                  - button "Toggle the collapsible sidebar category 'Automation'" [ref=e189] [cursor=pointer]
              - listitem [ref=e190]:
                - generic [ref=e191]:
                  - link "Troubleshooting" [expanded] [ref=e192] [cursor=pointer]:
                    - /url: /troubleshooting/
                    - img [ref=e194]
                    - text: Troubleshooting
                  - button "Toggle the collapsible sidebar category 'Troubleshooting'" [ref=e196] [cursor=pointer]
                - list [ref=e197]:
                  - listitem [ref=e198]:
                    - link "Kubernetes Debugging" [ref=e199] [cursor=pointer]:
                      - /url: /troubleshooting/kubernetes-tips/
                  - listitem [ref=e200]:
                    - link "Automation" [ref=e201] [cursor=pointer]:
                      - /url: /troubleshooting/automation/
                  - listitem [ref=e202]:
                    - link "Cluster Deployment" [ref=e203] [cursor=pointer]:
                      - /url: /troubleshooting/cluster-deployment/
                  - listitem [ref=e204]:
                    - link "Nodes & Clusters" [ref=e205] [cursor=pointer]:
                      - /url: /troubleshooting/nodes/
                  - listitem [ref=e206]:
                    - link "Packs" [ref=e207] [cursor=pointer]:
                      - /url: /troubleshooting/pack-issues/
                  - listitem [ref=e208]:
                    - link "Palette Dev Engine" [ref=e209] [cursor=pointer]:
                      - /url: /troubleshooting/palette-dev-engine/
                  - listitem [ref=e210]:
                    - generic [ref=e211]:
                      - link "Edge" [expanded] [ref=e212] [cursor=pointer]:
                        - /url: /troubleshooting/edge/
                      - button "Toggle the collapsible sidebar category 'Edge'" [ref=e213] [cursor=pointer]
                    - list [ref=e214]:
                      - listitem [ref=e215]:
                        - link "Collect Support Bundles" [ref=e216] [cursor=pointer]:
                          - /url: /troubleshooting/edge/collect-support-bundles/
                  - listitem [ref=e217]:
                    - link "Private Cloud Gateway" [ref=e218] [cursor=pointer]:
                      - /url: /troubleshooting/pcg/
                  - listitem [ref=e219]:
                    - link "Virtual Machine Orchestrator" [ref=e220] [cursor=pointer]:
                      - /url: /troubleshooting/vmo-issues/
                  - listitem [ref=e221]:
                    - link "Enterprise Install" [ref=e222] [cursor=pointer]:
                      - /url: /troubleshooting/enterprise-install/
                  - listitem [ref=e223]:
                    - link "Palette Upgrade" [ref=e224] [cursor=pointer]:
                      - /url: /troubleshooting/palette-upgrade/
                  - listitem [ref=e225]:
                    - link "Generate HAR Files" [ref=e226] [cursor=pointer]:
                      - /url: /troubleshooting/generate-har-files/
              - listitem [ref=e227]:
                - link "Glossary" [ref=e228] [cursor=pointer]:
                  - /url: /glossary-all/
                  - img [ref=e230]
                  - text: Glossary
              - listitem [ref=e232]:
                - generic [ref=e233]:
                  - link "Compliance & Legal" [ref=e234] [cursor=pointer]:
                    - /url: /legal-licenses/
                    - img [ref=e236]
                    - text: Compliance & Legal
                  - button "Toggle the collapsible sidebar category 'Compliance & Legal'" [ref=e238] [cursor=pointer]
              - listitem [ref=e239]:
                - button "Privacy Settings" [ref=e240] [cursor=pointer]:
                  - img [ref=e241]
                  - text: Privacy Settings
      - main [ref=e243]:
        - generic [ref=e245]:
          - generic [ref=e247]:
            - article [ref=e248]:
              - navigation "Breadcrumbs" [ref=e249]:
                - list [ref=e250]:
                  - listitem [ref=e251]:
                    - link "Home page" [ref=e252] [cursor=pointer]:
                      - /url: /
                      - img [ref=e253]
                  - listitem [ref=e255]:
                    - link "Troubleshooting" [ref=e256] [cursor=pointer]:
                      - /url: /troubleshooting/
                  - listitem [ref=e257]:
                    - generic [ref=e258]: Edge
              - generic [ref=e259]:
                - heading "Edge" [level=1] [ref=e261]
                - paragraph [ref=e262]: The following are common scenarios that you may encounter when using Edge.
                - 'heading "Scenario - x509: certificate signed by unknown authority Errors during Agent Mode Cluster CreationDirect link to scenario---x509-certificate-signed-by-unknown-authority-errors-during-agent-mode-cluster-creation" [level=2] [ref=e263]':
                  - text: Scenario -
                  - code [ref=e264]: "x509: certificate signed by unknown authority"
                  - text: Errors during Agent Mode Cluster Creation
                  - link "Direct link to scenario---x509-certificate-signed-by-unknown-authority-errors-during-agent-mode-cluster-creation" [ref=e265] [cursor=pointer]:
                    - /url: "#scenario---x509-certificate-signed-by-unknown-authority-errors-during-agent-mode-cluster-creation"
                    - text: "#"
                - paragraph [ref=e266]: Agent mode Edge cluster creation may fail with logs showing the following error.
                - generic [ref=e268]:
                  - code [ref=e270]:
                    - generic [ref=e271]: "failed calling webhook \"pod-registry.spectrocloud.com\": tls: failed to verify certificate:"
                    - generic [ref=e272]: "x509: certificate signed by unknown authority (\"Spectro Cloud\")"
                    - generic [ref=e273]: "http: TLS handshake error ... remote error: tls: bad certificate"
                  - generic [ref=e274]:
                    - button "Toggle word wrap" [ref=e275] [cursor=pointer]:
                      - img [ref=e276]
                    - button "Copy code to clipboard" [ref=e278] [cursor=pointer]:
                      - generic [ref=e279]:
                        - img [ref=e280]
                        - img [ref=e282]
                - paragraph [ref=e284]:
                  - text: As a result, core components such as CNI, Harbor, and cluster controllers never start. All pods remain in
                  - strong [ref=e285]: Pending
                  - text: or
                  - strong [ref=e286]: Failed
                  - text: state. In the Local UI, packs display
                  - strong [ref=e287]: Invalid date
                  - text: in the
                  - strong [ref=e288]: Started On
                  - text: and
                  - strong [ref=e289]: Completed On
                  - text: fields.
                - paragraph [ref=e290]:
                  - text: This issue occurs when the
                  - code [ref=e291]: stylus-webhook
                  - text: agent admission webhook and its Transport Layer Security (TLS)
                  - code [ref=e292]: stylus-webhook-tls
                  - text: secret are temporarily mismatched due to a timing issue during cluster bootstrap. As a result, the Kubernetes API server rejects the certificate as signed by an unknown authority, causing admission requests to fail.
                - heading "Debug StepsDirect link to Debug Steps" [level=3] [ref=e293]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e294] [cursor=pointer]:
                    - /url: "#debug-steps"
                    - text: "#"
                - list [ref=e295]:
                  - listitem [ref=e296]:
                    - paragraph [ref=e297]: Issue the following command on all cluster nodes to stop the Palette Agent operator service.
                    - generic [ref=e299]:
                      - code [ref=e301]:
                        - generic [ref=e302]: systemctl stop spectro-stylus-operator
                      - button "Copy code to clipboard" [ref=e304] [cursor=pointer]:
                        - generic [ref=e305]:
                          - img [ref=e306]
                          - img [ref=e308]
                  - listitem [ref=e310]:
                    - paragraph [ref=e311]: Issue the following commands on one of the control plane nodes to remove the mismatched webhook resources.
                    - generic [ref=e313]:
                      - code [ref=e315]:
                        - generic [ref=e316]: kubectl delete secret --namespace spectro-system stylus-webhook-tls
                        - generic [ref=e317]: kubectl delete svc --namespace spectro-system stylus-webhook
                        - generic [ref=e318]: kubectl delete MutatingWebhookConfiguration stylus-webhook
                      - generic [ref=e319]:
                        - button "Toggle word wrap" [ref=e320] [cursor=pointer]:
                          - img [ref=e321]
                        - button "Copy code to clipboard" [ref=e323] [cursor=pointer]:
                          - generic [ref=e324]:
                            - img [ref=e325]
                            - img [ref=e327]
                  - listitem [ref=e329]:
                    - paragraph [ref=e330]: Issue the following command on all cluster nodes to restart the Palette Agent operator service and regenerate a new, consistent set of webhook resources.
                    - generic [ref=e332]:
                      - code [ref=e334]:
                        - generic [ref=e335]: systemctl restart spectro-stylus-operator
                      - button "Copy code to clipboard" [ref=e337] [cursor=pointer]:
                        - generic [ref=e338]:
                          - img [ref=e339]
                          - img [ref=e341]
                - paragraph [ref=e343]: This will resolve the issue, and cluster creation will proceed as expected.
                - 'heading "Scenario - content-length: 0 Errors during Content SynchronizationDirect link to scenario---content-length-0-errors-during-content-synchronization" [level=2] [ref=e344]':
                  - text: Scenario -
                  - code [ref=e345]: "content-length: 0"
                  - text: Errors during Content Synchronization
                  - link "Direct link to scenario---content-length-0-errors-during-content-synchronization" [ref=e346] [cursor=pointer]:
                    - /url: "#scenario---content-length-0-errors-during-content-synchronization"
                    - text: "#"
                - paragraph [ref=e347]:
                  - text: Unintended or non-graceful reboots during content bundle push operations can cause inconsistency in the primary registry, resulting in 0-byte blob files and subsequent
                  - code [ref=e348]: "content-length: 0"
                  - text: errors during content synchronization.
                - paragraph [ref=e349]:
                  - text: When operating a locally managed cluster, if you observe the
                  - code [ref=e350]: "content-length: 0"
                  - text: error during content sync, follow the steps below to verify whether the error was caused by an inconsistency in the primary registry and to fix the issue.
                - heading "Debug StepsDirect link to Debug Steps" [level=3] [ref=e351]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e352] [cursor=pointer]:
                    - /url: "#debug-steps-1"
                    - text: "#"
                - list [ref=e353]:
                  - listitem [ref=e354]:
                    - paragraph [ref=e355]: Issue the following command and observe if there are files that are zero bytes in size.
                    - generic [ref=e357]:
                      - code [ref=e359]:
                        - generic [ref=e360]: ls -la /usr/local/spectrocloud/peerbundle/sha256/
                      - button "Copy code to clipboard" [ref=e362] [cursor=pointer]:
                        - generic [ref=e363]:
                          - img [ref=e364]
                          - img [ref=e366]
                    - paragraph [ref=e368]: If you observe output similar to the following, where the file size is zero, proceed to the next step.
                    - generic [ref=e370]:
                      - code [ref=e372]:
                        - generic [ref=e373]: "-rw------- 1 root root 0 Aug 11 01:52 /usr/local/spectrocloud/peerbundle/sha256"
                      - generic [ref=e374]:
                        - button "Toggle word wrap" [ref=e375] [cursor=pointer]:
                          - img [ref=e376]
                        - button "Copy code to clipboard" [ref=e378] [cursor=pointer]:
                          - generic [ref=e379]:
                            - img [ref=e380]
                            - img [ref=e382]
                  - listitem [ref=e384]:
                    - paragraph [ref=e385]: Issue the following command to remove all files with zero size.
                    - generic [ref=e387]:
                      - code [ref=e389]:
                        - generic [ref=e390]: sudo find /usr/local/spectrocloud/peerbundle/sha256/ -type f -size 0 -delete
                      - generic [ref=e391]:
                        - button "Toggle word wrap" [ref=e392] [cursor=pointer]:
                          - img [ref=e393]
                        - button "Copy code to clipboard" [ref=e395] [cursor=pointer]:
                          - generic [ref=e396]:
                            - img [ref=e397]
                            - img [ref=e399]
                  - listitem [ref=e401]:
                    - paragraph [ref=e402]: Restart the Palette agent service and verify that it is active.
                    - generic [ref=e404]:
                      - code [ref=e406]:
                        - generic [ref=e407]: sudo systemctl restart spectro-stylus-agent.service
                        - generic [ref=e408]: sudo systemctl status spectro-stylus-agent.service
                      - button "Copy code to clipboard" [ref=e410] [cursor=pointer]:
                        - generic [ref=e411]:
                          - img [ref=e412]
                          - img [ref=e414]
                - paragraph [ref=e416]: This will resolve the issue and content sync will proceed normally.
                - heading "Scenario – PXK-E Clusters on RHEL and Rocky 8 Fail Kubernetes InitializationDirect link to Scenario – PXK-E Clusters on RHEL and Rocky 8 Fail Kubernetes Initialization" [level=2] [ref=e417]:
                  - text: Scenario – PXK-E Clusters on RHEL and Rocky 8 Fail Kubernetes Initialization
                  - link "Direct link to Scenario – PXK-E Clusters on RHEL and Rocky 8 Fail Kubernetes Initialization" [ref=e418] [cursor=pointer]:
                    - /url: "#scenario--pxk-e-clusters-on-rhel-and-rocky-8-fail-kubernetes-initialization"
                    - text: "#"
                - paragraph [ref=e419]:
                  - link "Palette eXtended Kubernetes - Edge (PXK-E)" [ref=e420] [cursor=pointer]:
                    - /url: /integrations/packs/?pack=edge-k8s
                  - text: clusters running Kubernetes v1.32.x or later on RHEL or Rocky Linux 8.x may experience failure during Kubernetes initialization. This occurs because RHEL and Rocky 8.x come with kernel version 4.18.x, which does not meet the
                  - link "kubeadm" [ref=e421] [cursor=pointer]:
                    - /url: https://kubernetes.io/docs/reference/setup-tools/kubeadm/
                  - text: system requirements introduced in Kubernetes v1.32.x. You can observe the following error in
                  - code [ref=e422]: kube-init
                  - text: logs.
                - generic [ref=e424]:
                  - code [ref=e426]:
                    - generic [ref=e427]: "[ERROR SystemVerification]: kernel release 4.18.0-553.16.1.el8_10.x86_64 is unsupported. Recommended LTS version from the 4.x series is 4.19. Any 5.x or 6.x versions are also supported. For cgroups v2 support, the minimal version is 4.15 and the recommended version is 5.8+..."
                  - generic [ref=e428]:
                    - button "Toggle word wrap" [ref=e429] [cursor=pointer]:
                      - img [ref=e430]
                    - button "Copy code to clipboard" [ref=e432] [cursor=pointer]:
                      - generic [ref=e433]:
                        - img [ref=e434]
                        - img [ref=e436]
                - paragraph [ref=e438]: "There are several possible ways to troubleshoot this issue:"
                - list [ref=e439]:
                  - listitem [ref=e440]: Rebuild the OS using RHEL or Rocky Linux 9.x, as they come with kernel 5.14+ by default.
                  - listitem [ref=e441]:
                    - link "Update the kernel version" [ref=e442] [cursor=pointer]:
                      - /url: "#debug-steps---update-the-kernel-version"
                    - text: to 4.19 or later in the 4.x series, or to any 5.x or 6.x version.
                - generic [ref=e443]:
                  - generic [ref=e444]:
                    - img [ref=e446]
                    - text: info
                  - generic [ref=e448]:
                    - paragraph [ref=e449]:
                      - text: To view all available versions of the
                      - code [ref=e450]: kernel-lt
                      - text: (long-term support) package from ELRepo, run the following command on a system that uses
                      - code [ref=e451]: dnf
                      - text: ", such as RHEL, Rocky Linux, CentOS, or a compatible container."
                    - generic [ref=e453]:
                      - code [ref=e455]:
                        - generic [ref=e456]: dnf --showduplicates --enablerepo=elrepo-kernel list available kernel-lt
                      - generic [ref=e457]:
                        - button "Toggle word wrap" [ref=e458] [cursor=pointer]:
                          - img [ref=e459]
                        - button "Copy code to clipboard" [ref=e461] [cursor=pointer]:
                          - generic [ref=e462]:
                            - img [ref=e463]
                            - img [ref=e465]
                - heading "Debug Steps - Update the Kernel VersionDirect link to Debug Steps - Update the Kernel Version" [level=3] [ref=e467]:
                  - text: Debug Steps - Update the Kernel Version
                  - link "Direct link to Debug Steps - Update the Kernel Version" [ref=e468] [cursor=pointer]:
                    - /url: "#debug-steps---update-the-kernel-version"
                    - text: "#"
                - heading "LimitationsDirect link to Limitations" [level=4] [ref=e469]:
                  - text: Limitations
                  - link "Direct link to Limitations" [ref=e470] [cursor=pointer]:
                    - /url: "#limitations"
                    - text: "#"
                - list [ref=e471]:
                  - listitem [ref=e472]: Appliance mode is supported only for RHEL-based images and is not supported for Rocky Linux.
                - heading "Debug Steps - Update the Kernel Version for Appliance ModeDirect link to Debug Steps - Update the Kernel Version for Appliance Mode" [level=4] [ref=e473]:
                  - text: Debug Steps - Update the Kernel Version for Appliance Mode
                  - link "Direct link to Debug Steps - Update the Kernel Version for Appliance Mode" [ref=e474] [cursor=pointer]:
                    - /url: "#debug-steps---update-the-kernel-version-for-appliance-mode"
                    - text: "#"
                - list [ref=e475]:
                  - listitem [ref=e476]:
                    - paragraph [ref=e477]:
                      - text: Customize the
                      - code [ref=e478]: Dockerfile
                      - text: in the
                      - code [ref=e479]: CanvOS
                      - text: directory. Find the conditional block for RHEL.
                    - generic [ref=e481]:
                      - code [ref=e483]:
                        - generic [ref=e484]: "RUN if [ \"${OS_DISTRIBUTION}\" = \"rhel\" ]; then \\"
                        - generic [ref=e485]: cp -a /certs/. /etc/pki/ca-trust/source/anchors/ && \
                        - generic [ref=e486]: update-ca-trust; \
                        - generic [ref=e487]: fi
                      - button "Copy code to clipboard" [ref=e489] [cursor=pointer]:
                        - generic [ref=e490]:
                          - img [ref=e491]
                          - img [ref=e493]
                    - paragraph [ref=e495]: Update the conditional block as in the example below to install the latest available version in the 5.4.x Long-Term Support (LTS) kernel line using ELRepo.
                    - generic [ref=e497]:
                      - code [ref=e499]:
                        - generic [ref=e500]: "RUN if [ \"${OS_DISTRIBUTION}\" = \"rhel\" ]; then \\"
                        - generic [ref=e501]: cp --archive /certs/. /etc/pki/ca-trust/source/anchors/ && \
                        - generic [ref=e502]: update-ca-trust && \
                        - generic [ref=e503]: dnf install --assumeyes https://www.elrepo.org/elrepo-release-8.el8.elrepo.noarch.rpm && \
                        - generic [ref=e504]: dnf update --assumeyes && \
                        - generic [ref=e505]: dnf --enablerepo=elrepo-kernel install --assumeyes kernel-lt kernel-lt-modules-extra && \
                        - generic [ref=e506]: dnf clean all; \
                        - generic [ref=e507]: fi
                      - generic [ref=e508]:
                        - button "Toggle word wrap" [ref=e509] [cursor=pointer]:
                          - img [ref=e510]
                        - button "Copy code to clipboard" [ref=e512] [cursor=pointer]:
                          - generic [ref=e513]:
                            - img [ref=e514]
                            - img [ref=e516]
                    - paragraph [ref=e518]:
                      - text: Alternatively, you can update the conditional block as in the example below to pin an exact version. Replace
                      - code [ref=e519]: 5.4.261-1.el8.elrepo
                      - text: with the required version.
                    - generic [ref=e521]:
                      - code [ref=e523]:
                        - generic [ref=e524]: "RUN if [ \"${OS_DISTRIBUTION}\" = \"rhel\" ]; then \\"
                        - generic [ref=e525]: cp --archive /certs/. /etc/pki/ca-trust/source/anchors/ && \
                        - generic [ref=e526]: update-ca-trust && \
                        - generic [ref=e527]: dnf install --assumeyes https://www.elrepo.org/elrepo-release-8.el8.elrepo.noarch.rpm && \
                        - generic [ref=e528]: dnf update --assumeyes && \
                        - generic [ref=e529]: dnf --enablerepo=elrepo-kernel install --assumeyes \
                        - generic [ref=e530]: kernel-lt-5.4.261-1.el8.elrepo \
                        - generic [ref=e531]: kernel-lt-modules-extra-5.4.261-1.el8.elrepo && \
                        - generic [ref=e532]: dnf clean all; \
                        - generic [ref=e533]: fi
                      - generic [ref=e534]:
                        - button "Toggle word wrap" [ref=e535] [cursor=pointer]:
                          - img [ref=e536]
                        - button "Copy code to clipboard" [ref=e538] [cursor=pointer]:
                          - generic [ref=e539]:
                            - img [ref=e540]
                            - img [ref=e542]
                  - listitem [ref=e544]:
                    - paragraph [ref=e545]: Rebuild the ISO and provider image and redeploy the cluster.
                  - listitem [ref=e546]:
                    - paragraph [ref=e547]: After the deployment is complete, issue the following command on the node to ensure you updated the kernel version to a supported one.
                    - generic [ref=e549]:
                      - code [ref=e551]:
                        - generic [ref=e552]: uname --kernel-release
                      - button "Copy code to clipboard" [ref=e554] [cursor=pointer]:
                        - generic [ref=e555]:
                          - img [ref=e556]
                          - img [ref=e558]
                - heading "Debug Steps - Update the Kernel Version for Agent ModeDirect link to Debug Steps - Update the Kernel Version for Agent Mode" [level=4] [ref=e560]:
                  - text: Debug Steps - Update the Kernel Version for Agent Mode
                  - link "Direct link to Debug Steps - Update the Kernel Version for Agent Mode" [ref=e561] [cursor=pointer]:
                    - /url: "#debug-steps---update-the-kernel-version-for-agent-mode"
                    - text: "#"
                - list [ref=e562]:
                  - listitem [ref=e563]:
                    - paragraph [ref=e564]: Install the latest available version in the 5.4.x LTS kernel line using ELRepo. Establish an SSH connection to the PXK-E node and issue the following commands.
                    - generic [ref=e566]:
                      - code [ref=e568]:
                        - generic [ref=e569]: dnf install --assumeyes https://www.elrepo.org/elrepo-release-8.el8.elrepo.noarch.rpm
                        - generic [ref=e570]: dnf update --assumeyes
                        - generic [ref=e571]: dnf --enablerepo=elrepo-kernel install --assumeyes kernel-lt kernel-lt-modules-extra
                        - generic [ref=e572]: reboot
                      - generic [ref=e573]:
                        - button "Toggle word wrap" [ref=e574] [cursor=pointer]:
                          - img [ref=e575]
                        - button "Copy code to clipboard" [ref=e577] [cursor=pointer]:
                          - generic [ref=e578]:
                            - img [ref=e579]
                            - img [ref=e581]
                    - paragraph [ref=e583]:
                      - text: Alternatively, you can issue the following command to pin an exact version. Replace
                      - code [ref=e584]: 5.4.261-1.el8.elrepo
                      - text: with the required version.
                    - generic [ref=e586]:
                      - code [ref=e588]:
                        - generic [ref=e589]: dnf install --assumeyes https://www.elrepo.org/elrepo-release-8.el8.elrepo.noarch.rpm
                        - generic [ref=e590]: dnf update --assumeyes
                        - generic [ref=e591]: dnf --enablerepo=elrepo-kernel install --assumeyes \
                        - generic [ref=e592]: kernel-lt-5.4.261-1.el8.elrepo \
                        - generic [ref=e593]: kernel-lt-modules-extra-5.4.261-1.el8.elrepo
                        - generic [ref=e594]: reboot
                      - generic [ref=e595]:
                        - button "Toggle word wrap" [ref=e596] [cursor=pointer]:
                          - img [ref=e597]
                        - button "Copy code to clipboard" [ref=e599] [cursor=pointer]:
                          - generic [ref=e600]:
                            - img [ref=e601]
                            - img [ref=e603]
                  - listitem [ref=e605]:
                    - paragraph [ref=e606]: Issue the following command after the reboot to ensure you updated the kernel version to a supported one.
                    - generic [ref=e608]:
                      - code [ref=e610]:
                        - generic [ref=e611]: uname --kernel-release
                      - button "Copy code to clipboard" [ref=e613] [cursor=pointer]:
                        - generic [ref=e614]:
                          - img [ref=e615]
                          - img [ref=e617]
                - heading "Scenario - PXK-E Clusters in VerteX Deployments Experience Failure upon RebootDirect link to Scenario - PXK-E Clusters in VerteX Deployments Experience Failure upon Reboot" [level=2] [ref=e619]:
                  - text: Scenario - PXK-E Clusters in VerteX Deployments Experience Failure upon Reboot
                  - link "Direct link to Scenario - PXK-E Clusters in VerteX Deployments Experience Failure upon Reboot" [ref=e620] [cursor=pointer]:
                    - /url: "#scenario---pxk-e-clusters-in-vertex-deployments-experience-failure-upon-reboot"
                    - text: "#"
                - paragraph [ref=e621]:
                  - text: When rebooting control plane nodes in
                  - link "Palette eXtended Kubernetes - Edge (PXK-E)" [ref=e622] [cursor=pointer]:
                    - /url: /integrations/packs/?pack=edge-k8s
                  - text: clusters deployed via VerteX, the
                  - code [ref=e623]: kube-vip
                  - text: component may fail to start due to early DNS resolution issues. You can observe repeated errors in the system logs using
                  - code [ref=e624]: journalctl --unit=kubelet
                  - text: .
                - generic [ref=e625]:
                  - generic [ref=e626]: Example output
                  - generic [ref=e627]:
                    - code [ref=e629]:
                      - generic [ref=e630]: "E0619 21:53:53.613367 1 leaderelection.go:327] error retrieving resource lock kube-system/plndr-cp-lock: Get \"https://kubernetes:6443/apis/coordination.k8s.io/v1/namespaces/kube-system/leases/plndr-cp-lock\": dial tcp: lookup kubernetes on 10.10.128.8:53: no such host"
                      - generic [ref=e631]: "E0619 21:54:00.647219 1 leaderelection.go:327] error retrieving resource lock kube-system/plndr-cp-lock: Get \"https://kubernetes:6443/apis/coordination.k8s.io/v1/namespaces/kube-system/leases/plndr-cp-lock\": dial tcp: lookup kubernetes on 10.10.128.8:53: no such host"
                    - generic [ref=e632]:
                      - button "Toggle word wrap" [ref=e633] [cursor=pointer]:
                        - img [ref=e634]
                      - button "Copy code to clipboard" [ref=e636] [cursor=pointer]:
                        - generic [ref=e637]:
                          - img [ref=e638]
                          - img [ref=e640]
                - paragraph [ref=e642]:
                  - text: Although DNS becomes available shortly after boot,
                  - code [ref=e643]: kube-vip
                  - text: does not recover automatically. To fix this, stop and remove the container manually. The kubelet then restarts the component using the current system state.
                - heading "Debug StepsDirect link to Debug Steps" [level=3] [ref=e644]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e645] [cursor=pointer]:
                    - /url: "#debug-steps-2"
                    - text: "#"
                - list [ref=e646]:
                  - listitem [ref=e647]:
                    - paragraph [ref=e648]:
                      - text: On each control plane node, list all operating
                      - code [ref=e649]: kube-vip
                      - text: containers using the
                      - link "crictl" [ref=e650] [cursor=pointer]:
                        - /url: https://kubernetes.io/docs/tasks/debug/debug-cluster/crictl/
                        - code [ref=e651]: crictl
                      - text: tool.
                    - generic [ref=e653]:
                      - code [ref=e655]:
                        - generic [ref=e656]: "crictl ps 2>/dev/null | grep kube-vip | awk '{print $1}'"
                      - button "Copy code to clipboard" [ref=e658] [cursor=pointer]:
                        - generic [ref=e659]:
                          - img [ref=e660]
                          - img [ref=e662]
                  - listitem [ref=e664]:
                    - paragraph [ref=e665]: Stop and remove each container.
                    - generic [ref=e667]:
                      - code [ref=e669]:
                        - generic [ref=e670]: crictl stop <container-id> && crictl rm <container-id>
                      - button "Copy code to clipboard" [ref=e672] [cursor=pointer]:
                        - generic [ref=e673]:
                          - img [ref=e674]
                          - img [ref=e676]
                - heading "Scenario - Canonical Edge Clusters in Proxied Environments Experience Failure upon RebootDirect link to Scenario - Canonical Edge Clusters in Proxied Environments Experience Failure upon Reboot" [level=2] [ref=e678]:
                  - text: Scenario - Canonical Edge Clusters in Proxied Environments Experience Failure upon Reboot
                  - link "Direct link to Scenario - Canonical Edge Clusters in Proxied Environments Experience Failure upon Reboot" [ref=e679] [cursor=pointer]:
                    - /url: "#scenario---canonical-edge-clusters-in-proxied-environments-experience-failure-upon-reboot"
                    - text: "#"
                - paragraph [ref=e680]:
                  - text: When rebooting nodes in an Edge cluster using Palette Optimized Canonical deployed in a proxied environment, the nodes may fail to come back online. To prevent this, add the second IP address in the
                  - code [ref=e681]: service_cidr
                  - text: range from the Canonical pack to the
                  - code [ref=e682]: NO_PROXY
                  - text: list in your Edge installer
                  - code [ref=e683]: user-data
                  - text: .
                - heading "Debug StepsDirect link to Debug Steps" [level=3] [ref=e684]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e685] [cursor=pointer]:
                    - /url: "#debug-steps-3"
                    - text: "#"
                - list [ref=e686]:
                  - listitem [ref=e687]:
                    - paragraph [ref=e688]:
                      - text: Log in to
                      - link "Palette" [ref=e689] [cursor=pointer]:
                        - /url: https://console.spectrocloud.com
                      - text: .
                  - listitem [ref=e690]:
                    - paragraph [ref=e691]:
                      - text: From the left
                      - strong [ref=e692]: Main Menu
                      - text: ", select"
                      - strong [ref=e693]: Profiles
                      - text: . Then select the profile you will use to deploy your cluster.
                  - listitem [ref=e694]:
                    - paragraph [ref=e695]:
                      - text: Select the Kubernetes layer, the
                      - code [ref=e696]: Palette Optimized Canonical
                      - text: pack. Click
                      - strong [ref=e697]: values.yaml
                      - text: to view the values.
                  - listitem [ref=e698]:
                    - paragraph [ref=e699]:
                      - text: Take note of the
                      - code [ref=e700]: service_cidr
                      - text: value in
                      - code [ref=e701]: pack.cluster.config
                      - text: .
                  - listitem [ref=e702]:
                    - paragraph [ref=e703]:
                      - text: Add the second IP of the CIDR block in the
                      - code [ref=e704]: service_cidr
                      - text: range to the
                      - code [ref=e705]: stylus.site.network.noProxy
                      - text: parameter. For example, if your
                      - code [ref=e706]: service_cidr
                      - text: is
                      - code [ref=e707]: 192.169.0.0/16
                      - text: ", you need to add"
                      - code [ref=e708]: 192.169.0.1
                      - text: to the parameter.
                    - generic [ref=e709]:
                      - generic [ref=e710]: Example
                      - generic [ref=e711]:
                        - code [ref=e713]:
                          - generic [ref=e714]: "#cloud-config"
                          - generic [ref=e715]: "stylus:"
                          - generic [ref=e716]: "site:"
                          - generic [ref=e717]: "paletteEndpoint: api.spectrocloud.com"
                          - generic [ref=e718]: "edgeHostToken: <yourRegistrationToken>"
                          - generic [ref=e719]: "projectName: edge-sites"
                          - generic [ref=e720]: "tags:"
                          - generic [ref=e721]: "city: chicago"
                          - generic [ref=e722]: "building: building-1"
                          - generic [ref=e723]: "zip-code: 95135"
                          - generic [ref=e724]: "network:"
                          - generic [ref=e725]: "httpProxy: http://proxy.example.com"
                          - generic [ref=e726]: "httpsProxy: https://proxy.example.com"
                          - generic [ref=e727]: "noProxy: 10.10.128.10,10.0.0.0/8,192.169.0.1"
                          - generic [ref=e728]: "nameserver: 1.1.1.1"
                        - button "Copy code to clipboard" [ref=e730] [cursor=pointer]:
                          - generic [ref=e731]:
                            - img [ref=e732]
                            - img [ref=e734]
                - heading "Scenario - Cilium Pod Stuck During Kubernetes Upgrade Due to nsenter Permission IssueDirect link to Scenario - Cilium Pod Stuck During Kubernetes Upgrade Due to nsenter Permission Issue" [level=2] [ref=e736]:
                  - text: Scenario - Cilium Pod Stuck During Kubernetes Upgrade Due to nsenter Permission Issue
                  - link "Direct link to Scenario - Cilium Pod Stuck During Kubernetes Upgrade Due to nsenter Permission Issue" [ref=e737] [cursor=pointer]:
                    - /url: "#scenario---cilium-pod-stuck-during-kubernetes-upgrade-due-to-nsenter-permission-issue"
                    - text: "#"
                - paragraph [ref=e738]:
                  - text: During a Kubernetes upgrade, the Cilium pod may get stuck in the
                  - code [ref=e739]: Init:CrashLoopBackoff
                  - text: state due to nsenter permission issues. To address the issue, patch the cilium DaemonSet with the specified annotations.
                - heading "Debug StepsDirect link to Debug Steps" [level=3] [ref=e740]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e741] [cursor=pointer]:
                    - /url: "#debug-steps-4"
                    - text: "#"
                - list [ref=e742]:
                  - listitem [ref=e743]:
                    - paragraph [ref=e744]:
                      - link "Connect to your cluster" [ref=e745] [cursor=pointer]:
                        - /url: /clusters/cluster-management/palette-webctl/
                      - text: via
                      - code [ref=e746]: kubectl
                      - text: .
                  - listitem [ref=e747]:
                    - paragraph [ref=e748]: Issue the following command to edit the DaemonSet.
                    - generic [ref=e750]:
                      - code [ref=e752]:
                        - generic [ref=e753]: kubectl --namespace kube-system edit ds cilium
                      - button "Copy code to clipboard" [ref=e755] [cursor=pointer]:
                        - generic [ref=e756]:
                          - img [ref=e757]
                          - img [ref=e759]
                  - listitem [ref=e761]:
                    - paragraph [ref=e762]: Add the following annotations to the DaemonSet.
                    - generic [ref=e764]:
                      - code [ref=e766]:
                        - generic [ref=e767]: "spec:"
                        - generic [ref=e768]: "template:"
                        - generic [ref=e769]: "metadata:"
                        - generic [ref=e770]: "annotations:"
                        - generic [ref=e771]: "container.apparmor.security.beta.kubernetes.io/cilium-agent: \"unconfined\""
                        - generic [ref=e772]: "container.apparmor.security.beta.kubernetes.io/mount-cgroup: \"unconfined\""
                        - generic [ref=e773]: "container.apparmor.security.beta.kubernetes.io/clean-cilium-state: \"unconfined\""
                        - generic [ref=e774]: "container.apparmor.security.beta.kubernetes.io/apply-sysctl-overwrites: \"unconfined\""
                      - generic [ref=e775]:
                        - button "Toggle word wrap" [ref=e776] [cursor=pointer]:
                          - img [ref=e777]
                        - button "Copy code to clipboard" [ref=e779] [cursor=pointer]:
                          - generic [ref=e780]:
                            - img [ref=e781]
                            - img [ref=e783]
                - heading "Scenario - Cluster Creation Failure Due to Nodeadm not FoundDirect link to Scenario - Cluster Creation Failure Due to Nodeadm not Found" [level=2] [ref=e785]:
                  - text: Scenario - Cluster Creation Failure Due to Nodeadm not Found
                  - link "Direct link to Scenario - Cluster Creation Failure Due to Nodeadm not Found" [ref=e786] [cursor=pointer]:
                    - /url: "#scenario---cluster-creation-failure-due-to-nodeadm-not-found"
                    - text: "#"
                - paragraph [ref=e787]:
                  - text: When attempting to deploy a cluster with
                  - link "Palette eXtended Kubernetes - Edge (PXK-E)" [ref=e788] [cursor=pointer]:
                    - /url: /integrations/packs/?pack=edge-k8s
                  - text: and
                  - link "agent mode" [ref=e789] [cursor=pointer]:
                    - /url: /deployment-modes/agent-mode/
                  - text: on Palette agent version 4.5.14, adding a custom
                  - code [ref=e790]: stylus.path
                  - text: to the
                  - strong [ref=e791]: user-data
                  - text: file causes cluster creation to fail as it cannot find
                  - link "kubeadm" [ref=e792] [cursor=pointer]:
                    - /url: https://kubernetes.io/docs/reference/setup-tools/kubeadm/
                  - text: . A custom
                  - code [ref=e793]: stylus.path
                  - text: can be added during the
                  - link "Install Palette Agent" [ref=e794] [cursor=pointer]:
                    - /url: /deployment-modes/agent-mode/install-agent-host/#install-palette-agent
                  - text: steps.
                - generic [ref=e795]:
                  - generic [ref=e796]:
                    - img [ref=e798]
                    - text: tip
                  - paragraph [ref=e801]:
                    - text: Refer to
                    - link "Identify the Target Agent Version" [ref=e802] [cursor=pointer]:
                      - /url: /clusters/edge/cluster-management/agent-upgrade-airgap/#identify-the-target-agent-version
                    - text: for guidance in retrieving your Palette agent version number.
                - paragraph [ref=e803]:
                  - text: To resolve this scenario, add a cloud-init stage to your
                  - link "BYOS Edge OS" [ref=e804] [cursor=pointer]:
                    - /url: /integrations/packs/?pack=edge-native-byoi
                  - text: pack configuration by following the debug steps below.
                - heading "Debug StepsDirect link to Debug Steps" [level=3] [ref=e805]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e806] [cursor=pointer]:
                    - /url: "#debug-steps-5"
                    - text: "#"
                - list [ref=e807]:
                  - listitem [ref=e808]:
                    - paragraph [ref=e809]:
                      - text: Log in to
                      - link "Palette" [ref=e810] [cursor=pointer]:
                        - /url: https://console.spectrocloud.com/
                      - text: .
                  - listitem [ref=e811]:
                    - paragraph [ref=e812]:
                      - text: From the left
                      - strong [ref=e813]: Main Menu
                      - text: ", select"
                      - strong [ref=e814]: Profiles
                      - text: .
                  - listitem [ref=e815]:
                    - paragraph [ref=e816]:
                      - text: On the
                      - strong [ref=e817]: Profiles
                      - text: page, find and click on your cluster profile.
                  - listitem [ref=e818]:
                    - paragraph [ref=e819]:
                      - text: Select the
                      - strong [ref=e820]: OS
                      - text: layer of your cluster profile.
                  - listitem [ref=e821]:
                    - paragraph [ref=e822]:
                      - text: Click
                      - strong [ref=e823]: Values
                      - text: in the
                      - strong [ref=e824]: Pack Details
                      - text: section. In the YAML editor, add the following entry.
                    - generic [ref=e826]:
                      - code [ref=e828]:
                        - generic [ref=e829]: "stages:"
                        - generic [ref=e830]: "initramfs:"
                        - generic [ref=e831]: "- name: \"Workaround for kubeadm path issue in Palette agent v4.5.14\""
                        - generic [ref=e832]: "if: \"[ ! -f /usr/bin/kubeadm ]\""
                        - generic [ref=e833]: "commands:"
                        - generic [ref=e834]: "- cp <customStylusPath>/usr/bin/kubeadm /usr/bin/"
                        - generic [ref=e835]: "- reboot now"
                      - generic [ref=e836]:
                        - button "Toggle word wrap" [ref=e837] [cursor=pointer]:
                          - img [ref=e838]
                        - button "Copy code to clipboard" [ref=e840] [cursor=pointer]:
                          - generic [ref=e841]:
                            - img [ref=e842]
                            - img [ref=e844]
                    - paragraph [ref=e846]:
                      - text: Replace
                      - code [ref=e847]: <customStylusPath>
                      - text: with the custom
                      - code [ref=e848]: stylus.path
                      - text: you provided in the
                      - strong [ref=e849]: user-data
                      - text: file during the
                      - link "Install Palette Agent" [ref=e850] [cursor=pointer]:
                        - /url: /deployment-modes/agent-mode/install-agent-host/#install-palette-agent
                      - text: steps, as demonstrated in the following example.
                    - generic [ref=e852]:
                      - code [ref=e854]:
                        - generic [ref=e855]: "pack:"
                        - generic [ref=e856]: "content:"
                        - generic [ref=e857]: "images:"
                        - generic [ref=e858]: "- image: \"{{.spectro.pack.edge-native-byoi.options.system.uri}}\""
                        - generic [ref=e859]: "options:"
                        - generic [ref=e860]: "---"
                        - generic [ref=e861]: "stages:"
                        - generic [ref=e862]: "initramfs:"
                        - generic [ref=e863]: "- name: \"Workaround for kubeadm path issue in Palette agent v4.5.14\""
                        - generic [ref=e864]: "if: \"[ ! -f /usr/bin/kubeadm ]\""
                        - generic [ref=e865]: "commands:"
                        - generic [ref=e866]: "- cp /persistent/spectro/usr/bin/kubeadm /usr/bin/"
                        - generic [ref=e867]: "- reboot now"
                      - button "Toggle word wrap" [ref=e869] [cursor=pointer]:
                        - img [ref=e870]
                  - listitem [ref=e872]:
                    - paragraph [ref=e873]:
                      - text: Click
                      - strong [ref=e874]: Confirm Updates
                      - text: to save your changes.
                  - listitem [ref=e875]:
                    - paragraph [ref=e876]:
                      - text: Click
                      - strong [ref=e877]: Save Changes
                      - text: on the cluster profile page.
                  - listitem [ref=e878]:
                    - paragraph [ref=e879]: Deploy your cluster using the updated cluster profile.
                - heading "Scenario - IP Address not Assigned to Edge HostDirect link to Scenario - IP Address not Assigned to Edge Host" [level=2] [ref=e880]:
                  - text: Scenario - IP Address not Assigned to Edge Host
                  - link "Direct link to Scenario - IP Address not Assigned to Edge Host" [ref=e881] [cursor=pointer]:
                    - /url: "#scenario---ip-address-not-assigned-to-edge-host"
                    - text: "#"
                - paragraph [ref=e882]: When you add a new VMware vSphere Edge host to an Edge cluster, the IP address may fail to be assigned to the Edge host after a reboot.
                - heading "Debug StepsDirect link to Debug Steps" [level=3] [ref=e883]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e884] [cursor=pointer]:
                    - /url: "#debug-steps-6"
                    - text: "#"
                - list [ref=e885]:
                  - listitem [ref=e886]:
                    - paragraph [ref=e887]:
                      - text: Access the Edge host through the
                      - link "vSphere Web Console" [ref=e888] [cursor=pointer]:
                        - /url: https://docs.vmware.com/en/VMware-vSphere/7.0/com.vmware.vsphere.vm_admin.doc/GUID-92986CAA-4FDE-4AA0-A9E9-084FF9E03323.html
                      - text: .
                  - listitem [ref=e889]:
                    - paragraph [ref=e890]: Issue the following command.
                    - generic [ref=e892]:
                      - code [ref=e894]:
                        - generic [ref=e895]: networkctl reload
                      - button "Copy code to clipboard" [ref=e897] [cursor=pointer]:
                        - generic [ref=e898]:
                          - img [ref=e899]
                          - img [ref=e901]
                    - paragraph [ref=e903]: This command restarts the Edge host network and allows the Edge host to receive an IP address.
                - heading "Scenario - Override or Reconfigure Read-only File System StageDirect link to Scenario - Override or Reconfigure Read-only File System Stage" [level=2] [ref=e904]:
                  - text: Scenario - Override or Reconfigure Read-only File System Stage
                  - link "Direct link to Scenario - Override or Reconfigure Read-only File System Stage" [ref=e905] [cursor=pointer]:
                    - /url: "#scenario---override-or-reconfigure-read-only-file-system-stage"
                    - text: "#"
                - paragraph [ref=e906]: If you need to override or reconfigure the read-only file system, you can do so using the following steps.
                - heading "Debug StepsDirect link to Debug Steps" [level=3] [ref=e907]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e908] [cursor=pointer]:
                    - /url: "#debug-steps-7"
                    - text: "#"
                - list [ref=e909]:
                  - listitem [ref=e910]:
                    - paragraph [ref=e911]: Power on the Edge host.
                  - listitem [ref=e912]:
                    - paragraph [ref=e913]:
                      - text: Press the keyboard key
                      - code [ref=e914]: E
                      - text: after highlighting the menu in
                      - code [ref=e915]: grubmenu
                      - text: .
                  - listitem [ref=e916]:
                    - paragraph [ref=e917]:
                      - text: Type
                      - code [ref=e918]: rd.cos.debugrw
                      - text: and press
                      - code [ref=e919]: Enter
                      - text: .
                    - paragraph [ref=e920]:
                      - img "The grub menu displays with the command rd.cos.debugrw typed in the terminal." [ref=e921]
                  - listitem [ref=e922]:
                    - paragraph [ref=e923]:
                      - text: Press the keys
                      - strong [ref=e924]: CTRL + X
                      - text: to boot the system.
                  - listitem [ref=e925]:
                    - paragraph [ref=e926]: Make the required changes to the image.
                  - listitem [ref=e927]:
                    - paragraph [ref=e928]: Reboot the system to resume the default read-only file system.
                - heading "Scenario - Pod State Unknown After Reboot with Overlay Network EnabledDirect link to Scenario - Pod State Unknown After Reboot with Overlay Network Enabled" [level=2] [ref=e929]:
                  - text: Scenario - Pod State Unknown After Reboot with Overlay Network Enabled
                  - link "Direct link to Scenario - Pod State Unknown After Reboot with Overlay Network Enabled" [ref=e930] [cursor=pointer]:
                    - /url: "#scenario---pod-state-unknown-after-reboot-with-overlay-network-enabled"
                    - text: "#"
                - paragraph [ref=e931]: On slower networks, it's possible that this is due to KubeVip leader election timeouts. To debug, you can manually adjust the values of related environment variables in the KubeVip DaemonSet with the following steps.
                - heading "Debug StepsDirect link to Debug Steps" [level=3] [ref=e932]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e933] [cursor=pointer]:
                    - /url: "#debug-steps-8"
                    - text: "#"
                - list [ref=e934]:
                  - listitem [ref=e935]:
                    - paragraph [ref=e936]:
                      - text: Ensure you can access the cluster using kubectl. For more information, refer to
                      - link "Access Cluster with CLI" [ref=e937] [cursor=pointer]:
                        - /url: /clusters/cluster-management/palette-webctl/
                      - text: .
                  - listitem [ref=e938]:
                    - paragraph [ref=e939]: "Issue the following command:"
                    - generic [ref=e941]:
                      - code [ref=e943]:
                        - generic [ref=e944]: kubectl edit ds kube-vip-ds --namespace kube-system
                      - button "Copy code to clipboard" [ref=e946] [cursor=pointer]:
                        - generic [ref=e947]:
                          - img [ref=e948]
                          - img [ref=e950]
                  - listitem [ref=e952]:
                    - paragraph [ref=e953]:
                      - text: In the
                      - code [ref=e954]: env
                      - text: of the KubeVip service, modify the environment variables to have the following corresponding values.
                    - generic [ref=e956]:
                      - code [ref=e958]:
                        - generic [ref=e959]: "env:"
                        - generic [ref=e960]: "- name: vip_leaderelection"
                        - generic [ref=e961]: "value: \"true\""
                        - generic [ref=e962]: "- name: vip_leaseduration"
                        - generic [ref=e963]: "value: \"30\""
                        - generic [ref=e964]: "- name: vip_renewdeadline"
                        - generic [ref=e965]: "value: \"20\""
                        - generic [ref=e966]: "- name: vip_retryperiod"
                        - generic [ref=e967]: "value: \"4\""
                      - button "Copy code to clipboard" [ref=e969] [cursor=pointer]:
                        - generic [ref=e970]:
                          - img [ref=e971]
                          - img [ref=e973]
                  - listitem [ref=e975]:
                    - paragraph [ref=e976]: Within a minute, the old Pods in unknown state will be terminated and Pods will come up with the updated values.
                - heading "Scenario - Palette Webhook Pods Fail to StartDirect link to Scenario - Palette Webhook Pods Fail to Start" [level=2] [ref=e977]:
                  - text: Scenario - Palette Webhook Pods Fail to Start
                  - link "Direct link to Scenario - Palette Webhook Pods Fail to Start" [ref=e978] [cursor=pointer]:
                    - /url: "#scenario---palette-webhook-pods-fail-to-start"
                    - text: "#"
                - paragraph [ref=e979]:
                  - text: If the Palette webhook pods fail to start, it may be due to the
                  - emphasis [ref=e980]: palette-lite-controller-manager
                  - text: pods encountering issues or not being available. Use the following steps to troubleshoot and resolve the issue.
                - heading "Debug StepsDirect link to Debug Steps" [level=3] [ref=e981]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e982] [cursor=pointer]:
                    - /url: "#debug-steps-9"
                    - text: "#"
                - list [ref=e983]:
                  - listitem [ref=e984]:
                    - paragraph [ref=e985]:
                      - text: Ensure you can access the Kubernetes cluster using kubectl. For more information, refer to
                      - link "Access Cluster with CLI" [ref=e986] [cursor=pointer]:
                        - /url: /clusters/cluster-management/palette-webctl/
                      - text: .
                  - listitem [ref=e987]:
                    - paragraph [ref=e988]:
                      - text: Open up a terminal session and issue the following command to check the status of the
                      - emphasis [ref=e989]: palette-lite-controller-manager
                      - text: pods.
                    - generic [ref=e991]:
                      - code [ref=e993]:
                        - generic [ref=e994]: kubectl get pods --all-namespaces | grep palette-lite-controller-manager
                      - generic [ref=e995]:
                        - button "Toggle word wrap" [ref=e996] [cursor=pointer]:
                          - img [ref=e997]
                        - button "Copy code to clipboard" [ref=e999] [cursor=pointer]:
                          - generic [ref=e1000]:
                            - img [ref=e1001]
                            - img [ref=e1003]
                    - generic [ref=e1006]:
                      - code [ref=e1008]:
                        - generic [ref=e1009]: cluster-661acf1dfc746f8217de2712 palette-lite-controller-manager-6856746c8-7p9k2 2/2 Running 0 6m
                      - button "Toggle word wrap" [ref=e1011] [cursor=pointer]:
                        - img [ref=e1012]
                    - paragraph [ref=e1014]: If the pods are active and available with an age greater than five minutes, then the issue may be with the Palette webhook. Proceed to the next step.
                    - generic [ref=e1015]:
                      - generic [ref=e1016]:
                        - img [ref=e1018]
                        - text: info
                      - paragraph [ref=e1021]:
                        - text: If the pods are not active, use the command
                        - code [ref=e1022]: kubectl describe pod <pod-name> --namespace palette-system
                        - text: to check the pod logs for more information about why the pods are not starting. Replace
                        - code [ref=e1023]: <pod-name>
                        - text: with the name of the pod that is not starting. Scroll down to the
                        - code [ref=e1024]: Events
                        - text: section to view the logs. You can try to delete the pod and check if it starts successfully. If the issue persists, contact our support team by emailing.
                  - listitem [ref=e1025]:
                    - paragraph [ref=e1026]: Check the status of the Palette webhook pods. Use the following command to verify the status.
                    - generic [ref=e1028]:
                      - code [ref=e1030]:
                        - generic [ref=e1031]: kubectl get pods --namespace palette-system
                      - button "Copy code to clipboard" [ref=e1033] [cursor=pointer]:
                        - generic [ref=e1034]:
                          - img [ref=e1035]
                          - img [ref=e1037]
                    - generic [ref=e1040]:
                      - code [ref=e1042]:
                        - generic [ref=e1043]: No resources found in palette-system namespace
                      - button "Copy code to clipboard" [ref=e1045] [cursor=pointer]:
                        - generic [ref=e1046]:
                          - img [ref=e1047]
                          - img [ref=e1049]
                    - paragraph [ref=e1051]:
                      - text: If the output displays a message stating
                      - strong [ref=e1052]: No resources found in palette-system namespace
                      - text: then the lacking Palette webhook pods are the issue for the cluster not starting.
                  - listitem [ref=e1053]:
                    - paragraph [ref=e1054]:
                      - text: Delete all existing
                      - emphasis [ref=e1055]: palette-lite-controller-manager
                      - text: pods using the following commands.
                    - generic [ref=e1057]:
                      - code [ref=e1059]:
                        - generic [ref=e1060]: "export NAMESPACE=$(kubectl get pods --all-namespaces | grep palette-lite-controller-manager | awk '{print $1}')"
                        - generic [ref=e1061]: "export PALETTE_POD_NAME=$(kubectl get pods --all-namespaces | grep palette-lite-controller-manager | awk '{print $2}')"
                        - generic [ref=e1062]: kubectl delete pod $PALETTE_POD_NAME --namespace $NAMESPACE
                      - generic [ref=e1063]:
                        - button "Toggle word wrap" [ref=e1064] [cursor=pointer]:
                          - img [ref=e1065]
                        - button "Copy code to clipboard" [ref=e1067] [cursor=pointer]:
                          - generic [ref=e1068]:
                            - img [ref=e1069]
                            - img [ref=e1071]
                  - listitem [ref=e1073]:
                    - paragraph [ref=e1074]:
                      - text: After a few seconds, verify that the
                      - emphasis [ref=e1075]: palette-lite-controller-manager
                      - text: pods are active and available.
                    - generic [ref=e1077]:
                      - code [ref=e1079]:
                        - generic [ref=e1080]: kubectl get pods --all-namespaces | grep palette-lite-controller-manager
                      - generic [ref=e1081]:
                        - button "Toggle word wrap" [ref=e1082] [cursor=pointer]:
                          - img [ref=e1083]
                        - button "Copy code to clipboard" [ref=e1085] [cursor=pointer]:
                          - generic [ref=e1086]:
                            - img [ref=e1087]
                            - img [ref=e1089]
                  - listitem [ref=e1091]:
                    - paragraph [ref=e1092]:
                      - text: Check the status of the Palette webhook pods. A successful output should display the status of the
                      - emphasis [ref=e1093]: palette-webhook
                      - text: pods.
                    - generic [ref=e1095]:
                      - code [ref=e1097]:
                        - generic [ref=e1098]: kubectl get pods --namespace palette-system
                      - button "Copy code to clipboard" [ref=e1100] [cursor=pointer]:
                        - generic [ref=e1101]:
                          - img [ref=e1102]
                          - img [ref=e1104]
                    - generic [ref=e1107]:
                      - code [ref=e1109]:
                        - generic [ref=e1110]: NAME READY STATUS RESTARTS AGE
                        - generic [ref=e1111]: palette-webhook-548c55568c-p74zz 1/1 Running 0 2m
                      - generic [ref=e1112]:
                        - button "Toggle word wrap" [ref=e1113] [cursor=pointer]:
                          - img [ref=e1114]
                        - button "Copy code to clipboard" [ref=e1116] [cursor=pointer]:
                          - generic [ref=e1117]:
                            - img [ref=e1118]
                            - img [ref=e1120]
                  - listitem [ref=e1122]:
                    - paragraph [ref=e1123]:
                      - text: If you continue to encounter issues, contact our support team by emailing
                      - link "support@spectrocloud.com" [ref=e1124] [cursor=pointer]:
                        - /url: mailto:support@spectrocloud.com
                      - text: so that we can provide you with further guidance.
                - heading "Scenario - systemd-resolved.service Enters Failed StateDirect link to Scenario - systemd-resolved.service Enters Failed State" [level=2] [ref=e1125]:
                  - text: Scenario - systemd-resolved.service Enters Failed State
                  - link "Direct link to Scenario - systemd-resolved.service Enters Failed State" [ref=e1126] [cursor=pointer]:
                    - /url: "#scenario---systemd-resolvedservice-enters-failed-state"
                    - text: "#"
                - paragraph [ref=e1127]:
                  - text: When you create a cluster with an Edge host that operates the Red Hat Enterprise Linux (RHEL) and Ubuntu Operating Systems (OS), you may encounter an error where the
                  - code [ref=e1128]: systemd-resolved.service
                  - text: process enters the
                  - strong [ref=e1129]: failed
                  - text: state. This prevents the nameserver from being configured, which will result in cluster deployment failure.
                - heading "Debug StepsDirect link to Debug Steps" [level=3] [ref=e1130]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e1131] [cursor=pointer]:
                    - /url: "#debug-steps-10"
                    - text: "#"
                - list [ref=e1132]:
                  - listitem [ref=e1133]:
                    - paragraph [ref=e1134]: Establish an SSH connection to the Edge host.
                    - paragraph [ref=e1135]:
                      - text: Alternatively, press the keys
                      - strong [ref=e1136]: FN + CTRL + CMD + F1
                      - text: on a keyboard that is connected to the Edge host to log in to the terminal. If you are on Windows, press
                      - strong [ref=e1137]: FN + CTRL + ALT + F1
                      - text: .
                  - listitem [ref=e1138]:
                    - paragraph [ref=e1139]: Issue the following command.
                    - generic [ref=e1141]:
                      - code [ref=e1143]:
                        - generic [ref=e1144]: chmod a+rwxt /var/tmp
                        - generic [ref=e1145]: systemctl enable --now systemd-resolved.service
                      - button "Copy code to clipboard" [ref=e1147] [cursor=pointer]:
                        - generic [ref=e1148]:
                          - img [ref=e1149]
                          - img [ref=e1151]
                    - paragraph [ref=e1153]:
                      - text: This will start the
                      - code [ref=e1154]: systemd-resolved.service
                      - text: process and move the cluster creation process forward.
                - heading "Scenario - Degraded Performance on Disk DrivesDirect link to Scenario - Degraded Performance on Disk Drives" [level=2] [ref=e1155]:
                  - text: Scenario - Degraded Performance on Disk Drives
                  - link "Direct link to Scenario - Degraded Performance on Disk Drives" [ref=e1156] [cursor=pointer]:
                    - /url: "#scenario---degraded-performance-on-disk-drives"
                    - text: "#"
                - paragraph [ref=e1157]:
                  - text: If you are experiencing degraded performance on disk drives, such as Solid-State Drive or Nonvolatile Memory Express drives, and you have
                  - link "Trusted Boot" [ref=e1158] [cursor=pointer]:
                    - /url: /clusters/edge/trusted-boot/
                  - text: enabled. The degraded performance may be caused by TRIM operations not being enabled on the drives. TRIM allows the OS to notify the drive which data blocks are no longer in use and can be erased internally. To enable TRIM operations, use the following steps.
                - heading "Debug StepsDirect link to Debug Steps" [level=3] [ref=e1159]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e1160] [cursor=pointer]:
                    - /url: "#debug-steps-11"
                    - text: "#"
                - list [ref=e1161]:
                  - listitem [ref=e1162]:
                    - paragraph [ref=e1163]:
                      - text: Log in to
                      - link "Palette" [ref=e1164] [cursor=pointer]:
                        - /url: https://console.spectrocloud.com
                      - text: .
                  - listitem [ref=e1165]:
                    - paragraph [ref=e1166]:
                      - text: Navigate to the left
                      - strong [ref=e1167]: Main Menu
                      - text: and click on
                      - strong [ref=e1168]: Profiles
                      - text: .
                  - listitem [ref=e1169]:
                    - paragraph [ref=e1170]:
                      - text: Select the
                      - strong [ref=e1171]: Cluster Profile
                      - text: that you want to use for your Edge cluster.
                  - listitem [ref=e1172]:
                    - paragraph [ref=e1173]: Click on the BYOOS layer to access its YAML configuration.
                  - listitem [ref=e1174]:
                    - paragraph [ref=e1175]: Add the following configuration to the YAML to enable TRIM operations on encrypted partitions.
                    - generic [ref=e1177]:
                      - code [ref=e1179]:
                        - generic [ref=e1180]: "stages:"
                        - generic [ref=e1181]: "boot.after:"
                        - generic [ref=e1182]: "- name: Ensure encrypted partitions can be trimmed"
                        - generic [ref=e1183]: "commands:"
                        - generic [ref=e1184]: "- |"
                        - generic [ref=e1185]: DEVICES=$(lsblk -p -n -l -o NAME)
                        - generic [ref=e1186]: if cat /proc/cmdline | grep rd.immucore.uki; then TRUSTED_BOOT="true"; fi
                        - generic [ref=e1187]: for part in $DEVICES
                        - generic [ref=e1188]: do
                        - generic [ref=e1189]: if cryptsetup isLuks $part; then
                        - generic [ref=e1190]: echo "Detected encrypted partition $part, ensuring TRIM is enabled..."
                        - generic [ref=e1191]: "if ! cryptsetup status ${part#/dev/} | grep discards; then"
                        - generic [ref=e1192]: echo "TRIM is not enabled on $part, enabling TRIM..."
                        - generic [ref=e1193]: if [ "$TRUSTED_BOOT" = "true" ]; then
                        - generic [ref=e1194]: "cryptsetup refresh --allow-discards --persistent ${part#/dev/}"
                        - generic [ref=e1195]: else
                        - generic [ref=e1196]: "if cryptsetup status ${part#/dev/} | grep LUKS2; then OPTIONS=\"--persistent\"; fi"
                        - generic [ref=e1197]: "passphrase=$(echo '{ \"data\": \"{ \\\"label\\\": \\\"LABEL\\\" }\"}' | /system/discovery/kcrypt-discovery-challenger \"discovery.password\" | jq -r '.data')"
                        - generic [ref=e1198]: "echo $passphrase | cryptsetup refresh --allow-discards $OPTIONS ${part#/dev/}"
                        - generic [ref=e1199]: fi
                        - generic [ref=e1200]: if [ "$?" = "0" ]; then
                        - generic [ref=e1201]: echo "TRIM is now enabled on $part"
                        - generic [ref=e1202]: else
                        - generic [ref=e1203]: echo "TRIM coud not be enabled on $part!"
                        - generic [ref=e1204]: fi
                        - generic [ref=e1205]: else
                        - generic [ref=e1206]: echo "TRIM is already enabled on $part, nothing to do."
                        - generic [ref=e1207]: fi
                        - generic [ref=e1208]: fi
                        - generic [ref=e1209]: done
                      - generic [ref=e1210]:
                        - button "Toggle word wrap" [ref=e1211] [cursor=pointer]:
                          - img [ref=e1212]
                        - button "Copy code to clipboard" [ref=e1214] [cursor=pointer]:
                          - generic [ref=e1215]:
                            - img [ref=e1216]
                            - img [ref=e1218]
                  - listitem [ref=e1220]:
                    - paragraph [ref=e1221]:
                      - text: Click on
                      - strong [ref=e1222]: Confirm Updates
                      - text: to save the changes.
                  - listitem [ref=e1223]:
                    - paragraph [ref=e1224]:
                      - text: Use the updated profile to create a
                      - link "new Edge cluster" [ref=e1225] [cursor=pointer]:
                        - /url: /clusters/edge/site-deployment/cluster-deployment/
                      - text: or update an existing Edge cluster.
                - heading "Scenario - Clusters with Cilium and RKE2 Experiences Kubernetes Upgrade FailureDirect link to Scenario - Clusters with Cilium and RKE2 Experiences Kubernetes Upgrade Failure" [level=2] [ref=e1226]:
                  - text: Scenario - Clusters with Cilium and RKE2 Experiences Kubernetes Upgrade Failure
                  - link "Direct link to Scenario - Clusters with Cilium and RKE2 Experiences Kubernetes Upgrade Failure" [ref=e1227] [cursor=pointer]:
                    - /url: "#scenario---clusters-with-cilium-and-rke2-experiences-kubernetes-upgrade-failure"
                    - text: "#"
                - paragraph [ref=e1228]:
                  - text: When you upgrade your cluster from RKE2 1.29 to 1.30 and your cluster uses the Cilium Container Network Interface (CNI), the upgrade could fail with error messages similar to the following. This is due to an
                  - link "upstream issue" [ref=e1229] [cursor=pointer]:
                    - /url: https://github.com/rancher/rancher/issues/46726
                  - text: . You can fix this issue by adding a few annotations to the Cilium DaemonSet.
                - heading "Debug StepsDirect link to Debug Steps" [level=3] [ref=e1230]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e1231] [cursor=pointer]:
                    - /url: "#debug-steps-12"
                    - text: "#"
                - list [ref=e1232]:
                  - listitem [ref=e1233]:
                    - paragraph [ref=e1234]:
                      - text: Connect to your cluster using kubectl. For more information, refer to
                      - link "Access Cluster with kubectl" [ref=e1235] [cursor=pointer]:
                        - /url: /clusters/cluster-management/palette-webctl/
                      - text: .
                  - listitem [ref=e1236]:
                    - paragraph [ref=e1237]: Issue the following command from the terminal edit the Cilium DaemonSet.
                    - generic [ref=e1239]:
                      - code [ref=e1241]:
                        - generic [ref=e1242]: kubectl edit ds cilium --namespace kube-system
                      - button "Copy code to clipboard" [ref=e1244] [cursor=pointer]:
                        - generic [ref=e1245]:
                          - img [ref=e1246]
                          - img [ref=e1248]
                  - listitem [ref=e1250]:
                    - paragraph [ref=e1251]:
                      - text: Under
                      - code [ref=e1252]: metadata.annotations
                      - text: ", add the following annotations."
                    - generic [ref=e1254]:
                      - code [ref=e1256]:
                        - generic [ref=e1257]: "metadata:"
                        - generic [ref=e1258]: "annotations:"
                        - generic [ref=e1259]: "deprecated.daemonset.template.generation: \"1\""
                        - generic [ref=e1260]: "meta.helm.sh/release-name: cilium-cilium"
                        - generic [ref=e1261]: "meta.helm.sh/release-namespace: kube-system"
                        - generic [ref=e1262]: "container.apparmor.security.beta.kubernetes.io/cilium-agent: \"unconfined\""
                        - generic [ref=e1263]: "container.apparmor.security.beta.kubernetes.io/clean-cilium-state: \"unconfined\""
                        - generic [ref=e1264]: "container.apparmor.security.beta.kubernetes.io/mount-cgroup: \"unconfined\""
                        - generic [ref=e1265]: "container.apparmor.security.beta.kubernetes.io/apply-sysctl-overwrites: \"unconfined\""
                      - generic [ref=e1266]:
                        - button "Toggle word wrap" [ref=e1267] [cursor=pointer]:
                          - img [ref=e1268]
                        - button "Copy code to clipboard" [ref=e1270] [cursor=pointer]:
                          - generic [ref=e1271]:
                            - img [ref=e1272]
                            - img [ref=e1274]
                - heading "Download Node Logs from Edge ClustersDirect link to Download Node Logs from Edge Clusters" [level=2] [ref=e1276]:
                  - text: Download Node Logs from Edge Clusters
                  - link "Direct link to Download Node Logs from Edge Clusters" [ref=e1277] [cursor=pointer]:
                    - /url: "#download-node-logs-from-edge-clusters"
                    - text: "#"
                - paragraph [ref=e1278]:
                  - text: If you experience issues with your Edge cluster control plane or workloads, you can download the logs of your cluster nodes to help investigate the root cause as long as your cluster is in
                  - strong [ref=e1279]: Healthy
                  - text: status.
                - paragraph [ref=e1280]: "The downloaded log archive includes the following systemd service log files as well as other log files related to the Palette agent:"
                - list [ref=e1281]:
                  - listitem [ref=e1282]:
                    - strong [ref=e1283]: stylus-agent.service
                  - listitem [ref=e1284]:
                    - strong [ref=e1285]: stylus-operator.service
                  - listitem [ref=e1286]:
                    - strong [ref=e1287]: spectro-stylus-agent.service
                  - listitem [ref=e1288]:
                    - strong [ref=e1289]: spectro-stylus-operator.service
                  - listitem [ref=e1290]:
                    - strong [ref=e1291]: k3s.service
                  - listitem [ref=e1292]:
                    - strong [ref=e1293]: k3s-agent.service
                  - listitem [ref=e1294]:
                    - strong [ref=e1295]: rke2.service
                  - listitem [ref=e1296]:
                    - strong [ref=e1297]: rke2-agent.service
                  - listitem [ref=e1298]:
                    - strong [ref=e1299]: /var/log/stylus-upgrade.log
                  - listitem [ref=e1300]:
                    - strong [ref=e1301]: /var/log/stylus-upgrade-script.log
                  - listitem [ref=e1302]:
                    - strong [ref=e1303]: /var/log/stylus-init-upgrade.log
                  - listitem [ref=e1304]:
                    - strong [ref=e1305]: /var/log/kube-init.log
                  - listitem [ref=e1306]:
                    - strong [ref=e1307]: /var/log/kube-join.log
                  - listitem [ref=e1308]:
                    - strong [ref=e1309]: /var/log/kube-upgrade.log
                  - listitem [ref=e1310]:
                    - strong [ref=e1311]: /var/log/kube-post-init.log
                  - listitem [ref=e1312]:
                    - strong [ref=e1313]: /proc/cmdline
                - heading "Debug StepsDirect link to Debug Steps" [level=3] [ref=e1314]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e1315] [cursor=pointer]:
                    - /url: "#debug-steps-13"
                    - text: "#"
                - list [ref=e1316]:
                  - listitem [ref=e1317]:
                    - paragraph [ref=e1318]:
                      - text: Log in to
                      - link "Palette" [ref=e1319] [cursor=pointer]:
                        - /url: https://console.spectrocloud.com
                      - text: .
                  - listitem [ref=e1320]:
                    - paragraph [ref=e1321]:
                      - text: Navigate to the left
                      - strong [ref=e1322]: Main Menu
                      - text: and click on
                      - strong [ref=e1323]: Clusters
                      - text: .
                  - listitem [ref=e1324]:
                    - paragraph [ref=e1325]: Select the cluster whose logs you want to download.
                  - listitem [ref=e1326]:
                    - paragraph [ref=e1327]:
                      - text: In the upper-right corner of the cluster page, click
                      - strong [ref=e1328]: Settings
                      - text: .
                  - listitem [ref=e1329]:
                    - paragraph [ref=e1330]:
                      - text: In the
                      - strong [ref=e1331]: drop-down Menu
                      - text: that appears, click
                      - strong [ref=e1332]: Download Logs
                      - text: .
                  - listitem [ref=e1333]:
                    - paragraph [ref=e1334]:
                      - text: Check the
                      - strong [ref=e1335]: Node Logs
                      - text: box and click
                      - strong [ref=e1336]: Download
                      - text: . You may also download logs from other components at the same time.
                - heading "Scenario - Kubelet Process Cannot Access kubeadm-flagsDirect link to Scenario - Kubelet Process Cannot Access kubeadm-flags" [level=2] [ref=e1337]:
                  - text: Scenario - Kubelet Process Cannot Access kubeadm-flags
                  - link "Direct link to Scenario - Kubelet Process Cannot Access kubeadm-flags" [ref=e1338] [cursor=pointer]:
                    - /url: "#scenario---kubelet-process-cannot-access-kubeadm-flags"
                    - text: "#"
                - paragraph [ref=e1339]:
                  - text: If using the FIPS version of
                  - link "Agent Mode" [ref=e1340] [cursor=pointer]:
                    - /url: /deployment-modes/agent-mode/install-agent-host/
                  - text: on a Rocky Linux edge host, SELinux may incorrectly label the
                  - strong [ref=e1341]: kubeadm-flags.env
                  - text: file during cluster deployment or when certain configurations are adjusted, preventing the Kubelet from accessing it and properly managing the cluster. To resolve this issue, reset the SELinux context of the Kubelet environment variable to its default state based on SELinux policy rules.
                - heading "Debug StepsDirect link to Debug Steps" [level=3] [ref=e1342]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e1343] [cursor=pointer]:
                    - /url: "#debug-steps-14"
                    - text: "#"
                - list [ref=e1344]:
                  - listitem [ref=e1345]:
                    - paragraph [ref=e1346]: After deploying the cluster, monitor the Kubelet status.
                    - generic [ref=e1348]:
                      - code [ref=e1350]:
                        - generic [ref=e1351]: systemctl status kubelet
                      - button "Copy code to clipboard" [ref=e1353] [cursor=pointer]:
                        - generic [ref=e1354]:
                          - img [ref=e1355]
                          - img [ref=e1357]
                  - listitem [ref=e1359]:
                    - paragraph [ref=e1360]:
                      - text: Check the logs for messages related to SELinux denials and
                      - strong [ref=e1361]: kubeadm-flags.env
                      - text: .
                    - generic [ref=e1363]:
                      - code [ref=e1365]:
                        - generic [ref=e1366]: ausearch -message avc --start recent | grep kubeadm-flags.env
                      - button "Copy code to clipboard" [ref=e1368] [cursor=pointer]:
                        - generic [ref=e1369]:
                          - img [ref=e1370]
                          - img [ref=e1372]
                    - paragraph [ref=e1374]: The following output indicates that SELinux security policies are denying read operations attempted by the Kubelet.
                    - generic [ref=e1376]:
                      - code [ref=e1378]:
                        - generic [ref=e1379]: time->Wed Jan 17 14:32:01 2025
                        - generic [ref=e1380]: "type=AVC msg=audit(1673968321.452:456): avc: denied { read } for pid=1234 comm=\"kubelet\" name=\"kubeadm-flags.env\" dev=\"sda1\" ino=56789 scontext=system_u:system_r:kubelet_t:s0 tcontext=unconfined_u:object_r:default_t:s0 tclass=file permissive=0"
                      - button "Toggle word wrap" [ref=e1382] [cursor=pointer]:
                        - img [ref=e1383]
                  - listitem [ref=e1385]:
                    - paragraph [ref=e1386]: Reset the SELinux context of the Kubelet environment variable to its default state.
                    - generic [ref=e1388]:
                      - code [ref=e1390]:
                        - generic [ref=e1391]: restorecon -v /var/lib/kubelet/kubeadm-flags.env
                      - button "Copy code to clipboard" [ref=e1393] [cursor=pointer]:
                        - generic [ref=e1394]:
                          - img [ref=e1395]
                          - img [ref=e1397]
                  - listitem [ref=e1399]:
                    - paragraph [ref=e1400]: Restart the Kubelet to apply your changes.
                    - generic [ref=e1402]:
                      - code [ref=e1404]:
                        - generic [ref=e1405]: systemctl restart kubelet
                      - button "Copy code to clipboard" [ref=e1407] [cursor=pointer]:
                        - generic [ref=e1408]:
                          - img [ref=e1409]
                          - img [ref=e1411]
                - heading "Scenario - Agent Mode Deployments CNI Folder Permission IssuesDirect link to Scenario - Agent Mode Deployments CNI Folder Permission Issues" [level=2] [ref=e1413]:
                  - text: Scenario - Agent Mode Deployments CNI Folder Permission Issues
                  - link "Direct link to Scenario - Agent Mode Deployments CNI Folder Permission Issues" [ref=e1414] [cursor=pointer]:
                    - /url: "#scenario---agent-mode-deployments-cni-folder-permission-issues"
                    - text: "#"
                - paragraph [ref=e1415]:
                  - text: Agent mode clusters that use PKX-E as the Kubernetes layer have the contents of the
                  - code [ref=e1416]: /opt/cni/bin
                  - text: folder set incorrectly. This prevents the CNI that do not run as root, such as Cilium, from operating.
                - heading "Debug StepsDirect link to Debug Steps" [level=3] [ref=e1417]:
                  - text: Debug Steps
                  - link "Direct link to Debug Steps" [ref=e1418] [cursor=pointer]:
                    - /url: "#debug-steps-15"
                    - text: "#"
                - list [ref=e1419]:
                  - listitem [ref=e1420]:
                    - paragraph [ref=e1421]:
                      - text: Log in to
                      - link "Palette" [ref=e1422] [cursor=pointer]:
                        - /url: https://console.spectrocloud.com
                      - text: .
                  - listitem [ref=e1423]:
                    - paragraph [ref=e1424]:
                      - text: Navigate to the left
                      - strong [ref=e1425]: Main Menu
                      - text: and click on
                      - strong [ref=e1426]: Profiles
                      - text: .
                  - listitem [ref=e1427]:
                    - paragraph [ref=e1428]: Click on the profile used by your agent mode cluster.
                  - listitem [ref=e1429]:
                    - paragraph [ref=e1430]: In the OS pack of your agent mode cluster profile, configure the following cloud-init stages. The same commands are executed in multiple stages to ensure that they take effect.
                    - generic [ref=e1432]:
                      - code [ref=e1434]:
                        - generic [ref=e1435]: "stages:"
                        - generic [ref=e1436]: "boot.before:"
                        - generic [ref=e1437]: "- name: \"Ensure CNI directory permissions on restart\""
                        - generic [ref=e1438]: "if: '[ -d /opt/cni/bin ]'"
                        - generic [ref=e1439]: "commands:"
                        - generic [ref=e1440]: "- chown root:root -R /opt/cni/bin"
                        - generic [ref=e1441]: "boot:"
                        - generic [ref=e1442]: "- name: \"Ensure CNI directory permissions on restart\""
                        - generic [ref=e1443]: "if: '[ -d /opt/cni/bin ]'"
                        - generic [ref=e1444]: "commands:"
                        - generic [ref=e1445]: "- chown root:root -R /opt/cni/bin"
                        - generic [ref=e1446]: "boot.after:"
                        - generic [ref=e1447]: "- name: \"Ensure CNI directory permissions on restart\""
                        - generic [ref=e1448]: "if: '[ -d /opt/cni/bin ]'"
                        - generic [ref=e1449]: "commands:"
                        - generic [ref=e1450]: "- chown root:root -R /opt/cni/bin"
                      - button "Copy code to clipboard" [ref=e1452] [cursor=pointer]:
                        - generic [ref=e1453]:
                          - img [ref=e1454]
                          - img [ref=e1456]
                  - listitem [ref=e1458]:
                    - paragraph [ref=e1459]:
                      - text: Save the changes as a new version of the cluster profile and update your agent mode cluster to use the updated profile. For more information, refer to
                      - link "Update a Cluster" [ref=e1460] [cursor=pointer]:
                        - /url: /clusters/cluster-management/cluster-updates/
                      - text: .
              - generic [ref=e1461]:
                - generic [ref=e1463]:
                  - text: "Tags:"
                  - list [ref=e1464]:
                    - listitem [ref=e1465]:
                      - link "edge" [ref=e1466] [cursor=pointer]:
                        - /url: /tags/edge/
                    - listitem [ref=e1467]:
                      - link "troubleshooting" [ref=e1468] [cursor=pointer]:
                        - /url: /tags/troubleshooting/
                - link "Edit this page" [ref=e1471] [cursor=pointer]:
                  - /url: https://github.com/spectrocloud/librarium/blob/master/docs/docs-content/troubleshooting/edge/edge.md
                  - img [ref=e1472]
                  - text: Edit this page
            - navigation "Docs pages" [ref=e1476]:
              - link "Previous « Palette Dev Engine" [ref=e1477] [cursor=pointer]:
                - /url: /troubleshooting/palette-dev-engine/
                - generic [ref=e1478]: Previous
                - generic [ref=e1479]: « Palette Dev Engine
              - link "Next Collect Support Bundles »" [ref=e1480] [cursor=pointer]:
                - /url: /troubleshooting/edge/collect-support-bundles/
                - generic [ref=e1481]: Next
                - generic [ref=e1482]: Collect Support Bundles »
          - list [ref=e1485]:
            - listitem [ref=e1486]:
              - 'link "Scenario - x509: certificate signed by unknown authority Errors during Agent Mode Cluster Creation" [ref=e1487] [cursor=pointer]':
                - /url: "#scenario---x509-certificate-signed-by-unknown-authority-errors-during-agent-mode-cluster-creation"
                - text: Scenario -
                - code [ref=e1488]: "x509: certificate signed by unknown authority"
                - text: Errors during Agent Mode Cluster Creation
              - list [ref=e1489]:
                - listitem [ref=e1490]:
                  - link "Debug Steps" [ref=e1491] [cursor=pointer]:
                    - /url: "#debug-steps"
            - listitem [ref=e1492]:
              - 'link "Scenario - content-length: 0 Errors during Content Synchronization" [ref=e1493] [cursor=pointer]':
                - /url: "#scenario---content-length-0-errors-during-content-synchronization"
                - text: Scenario -
                - code [ref=e1494]: "content-length: 0"
                - text: Errors during Content Synchronization
              - list [ref=e1495]:
                - listitem [ref=e1496]:
                  - link "Debug Steps" [ref=e1497] [cursor=pointer]:
                    - /url: "#debug-steps-1"
            - listitem [ref=e1498]:
              - link "Scenario – PXK-E Clusters on RHEL and Rocky 8 Fail Kubernetes Initialization" [ref=e1499] [cursor=pointer]:
                - /url: "#scenario--pxk-e-clusters-on-rhel-and-rocky-8-fail-kubernetes-initialization"
              - list [ref=e1500]:
                - listitem [ref=e1501]:
                  - link "Debug Steps - Update the Kernel Version" [ref=e1502] [cursor=pointer]:
                    - /url: "#debug-steps---update-the-kernel-version"
            - listitem [ref=e1503]:
              - link "Scenario - PXK-E Clusters in VerteX Deployments Experience Failure upon Reboot" [ref=e1504] [cursor=pointer]:
                - /url: "#scenario---pxk-e-clusters-in-vertex-deployments-experience-failure-upon-reboot"
              - list [ref=e1505]:
                - listitem [ref=e1506]:
                  - link "Debug Steps" [ref=e1507] [cursor=pointer]:
                    - /url: "#debug-steps-2"
            - listitem [ref=e1508]:
              - link "Scenario - Canonical Edge Clusters in Proxied Environments Experience Failure upon Reboot" [ref=e1509] [cursor=pointer]:
                - /url: "#scenario---canonical-edge-clusters-in-proxied-environments-experience-failure-upon-reboot"
              - list [ref=e1510]:
                - listitem [ref=e1511]:
                  - link "Debug Steps" [ref=e1512] [cursor=pointer]:
                    - /url: "#debug-steps-3"
            - listitem [ref=e1513]:
              - link "Scenario - Cilium Pod Stuck During Kubernetes Upgrade Due to nsenter Permission Issue" [ref=e1514] [cursor=pointer]:
                - /url: "#scenario---cilium-pod-stuck-during-kubernetes-upgrade-due-to-nsenter-permission-issue"
              - list [ref=e1515]:
                - listitem [ref=e1516]:
                  - link "Debug Steps" [ref=e1517] [cursor=pointer]:
                    - /url: "#debug-steps-4"
            - listitem [ref=e1518]:
              - link "Scenario - Cluster Creation Failure Due to Nodeadm not Found" [ref=e1519] [cursor=pointer]:
                - /url: "#scenario---cluster-creation-failure-due-to-nodeadm-not-found"
              - list [ref=e1520]:
                - listitem [ref=e1521]:
                  - link "Debug Steps" [ref=e1522] [cursor=pointer]:
                    - /url: "#debug-steps-5"
            - listitem [ref=e1523]:
              - link "Scenario - IP Address not Assigned to Edge Host" [ref=e1524] [cursor=pointer]:
                - /url: "#scenario---ip-address-not-assigned-to-edge-host"
              - list [ref=e1525]:
                - listitem [ref=e1526]:
                  - link "Debug Steps" [ref=e1527] [cursor=pointer]:
                    - /url: "#debug-steps-6"
            - listitem [ref=e1528]:
              - link "Scenario - Override or Reconfigure Read-only File System Stage" [ref=e1529] [cursor=pointer]:
                - /url: "#scenario---override-or-reconfigure-read-only-file-system-stage"
              - list [ref=e1530]:
                - listitem [ref=e1531]:
                  - link "Debug Steps" [ref=e1532] [cursor=pointer]:
                    - /url: "#debug-steps-7"
            - listitem [ref=e1533]:
              - link "Scenario - Pod State Unknown After Reboot with Overlay Network Enabled" [ref=e1534] [cursor=pointer]:
                - /url: "#scenario---pod-state-unknown-after-reboot-with-overlay-network-enabled"
              - list [ref=e1535]:
                - listitem [ref=e1536]:
                  - link "Debug Steps" [ref=e1537] [cursor=pointer]:
                    - /url: "#debug-steps-8"
            - listitem [ref=e1538]:
              - link "Scenario - Palette Webhook Pods Fail to Start" [ref=e1539] [cursor=pointer]:
                - /url: "#scenario---palette-webhook-pods-fail-to-start"
              - list [ref=e1540]:
                - listitem [ref=e1541]:
                  - link "Debug Steps" [ref=e1542] [cursor=pointer]:
                    - /url: "#debug-steps-9"
            - listitem [ref=e1543]:
              - link "Scenario - systemd-resolved.service Enters Failed State" [ref=e1544] [cursor=pointer]:
                - /url: "#scenario---systemd-resolvedservice-enters-failed-state"
              - list [ref=e1545]:
                - listitem [ref=e1546]:
                  - link "Debug Steps" [ref=e1547] [cursor=pointer]:
                    - /url: "#debug-steps-10"
            - listitem [ref=e1548]:
              - link "Scenario - Degraded Performance on Disk Drives" [ref=e1549] [cursor=pointer]:
                - /url: "#scenario---degraded-performance-on-disk-drives"
              - list [ref=e1550]:
                - listitem [ref=e1551]:
                  - link "Debug Steps" [ref=e1552] [cursor=pointer]:
                    - /url: "#debug-steps-11"
            - listitem [ref=e1553]:
              - link "Scenario - Clusters with Cilium and RKE2 Experiences Kubernetes Upgrade Failure" [ref=e1554] [cursor=pointer]:
                - /url: "#scenario---clusters-with-cilium-and-rke2-experiences-kubernetes-upgrade-failure"
              - list [ref=e1555]:
                - listitem [ref=e1556]:
                  - link "Debug Steps" [ref=e1557] [cursor=pointer]:
                    - /url: "#debug-steps-12"
            - listitem [ref=e1558]:
              - link "Download Node Logs from Edge Clusters" [ref=e1559] [cursor=pointer]:
                - /url: "#download-node-logs-from-edge-clusters"
              - list [ref=e1560]:
                - listitem [ref=e1561]:
                  - link "Debug Steps" [ref=e1562] [cursor=pointer]:
                    - /url: "#debug-steps-13"
            - listitem [ref=e1563]:
              - link "Scenario - Kubelet Process Cannot Access kubeadm-flags" [ref=e1564] [cursor=pointer]:
                - /url: "#scenario---kubelet-process-cannot-access-kubeadm-flags"
              - list [ref=e1565]:
                - listitem [ref=e1566]:
                  - link "Debug Steps" [ref=e1567] [cursor=pointer]:
                    - /url: "#debug-steps-14"
            - listitem [ref=e1568]:
              - link "Scenario - Agent Mode Deployments CNI Folder Permission Issues" [ref=e1569] [cursor=pointer]:
                - /url: "#scenario---agent-mode-deployments-cni-folder-permission-issues"
              - list [ref=e1570]:
                - listitem [ref=e1571]:
                  - link "Debug Steps" [ref=e1572] [cursor=pointer]:
                    - /url: "#debug-steps-15"
  - button "Project Logo Ask AI" [ref=e1573] [cursor=pointer]:
    - generic [ref=e1576]:
      - img "Project Logo" [ref=e1577]
      - paragraph [ref=e1578]: Ask AI
```