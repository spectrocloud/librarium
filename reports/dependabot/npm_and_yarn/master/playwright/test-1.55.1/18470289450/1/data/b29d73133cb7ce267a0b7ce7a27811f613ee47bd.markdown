# Page snapshot

```yaml
- generic [active] [ref=e1]:
  - generic [ref=e2]:
    - region "Skip to main content":
      - link "Skip to main content" [ref=e3] [cursor=pointer]:
        - /url: "#__docusaurus_skipToContent_fallback"
    - navigation "Main" [ref=e4]:
      - generic [ref=e5]:
        - generic [ref=e6]:
          - link "Spectro cloud logo" [ref=e7] [cursor=pointer]:
            - /url: /
            - img "Spectro cloud logo" [ref=e9]
          - link "Docs" [ref=e10] [cursor=pointer]:
            - /url: /release-notes/
          - link "Tutorials" [ref=e11] [cursor=pointer]:
            - /url: /tutorials/
          - link "Downloads" [ref=e12] [cursor=pointer]:
            - /url: /downloads/
          - link "API" [ref=e13] [cursor=pointer]:
            - /url: /api/introduction/
          - button "latest" [ref=e15] [cursor=pointer]
        - generic [ref=e16]:
          - link "GitHub repository" [ref=e17] [cursor=pointer]:
            - /url: https://github.com/spectrocloud/librarium
          - button "Switch between dark and light mode (currently system mode)" [ref=e19] [cursor=pointer]:
            - img [ref=e20]
          - button "Search (Ctrl+K)" [ref=e23] [cursor=pointer]:
            - generic [ref=e24]:
              - img [ref=e25]
              - generic [ref=e27]: Search
    - generic [ref=e31]:
      - complementary [ref=e32]:
        - generic [ref=e34]:
          - link "Spectro cloud logo" [ref=e35] [cursor=pointer]:
            - /url: /
            - img "Spectro cloud logo" [ref=e36]
          - navigation "Docs sidebar" [ref=e37]:
            - list [ref=e38]:
              - listitem [ref=e39]:
                - generic [ref=e40]:
                  - link "Release Notes" [ref=e41] [cursor=pointer]:
                    - /url: /release-notes/
                    - img [ref=e43]
                    - text: Release Notes
                  - button "Toggle the collapsible sidebar category 'Release Notes'" [ref=e45] [cursor=pointer]
              - listitem [ref=e46]:
                - generic [ref=e47]:
                  - link "Security Bulletins" [ref=e48] [cursor=pointer]:
                    - /url: /security-bulletins/
                    - img [ref=e50]
                    - text: Security Bulletins
                  - button "Toggle the collapsible sidebar category 'Security Bulletins'" [ref=e52] [cursor=pointer]
              - listitem [ref=e53]:
                - generic [ref=e54]:
                  - link "What is Palette?" [ref=e55] [cursor=pointer]:
                    - /url: /
                    - img [ref=e57]
                    - text: What is Palette?
                  - button "Toggle the collapsible sidebar category 'What is Palette?'" [ref=e59] [cursor=pointer]
              - listitem [ref=e60]:
                - link "Getting Started" [ref=e61] [cursor=pointer]:
                  - /url: /getting-started/
                  - img [ref=e63]
                  - text: Getting Started
              - listitem [ref=e65]:
                - generic [ref=e66]:
                  - link "Architecture" [ref=e67] [cursor=pointer]:
                    - /url: /architecture/
                    - img [ref=e69]
                    - text: Architecture
                  - button "Toggle the collapsible sidebar category 'Architecture'" [ref=e71] [cursor=pointer]
              - listitem [ref=e72]:
                - generic [ref=e73]:
                  - link "Profiles" [ref=e74] [cursor=pointer]:
                    - /url: /profiles/
                    - img [ref=e76]
                    - text: Profiles
                  - button "Toggle the collapsible sidebar category 'Profiles'" [ref=e80] [cursor=pointer]
              - listitem [ref=e81]:
                - generic [ref=e82]:
                  - link "Deployment Modes" [ref=e83] [cursor=pointer]:
                    - /url: /deployment-modes/
                    - img [ref=e85]
                    - text: Deployment Modes
                  - button "Toggle the collapsible sidebar category 'Deployment Modes'" [ref=e87] [cursor=pointer]
              - listitem [ref=e88]:
                - generic [ref=e89]:
                  - link "Clusters" [expanded] [ref=e90] [cursor=pointer]:
                    - /url: /clusters/
                    - img [ref=e92]
                    - text: Clusters
                  - button "Toggle the collapsible sidebar category 'Clusters'" [ref=e98] [cursor=pointer]
                - list [ref=e99]:
                  - listitem [ref=e100]:
                    - generic [ref=e101]:
                      - link "Public Cloud Clusters" [ref=e102] [cursor=pointer]:
                        - /url: /clusters/public-cloud/
                        - img [ref=e104]
                        - text: Public Cloud Clusters
                      - button "Toggle the collapsible sidebar category 'Public Cloud Clusters'" [ref=e106] [cursor=pointer]
                  - listitem [ref=e107]:
                    - generic [ref=e108]:
                      - link "Data Center Clusters" [ref=e109] [cursor=pointer]:
                        - /url: /clusters/data-center/
                        - img [ref=e111]
                        - text: Data Center Clusters
                      - button "Toggle the collapsible sidebar category 'Data Center Clusters'" [ref=e113] [cursor=pointer]
                  - listitem [ref=e114]:
                    - generic [ref=e115]:
                      - link "Edge" [expanded] [ref=e116] [cursor=pointer]:
                        - /url: /clusters/edge/
                        - img [ref=e118]
                        - text: Edge
                      - button "Toggle the collapsible sidebar category 'Edge'" [ref=e120] [cursor=pointer]
                    - list [ref=e121]:
                      - listitem [ref=e122]:
                        - generic [ref=e123]:
                          - link "Architecture" [ref=e124] [cursor=pointer]:
                            - /url: /clusters/edge/architecture/
                          - button "Toggle the collapsible sidebar category 'Architecture'" [ref=e125] [cursor=pointer]
                      - listitem [ref=e126]:
                        - link "Hardware Requirements" [ref=e127] [cursor=pointer]:
                          - /url: /clusters/edge/hardware-requirements/
                      - listitem [ref=e128]:
                        - link "Deployment Lifecycle" [ref=e129] [cursor=pointer]:
                          - /url: /clusters/edge/edge-native-lifecycle/
                      - listitem [ref=e130]:
                        - generic [ref=e131]:
                          - link "Trusted Boot" [ref=e132] [cursor=pointer]:
                            - /url: /clusters/edge/trusted-boot/
                          - button "Toggle the collapsible sidebar category 'Trusted Boot'" [ref=e133] [cursor=pointer]
                      - listitem [ref=e134]:
                        - generic [ref=e135]:
                          - link "Install Configuration" [ref=e136] [cursor=pointer]:
                            - /url: /clusters/edge/edge-configuration/
                          - button "Toggle the collapsible sidebar category 'Install Configuration'" [ref=e137] [cursor=pointer]
                      - listitem [ref=e138]:
                        - generic [ref=e139]:
                          - link "EdgeForge Workflow" [ref=e140] [cursor=pointer]:
                            - /url: /clusters/edge/edgeforge-workflow/
                          - button "Toggle the collapsible sidebar category 'EdgeForge Workflow'" [ref=e141] [cursor=pointer]
                      - listitem [ref=e142]:
                        - generic [ref=e143]:
                          - link "Local UI" [expanded] [ref=e144] [cursor=pointer]:
                            - /url: /clusters/edge/local-ui/
                          - button "Toggle the collapsible sidebar category 'Local UI'" [ref=e145] [cursor=pointer]
                        - list [ref=e146]:
                          - listitem [ref=e147]:
                            - generic [ref=e148]:
                              - link "Cluster Operations" [expanded] [ref=e149] [cursor=pointer]:
                                - /url: /clusters/edge/local-ui/cluster-management/
                              - button "Toggle the collapsible sidebar category 'Cluster Operations'" [ref=e150] [cursor=pointer]
                            - list [ref=e151]:
                              - listitem [ref=e152]:
                                - link "Upload Content Bundle" [ref=e153] [cursor=pointer]:
                                  - /url: /clusters/edge/local-ui/cluster-management/upload-content-bundle/
                              - listitem [ref=e154]:
                                - link "Export Cluster Definition" [ref=e155] [cursor=pointer]:
                                  - /url: /clusters/edge/local-ui/cluster-management/export-cluster-definition/
                              - listitem [ref=e156]:
                                - link "Create Local Cluster" [ref=e157] [cursor=pointer]:
                                  - /url: /clusters/edge/local-ui/cluster-management/create-cluster/
                              - listitem [ref=e158]:
                                - link "Link Hosts" [ref=e159] [cursor=pointer]:
                                  - /url: /clusters/edge/local-ui/cluster-management/link-hosts/
                              - listitem [ref=e160]:
                                - link "Scale a Cluster" [ref=e161] [cursor=pointer]:
                                  - /url: /clusters/edge/local-ui/cluster-management/scale-cluster/
                              - listitem [ref=e162]:
                                - link "Update Local Cluster" [ref=e163] [cursor=pointer]:
                                  - /url: /clusters/edge/local-ui/cluster-management/update-cluster/
                              - listitem [ref=e164]:
                                - link "Pair Local Cluster with Palette" [ref=e165] [cursor=pointer]:
                                  - /url: /clusters/edge/local-ui/cluster-management/local-to-central/
                              - listitem [ref=e166]:
                                - link "Share Local UI Authentication" [ref=e167] [cursor=pointer]:
                                  - /url: /clusters/edge/local-ui/cluster-management/share-auth/
                              - listitem [ref=e168]:
                                - link "Delete a Cluster" [ref=e169] [cursor=pointer]:
                                  - /url: /clusters/edge/local-ui/cluster-management/delete-cluster/
                          - listitem [ref=e170]:
                            - generic [ref=e171]:
                              - link "Host Management" [ref=e172] [cursor=pointer]:
                                - /url: /clusters/edge/local-ui/host-management/
                              - button "Toggle the collapsible sidebar category 'Host Management'" [ref=e173] [cursor=pointer]
                      - listitem [ref=e174]:
                        - generic [ref=e175]:
                          - link "Deployment" [ref=e176] [cursor=pointer]:
                            - /url: /clusters/edge/site-deployment/
                          - button "Toggle the collapsible sidebar category 'Deployment'" [ref=e177] [cursor=pointer]
                      - listitem [ref=e178]:
                        - generic [ref=e179]:
                          - link "Cluster Management" [ref=e180] [cursor=pointer]:
                            - /url: /clusters/edge/cluster-management/
                          - button "Toggle the collapsible sidebar category 'Cluster Management'" [ref=e181] [cursor=pointer]
                      - listitem [ref=e182]:
                        - generic [ref=e183]:
                          - link "Networking" [ref=e184] [cursor=pointer]:
                            - /url: /clusters/edge/networking/
                          - button "Toggle the collapsible sidebar category 'Networking'" [ref=e185] [cursor=pointer]
                      - listitem [ref=e186]:
                        - generic [ref=e187]:
                          - link "Third Party Integrations" [ref=e188] [cursor=pointer]:
                            - /url: /clusters/edge/third-party-integrations/
                          - button "Toggle the collapsible sidebar category 'Third Party Integrations'" [ref=e189] [cursor=pointer]
                  - listitem [ref=e190]:
                    - generic [ref=e191]:
                      - link "Palette Virtual Clusters" [ref=e192] [cursor=pointer]:
                        - /url: /clusters/palette-virtual-clusters/
                        - img [ref=e194]
                        - text: Palette Virtual Clusters
                      - button "Toggle the collapsible sidebar category 'Palette Virtual Clusters'" [ref=e196] [cursor=pointer]
                  - listitem [ref=e197]:
                    - generic [ref=e198]:
                      - link "Imported Clusters" [ref=e199] [cursor=pointer]:
                        - /url: /clusters/imported-clusters/
                        - img [ref=e201]
                        - text: Imported Clusters
                      - button "Toggle the collapsible sidebar category 'Imported Clusters'" [ref=e203] [cursor=pointer]
                  - listitem [ref=e204]:
                    - generic [ref=e205]:
                      - link "Manage Clusters" [ref=e206] [cursor=pointer]:
                        - /url: /clusters/cluster-management/
                        - img [ref=e208]
                        - text: Manage Clusters
                      - button "Toggle the collapsible sidebar category 'Manage Clusters'" [ref=e210] [cursor=pointer]
                  - listitem [ref=e211]:
                    - generic [ref=e212]:
                      - link "Cluster Groups" [ref=e213] [cursor=pointer]:
                        - /url: /clusters/cluster-groups/
                        - img [ref=e215]
                        - text: Cluster Groups
                      - button "Toggle the collapsible sidebar category 'Cluster Groups'" [ref=e217] [cursor=pointer]
                  - listitem [ref=e218]:
                    - generic [ref=e219]:
                      - link "Private Cloud Gateway" [ref=e220] [cursor=pointer]:
                        - /url: /clusters/pcg/
                        - img [ref=e222]
                        - text: Private Cloud Gateway
                      - button "Toggle the collapsible sidebar category 'Private Cloud Gateway'" [ref=e224] [cursor=pointer]
              - listitem [ref=e225]:
                - generic [ref=e226]:
                  - link "Bring Your Own OS (BYOOS)" [ref=e227] [cursor=pointer]:
                    - /url: /byoos/
                    - img [ref=e229]
                    - text: Bring Your Own OS (BYOOS)
                  - button "Toggle the collapsible sidebar category 'Bring Your Own OS (BYOOS)'" [ref=e231] [cursor=pointer]
              - listitem [ref=e232]:
                - generic [ref=e233]:
                  - link "Palette Dev Engine" [ref=e234] [cursor=pointer]:
                    - /url: /devx/
                    - img [ref=e236]
                    - text: Palette Dev Engine
                  - button "Toggle the collapsible sidebar category 'Palette Dev Engine'" [ref=e238] [cursor=pointer]
              - listitem [ref=e239]:
                - generic [ref=e240]:
                  - link "Virtual Machine Orchestrator" [ref=e241] [cursor=pointer]:
                    - /url: /vm-management/
                    - img [ref=e243]
                    - text: Virtual Machine Orchestrator
                  - button "Toggle the collapsible sidebar category 'Virtual Machine Orchestrator'" [ref=e245] [cursor=pointer]
              - listitem [ref=e246]:
                - generic [ref=e247]:
                  - link "Workspaces" [ref=e248] [cursor=pointer]:
                    - /url: /workspace/
                    - img [ref=e250]
                    - text: Workspaces
                  - button "Toggle the collapsible sidebar category 'Workspaces'" [ref=e252] [cursor=pointer]
              - listitem [ref=e253]:
                - generic [ref=e254]:
                  - link "Packs List" [ref=e255] [cursor=pointer]:
                    - /url: /integrations/
                    - img [ref=e257]
                    - text: Packs List
                  - button "Toggle the collapsible sidebar category 'Packs List'" [ref=e259] [cursor=pointer]
              - listitem [ref=e260]:
                - generic [ref=e261]:
                  - link "User & Role Management" [ref=e262] [cursor=pointer]:
                    - /url: /user-management/
                    - img [ref=e264]
                    - text: User & Role Management
                  - button "Toggle the collapsible sidebar category 'User & Role Management'" [ref=e266] [cursor=pointer]
              - listitem [ref=e267]:
                - generic [ref=e268]:
                  - link "Registries and Packs" [ref=e269] [cursor=pointer]:
                    - /url: /registries-and-packs/
                    - img [ref=e271]
                    - text: Registries and Packs
                  - button "Toggle the collapsible sidebar category 'Registries and Packs'" [ref=e273] [cursor=pointer]
              - listitem [ref=e274]:
                - generic [ref=e275]:
                  - link "Security" [ref=e276] [cursor=pointer]:
                    - /url: /security/
                    - img [ref=e278]
                    - text: Security
                  - button "Toggle the collapsible sidebar category 'Security'" [ref=e280] [cursor=pointer]
              - listitem [ref=e281]:
                - generic [ref=e282]:
                  - link "Audit Logs" [ref=e283] [cursor=pointer]:
                    - /url: /audit-logs/
                    - img [ref=e285]
                    - text: Audit Logs
                  - button "Toggle the collapsible sidebar category 'Audit Logs'" [ref=e287] [cursor=pointer]
              - listitem [ref=e288]:
                - generic [ref=e289]:
                  - link "Self-Hosted Palette" [ref=e290] [cursor=pointer]:
                    - /url: /enterprise-version/
                    - img [ref=e292]
                    - text: Self-Hosted Palette
                  - button "Toggle the collapsible sidebar category 'Self-Hosted Palette'" [ref=e294] [cursor=pointer]
              - listitem [ref=e295]:
                - generic [ref=e296]:
                  - link "Palette VerteX" [ref=e297] [cursor=pointer]:
                    - /url: /vertex/
                    - img [ref=e299]
                    - text: Palette VerteX
                  - button "Toggle the collapsible sidebar category 'Palette VerteX'" [ref=e301] [cursor=pointer]
              - listitem [ref=e302]:
                - generic [ref=e303]:
                  - link "Tenant Administration" [ref=e304] [cursor=pointer]:
                    - /url: /tenant-settings/
                    - img [ref=e306]
                    - text: Tenant Administration
                  - button "Toggle the collapsible sidebar category 'Tenant Administration'" [ref=e308] [cursor=pointer]
              - listitem [ref=e309]:
                - generic [ref=e310]:
                  - link "Automation" [ref=e311] [cursor=pointer]:
                    - /url: /automation/
                    - img [ref=e313]
                    - text: Automation
                  - button "Toggle the collapsible sidebar category 'Automation'" [ref=e315] [cursor=pointer]
              - listitem [ref=e316]:
                - generic [ref=e317]:
                  - link "Troubleshooting" [ref=e318] [cursor=pointer]:
                    - /url: /troubleshooting/
                    - img [ref=e320]
                    - text: Troubleshooting
                  - button "Toggle the collapsible sidebar category 'Troubleshooting'" [ref=e322] [cursor=pointer]
              - listitem [ref=e323]:
                - link "Glossary" [ref=e324] [cursor=pointer]:
                  - /url: /glossary-all/
                  - img [ref=e326]
                  - text: Glossary
              - listitem [ref=e328]:
                - generic [ref=e329]:
                  - link "Compliance & Legal" [ref=e330] [cursor=pointer]:
                    - /url: /legal-licenses/
                    - img [ref=e332]
                    - text: Compliance & Legal
                  - button "Toggle the collapsible sidebar category 'Compliance & Legal'" [ref=e334] [cursor=pointer]
              - listitem [ref=e335]:
                - button "Privacy Settings" [ref=e336] [cursor=pointer]:
                  - img [ref=e337]
                  - text: Privacy Settings
      - main [ref=e339]:
        - generic [ref=e341]:
          - generic [ref=e343]:
            - article [ref=e344]:
              - navigation "Breadcrumbs" [ref=e345]:
                - list [ref=e346]:
                  - listitem [ref=e347]:
                    - link "Home page" [ref=e348] [cursor=pointer]:
                      - /url: /
                      - img [ref=e349]
                  - listitem [ref=e351]:
                    - link "Clusters" [ref=e352] [cursor=pointer]:
                      - /url: /clusters/
                  - listitem [ref=e353]:
                    - link "Edge" [ref=e354] [cursor=pointer]:
                      - /url: /clusters/edge/
                  - listitem [ref=e355]:
                    - link "Local UI" [ref=e356] [cursor=pointer]:
                      - /url: /clusters/edge/local-ui/
                  - listitem [ref=e357]:
                    - link "Cluster Operations" [ref=e358] [cursor=pointer]:
                      - /url: /clusters/edge/local-ui/cluster-management/
                  - listitem [ref=e359]:
                    - generic [ref=e360]: Share Local UI Authentication
              - generic [ref=e361]:
                - heading "Share Local UI Authentication" [level=1] [ref=e363]
                - paragraph [ref=e364]: Accessing Local UI requires authentication. Local UI will store a JSON Web Token (JWT) as a cookie in your browser once authentication is successful, and you won't need to log in again as long as the cookie exists and remains valid. If you have applications in your cluster that also require authentication, you can have your application consume the same cookie to streamline the authentication process for your users.
                - paragraph [ref=e365]: "When you develop your application, you need to be aware that your application needs access to two items when the cluster becomes operational:"
                - list [ref=e366]:
                  - listitem [ref=e367]: The JWT itself. This token is stored in your browser inside a cookie, but only if your user has previously logged in to Local UI. If your cluster has multiple nodes, then each node has its own cookie based on the IP address of the node.
                  - listitem [ref=e368]:
                    - text: The public key that is used to validate the JWT token. This token is exposed as a secret in the
                    - code [ref=e369]: spectro-system
                    - text: namespace when you provision your Kubernetes cluster. If your cluster has multiple nodes, each node will also have its own public key.
                - heading "LimitationsDirect link to Limitations" [level=2] [ref=e370]:
                  - text: Limitations
                  - link "Direct link to Limitations" [ref=e371] [cursor=pointer]:
                    - /url: "#limitations"
                    - text: "#"
                - list [ref=e372]:
                  - listitem [ref=e373]: The cookies issued by Local UI do not have an expiration date.
                - heading "PrerequisitesDirect link to Prerequisites" [level=2] [ref=e374]:
                  - text: Prerequisites
                  - link "Direct link to Prerequisites" [ref=e375] [cursor=pointer]:
                    - /url: "#prerequisites"
                    - text: "#"
                - list [ref=e376]:
                  - listitem [ref=e377]:
                    - paragraph [ref=e378]: The application whose authentication you want to integrate with Local UI must support HTTPS. Traffic to the application service must be over HTTPS.
                  - listitem [ref=e379]:
                    - paragraph [ref=e380]:
                      - text: A
                      - link "Spectro Cloud" [ref=e381] [cursor=pointer]:
                        - /url: https://console.spectrocloud.com
                      - text: account.
                  - listitem [ref=e382]:
                    - paragraph [ref=e383]:
                      - text: A tool that allows you to build image of containerized applications such as
                      - link "Docker" [ref=e384] [cursor=pointer]:
                        - /url: https://docker.io
                      - text: .
                  - listitem [ref=e385]:
                    - paragraph [ref=e386]:
                      - link "Kubectl" [ref=e387] [cursor=pointer]:
                        - /url: https://kubernetes.io/docs/reference/kubectl/
                      - text: is installed on your host machine.
                - heading "ProcedureDirect link to Procedure" [level=2] [ref=e388]:
                  - text: Procedure
                  - link "Direct link to Procedure" [ref=e389] [cursor=pointer]:
                    - /url: "#procedure"
                    - text: "#"
                - list [ref=e390]:
                  - listitem [ref=e391]:
                    - paragraph [ref=e392]:
                      - text: Determine the location where the public key file will be relative to your containerized application. The public key file will be named
                      - code [ref=e393]: server.pem
                      - text: in a Kubernetes secret once your have an active cluster.
                    - paragraph [ref=e394]:
                      - text: You need to remember this location and mount the secret volume to the corresponding location in a subsequent step. For example, if you decide location of the key file will be
                      - code [ref=e395]: /app/keys/server.pem
                      - text: ", and your application is expecting the public key at that location, you'll need to mount the secret volume to"
                      - code [ref=e396]: /apps/key/
                      - text: later.
                    - generic [ref=e397]:
                      - generic [ref=e398]:
                        - img [ref=e400]
                        - text: tip
                      - paragraph [ref=e403]: We suggest you use an environment variable instead of hard-coding a path. Using an environment variable gives you more flexibility later on when you mount the volume containing the public key.
                  - listitem [ref=e404]:
                    - paragraph [ref=e405]:
                      - text: In your containerized application, implement a mechanism that can verify the validity of the JWT using the public key. The JWT is stored as a cookie named
                      - code [ref=e406]: Authorization
                      - text: . The implementation of this mechanism will vary greatly depending on your application.
                    - paragraph [ref=e407]:
                      - text: For example, the following is an implementation of an
                      - link "Express.js" [ref=e408] [cursor=pointer]:
                        - /url: https://expressjs.com/
                      - text: middleware that can be used to verify the JWT before your server responds to an incoming HTTP request.
                    - generic [ref=e410]:
                      - code [ref=e412]:
                        - generic [ref=e413]: const express = require("express");
                        - generic [ref=e414]: "function checkAuth(req, res, next) {"
                        - generic [ref=e415]: const token = req.cookies["Authorization"];
                        - generic [ref=e416]: "if (!token) {"
                        - generic [ref=e417]: return res.redirect(getAuthURL(req)); // Redirect to the login screen if no token is detected
                        - generic [ref=e418]: "}"
                        - generic [ref=e419]: "jwt.verify(token, secretKey, (err, decoded) => {"
                        - generic [ref=e420]: "if (err) {"
                        - generic [ref=e421]: console.log("Error verifying token", err);
                        - generic [ref=e422]: return res.redirect(getAuthURL(req)); // Redirect to the login screen if the token is invalid
                        - generic [ref=e423]: "}"
                        - generic [ref=e424]: req.user = decoded; // Return the decoded user information if the token is valid
                        - generic [ref=e425]: next();
                        - generic [ref=e426]: "});"
                        - generic [ref=e427]: "}"
                      - generic [ref=e428]:
                        - button "Toggle word wrap" [ref=e429] [cursor=pointer]:
                          - img [ref=e430]
                        - button "Copy code to clipboard" [ref=e432] [cursor=pointer]:
                          - generic [ref=e433]:
                            - img [ref=e434]
                            - img [ref=e436]
                    - paragraph [ref=e438]: The middleware verifies the JWT using the public key. If it is valid, it decodes the JWT and return the user information contained in the JWT. If the JWT doesn't exist or is not valid, it will redirect the user to the login page. At this point, you can mark application routes as either protected or unprotected. Protecting routes varies by library and framework utilized. Refer to your application framework or authentication library's documentation for more details.
                  - listitem [ref=e439]:
                    - paragraph [ref=e440]: Build the image containing your application and push it to a registry that your host has access to.
                  - listitem [ref=e441]:
                    - paragraph [ref=e442]: Create a Kubernetes manifest that you can use to deploy your containerized application.
                  - listitem [ref=e443]:
                    - paragraph [ref=e444]:
                      - text: In the manifest for your application, define a volume that contains a Kubernetes secret. The secret name is
                      - code [ref=e445]: <edge-host-ID>-public-key
                      - text: . Replace
                      - code [ref=e446]: <edge-host-ID>
                      - text: with the ID of your Edge host. This secret contains the public key that your application will use to verify the token.
                    - generic [ref=e447]:
                      - generic [ref=e448]:
                        - img [ref=e450]
                        - text: info
                      - paragraph [ref=e453]:
                        - text: To find your Edge host ID, you can log in to
                        - link "Local UI" [ref=e454] [cursor=pointer]:
                          - /url: /clusters/edge/local-ui/host-management/access-console/
                        - text: . In the
                        - strong [ref=e455]: Overview
                        - text: section is the Edge host ID. If you didn't enable Local UI, you can log in to
                        - link "Palette" [ref=e456] [cursor=pointer]:
                          - /url: https://console.spectrocloud.com
                        - text: and find the Edge host ID in the
                        - link "Edge host grid view" [ref=e457] [cursor=pointer]:
                          - /url: /clusters/edge/site-deployment/edge-host-view/
                        - text: page in the
                        - strong [ref=e458]: Machine ID
                        - text: column.
                  - listitem [ref=e459]:
                    - paragraph [ref=e460]:
                      - text: In the manifest for your application, mount the volume containing the secret to the location specified in your application. For example, if your application is trying to access
                      - code [ref=e461]: /app/keys/server.pem
                      - text: ", you should mount the volume to"
                      - code [ref=e462]: /app/keys/
                      - text: .
                    - paragraph [ref=e463]:
                      - text: If you have previously used an environment variable to store the path of the public key, define the corresponding environment variable in your container specification. For example, if your application will try to access an environment variable
                      - code [ref=e464]: KEY_LOCATION
                      - text: ", you can define the environment variable using configurations similar to the following."
                    - generic [ref=e466]:
                      - code [ref=e468]:
                        - generic [ref=e469]: "spec:"
                        - generic [ref=e470]: "containers:"
                        - generic [ref=e471]: "- name: sample-auth-app"
                        - generic [ref=e472]: "image: gcr.io/example-app:latest"
                        - generic [ref=e473]: "volumeMounts:"
                        - generic [ref=e474]: "- name: jwt-secret"
                        - generic [ref=e475]: "mountPath: /app/keys"
                        - generic [ref=e476]: "readOnly: true"
                        - generic [ref=e477]: "env:"
                        - generic [ref=e478]: "- name: KEY_LOCATION"
                        - generic [ref=e479]: "value: \"/app/keys/server.pem\""
                        - generic [ref=e480]: "volumes:"
                        - generic [ref=e481]: "- name: jwt-secret"
                        - generic [ref=e482]: "secret:"
                        - generic [ref=e483]: "secretName: <edge-host-ID>-public-key"
                      - button "Copy code to clipboard" [ref=e485] [cursor=pointer]:
                        - generic [ref=e486]:
                          - img [ref=e487]
                          - img [ref=e489]
                  - listitem [ref=e491]:
                    - paragraph [ref=e492]:
                      - text: Create an add-on profile and use the manifest you created in the add-on profile. For more information, refer to
                      - link "Add a Manifest" [ref=e493] [cursor=pointer]:
                        - /url: /profiles/cluster-profiles/create-cluster-profiles/create-addon-profile/create-manifest-addon/
                      - text: .
                  - listitem [ref=e494]:
                    - paragraph [ref=e495]:
                      - text: Deploy your cluster using your cluster profile. For more information, refer to
                      - link "Create Cluster Definition" [ref=e496] [cursor=pointer]:
                        - /url: /clusters/edge/site-deployment/cluster-deployment/
                      - text: .
                    - paragraph [ref=e497]:
                      - text: During the deployment, you may encounter error messages that suggest the volume mount has failed to be created. This is because the secret may not exist the namespace where your application is deployed. The secret resides in the
                      - code [ref=e498]: spectro-system
                      - text: namespace. This is expected and you can fix this in the next step.
                  - listitem [ref=e499]:
                    - paragraph [ref=e500]:
                      - text: Issue the following command to copy the secret to the namespace where your application is deployed. Replace
                      - code [ref=e501]: <app-namespace>
                      - text: with the namespace where your application is deployed. Replace
                      - code [ref=e502]: <edge-host-ID>
                      - text: with the ID of your Edge host.
                    - generic [ref=e504]:
                      - code [ref=e506]:
                        - generic [ref=e507]: kubectl get secret <edge-host-ID>-public-key --namespace spectro-system --output json | jq '.metadata.namespace = <app-namespace> | del(.metadata.resourceVersion, .metadata.creationTimestamp, .metadata.uid)' | kubectl apply --file -
                      - generic [ref=e508]:
                        - button "Toggle word wrap" [ref=e509] [cursor=pointer]:
                          - img [ref=e510]
                        - button "Copy code to clipboard" [ref=e512] [cursor=pointer]:
                          - generic [ref=e513]:
                            - img [ref=e514]
                            - img [ref=e516]
                    - paragraph [ref=e518]: This will create secret in a new namespace and will resolve the error.
                    - generic [ref=e519]:
                      - generic [ref=e520]:
                        - img [ref=e522]
                        - text: info
                      - generic [ref=e524]:
                        - paragraph [ref=e525]: You can create the cluster without the application layer first. After the cluster is up, issue the command to copy the secret to a new namespace where you expect to deploy the application, and then add the add-on layer to the profile of the active cluster. If you do this, you won't encounter the error regarding volume mounts failing to be created.
                        - paragraph [ref=e526]:
                          - text: Alternatively, you can use a Kubernetes
                          - link "service account role" [ref=e527] [cursor=pointer]:
                            - /url: https://kubernetes.io/docs/reference/access-authn-authz/rbac/#service-account-permissions
                          - text: and an initialization script that accesses the secret from the
                          - code [ref=e528]: spectro-system
                          - text: namespace. This is an advanced workflow but allows for single-shot deployments. Check out the
                          - link "Accessing the Kubernetes API from a Pod" [ref=e529] [cursor=pointer]:
                            - /url: https://kubernetes.io/docs/tasks/run-application/access-api-from-pod/
                          - text: guide for an example on how to use a service account role's credentials inside a container.
                - heading "ValidateDirect link to Validate" [level=2] [ref=e530]:
                  - text: Validate
                  - link "Direct link to Validate" [ref=e531] [cursor=pointer]:
                    - /url: "#validate"
                    - text: "#"
                - list [ref=e532]:
                  - listitem [ref=e533]:
                    - paragraph [ref=e534]:
                      - text: Log in to
                      - link "Local UI" [ref=e535] [cursor=pointer]:
                        - /url: /clusters/edge/local-ui/host-management/access-console/
                      - text: .
                  - listitem [ref=e536]:
                    - paragraph [ref=e537]: After logging in, attempt to visit your web application at a URL that requires authentication.
                  - listitem [ref=e538]:
                    - paragraph [ref=e539]: Confirm that you are automatically logged in.
              - generic [ref=e540]:
                - generic [ref=e542]:
                  - text: "Tags:"
                  - list [ref=e543]:
                    - listitem [ref=e544]:
                      - link "edge" [ref=e545] [cursor=pointer]:
                        - /url: /tags/edge/
                - link "Edit this page" [ref=e548] [cursor=pointer]:
                  - /url: https://github.com/spectrocloud/librarium/blob/master/docs/docs-content/clusters/edge/local-ui/cluster-management/share-auth.md
                  - img [ref=e549]
                  - text: Edit this page
            - navigation "Docs pages" [ref=e553]:
              - link "Previous « Pair Local Cluster with Palette" [ref=e554] [cursor=pointer]:
                - /url: /clusters/edge/local-ui/cluster-management/local-to-central/
                - generic [ref=e555]: Previous
                - generic [ref=e556]: « Pair Local Cluster with Palette
              - link "Next Delete a Cluster »" [ref=e557] [cursor=pointer]:
                - /url: /clusters/edge/local-ui/cluster-management/delete-cluster/
                - generic [ref=e558]: Next
                - generic [ref=e559]: Delete a Cluster »
          - list [ref=e562]:
            - listitem [ref=e563]:
              - link "Limitations" [ref=e564] [cursor=pointer]:
                - /url: "#limitations"
            - listitem [ref=e565]:
              - link "Prerequisites" [ref=e566] [cursor=pointer]:
                - /url: "#prerequisites"
            - listitem [ref=e567]:
              - link "Procedure" [ref=e568] [cursor=pointer]:
                - /url: "#procedure"
            - listitem [ref=e569]:
              - link "Validate" [ref=e570] [cursor=pointer]:
                - /url: "#validate"
  - button "Project Logo Ask AI" [ref=e571] [cursor=pointer]:
    - generic [ref=e574]:
      - img "Project Logo" [ref=e575]
      - paragraph [ref=e576]: Ask AI
```