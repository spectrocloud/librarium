---
sidebar_label: "Edge Bring Your Own OS (BYOOS)"
title: "Edge Bring your own OS (BYOOS)"
description: "Bring Your Own OS (BYOOS) pack in Palette Edge."
hide_table_of_contents: true
type: "integration"
category: ["operating system", "amd64"]
sidebar_class_name: "hide-from-sidebar"
logoUrl: "https://registry.dev.spectrocloud.com/v1/spectro-proxy/blobs/sha256:b6081bca439eeb01a8d43b3cb6895df4c088f80af978856ddc0da568e5c09365?type=image.webp"
tags: ["packs", "byoos", "operating system", "edge"]
---

<RedirectPackPage packName="edge-native-byoi" />

## Versions Supported

<Tabs queryString="parent">

<TabItem label="2.0.x" value="2.0.x">

BYOOS enables you to use a custom OS for your Edge host. The custom OS must include all the Edge artifacts and provider
images required by the Edge Installer. Refer to the
[Build Edge Artifacts](../clusters/edge/edgeforge-workflow/palette-canvos/palette-canvos.md) guide for steps on how to
create a custom OS that includes all the required components for the Edge Installer.

Next, select the BYOOS pack and fill out the required parameters during the cluster profile creation process.
The following section provides the list of optional parameters you can customize in the pack YAML file.

### Optional Customizable Parameters

#### `pack.drain` Section

Brief section description

 If you do not set these parameters, the pack will use the default values. You must uncomment these values to change them. 

| Parameter | Description | Type | Default |
| --------- | ----------- | ---- | ------- |
| `drainPods` | Drain pods during cluster upgrades. Set this value to `false` to skip draining. | string | `auto` |
| `podSelector` | Specify pod selector options for draining specific pods | object | `''` |
| `cordon` | Cordon the node before draining. This prevents new pods from being scheduled. |string  | `true` |
| `timeout` | Maximum time (in seconds) to wait for the drain to complete. Set this parameter to 0 for no timeout. | integer | `60`  |
| `gracePeriod` | Time (in seconds) allocated to each pod to terminate gracefully. Set this parameter to a negative value to use the pod's default time. | integer | `60` |
| `ignoreDaemonSets` | Ignore DaemonSet-managed pods during drain | string | `true` |
| `deleteLocalData` | Allow drain to proceed even if pods use `emptyDir`. Local data will be deleted. | string | `true` |
| `force` | Force drain even if there are pods without controllers. | string | `true` |
| `disableEviction` | Use delete instead of eviction, and bypass `PodDisruptionBudgets`. Use this parameter with caution.  | string | `false` |
| `skipWaitForDeleteTimeout`| Skip waiting for a pod if its `DeletionTimestamp` is older than this parameter (in seconds). | integer | `60` |

### Options section

Set the location of the BYOOS image in this section. 

| Parameter | Description | Type | Default |
| --------- | ----------- | ---- | ------- |
| `system.uri` | The location of the BYOOS image. This is the provider image url for appliance mode. Set this value to the appliance's image location. | string | "" |

#### `providerCredentials` section

Set the location and credentials for your remote registry in this section. 

| Parameter | Description | Type | Default |
| --------- | ----------- | ---- | ------- |
| `registry`  |Â The registry location for your provider images. This is prepended to the value in your `system.uri` setting.  | string | `example.com/spectro-images` | 
| `user` | The username for the registry. | string | `user` | 
| `password` | The password for the registry | string | `password` |
| `certificates` | The security certificate for the registry, in PEM format. | string | xxx |

#### `stages` Section

Describe the following section, reference user-data (https://docs.spectrocloud.com/clusters/edge/edge-configuration/installer-reference/#cloud-init-stages)

stages:
  initramfs:                  # Stage name, typically for early boot/initramfs operations.
    - name: Test stage        # Name of the step within the stage
      commands: 
        - echo "hello world"  # Command to execute; prints "hello world" for testing
#### Configuration Example

<summary>Example pack YAML file</summary>
```yaml
pack:
  content:
    images:
      - image: '{{.spectro.pack.edge-native-byoi.options.system.uri}}'  # Uses the system URI from the options as the image for the pack
      
  drain:
    drainPods: auto     
    podSelector:        
    cordon: true        
    timeout: 60         
    gracePeriod: 60     
    ignoreDaemonSets: true  
    deleteLocalData: true   
    force: true             
    disableEviction: false  
    skipWaitForDeleteTimeout: 60 
options:
  system.uri: "" # provider image url for appliance mode; should be set to the image location for the appliance
  
providerCredentials: #4
  registry: example.com/spectro-images  
  user: user                
  password: "password" 
  certificates: | 
    xxx


stages:
  initramfs:
    - name: Test stage
      commands: 
        - echo "hello world"
        

### Agent Mode

To enable agent mode with the BYOOS Edge OS pack, expand the **Presets** section from the YAML editor view. Toggle the
**Agent Mode** switch to enable agent mode. Check out the
[Install Palette Agent](../deployment-modes/agent-mode/install-agent-host.md) guide for additional guidance on
installing the Palette Agent.

</TabItem>

<TabItem label="1.0.x" value="1.0.x">

BYOOS enables you to use a custom OS for your Edge host. The custom OS must include all the Edge artifacts and provider
images required by the Edge Installer. Refer to the
[Build Edge Artifacts](../clusters/edge/edgeforge-workflow/palette-canvos/palette-canvos.md) guide for steps on how to
create a custom OS that includes all the required components for the Edge Installer.

Next, select the BYOOS pack and fill out the required parameters during the cluster profile creation process. The
`system.uri` parameter specifies the location of the BYOOS image.

</TabItem>
</Tabs>

## Terraform

You can retrieve details about the BYOOS Edge OS agent pack using the following Terraform code.

```hcl
data "spectrocloud_registry" "public_registry" {
  name = "Public Repo"
}

data "spectrocloud_pack_simple" "byoos" {
  name         = "edge-native-byoi"
  version      = "2.1.0"
  type         = "helm"
  registry_uid = data.spectrocloud_registry.public_registry.id
}
```
