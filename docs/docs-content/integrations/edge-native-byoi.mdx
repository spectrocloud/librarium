---
sidebar_label: "Edge Bring Your Own OS (BYOOS)"
title: "Edge Bring your own OS (BYOOS)"
description: "Bring Your Own OS (BYOOS) pack in Palette Edge."
hide_table_of_contents: true
type: "integration"
category: ["operating system", "amd64"]
sidebar_class_name: "hide-from-sidebar"
logoUrl: "https://registry.dev.spectrocloud.com/v1/spectro-proxy/blobs/sha256:b6081bca439eeb01a8d43b3cb6895df4c088f80af978856ddc0da568e5c09365?type=image.webp"
tags: ["packs", "byoos", "operating system", "edge"]
---

<RedirectPackPage packName="edge-native-byoi" />

## Versions Supported

<Tabs queryString="parent">

<TabItem label="2.0.x" value="2.0.x">

BYOOS enables you to use a custom OS for your Edge host. The custom OS must include all the Edge artifacts and provider
images required by the Edge Installer. Refer to the
[Build Edge Artifacts](../clusters/edge/edgeforge-workflow/palette-canvos/palette-canvos.md) guide for steps on how to
create a custom OS that includes all the required components for the Edge Installer.

Next, select the BYOOS pack and fill out the required parameters during the cluster profile creation process.

The following section provides the list of optional parameters you can customize in the pack YAML file.

### Optional Customizable Parameters

You can customize several sections of the pack YAML file. The `drain` and `options` section are included by default. 

In the `drain` section, uncomment the section and update any parameters that you want to change. Otherwise, the default values will be used. 

In the `options` section, set the `system.uri` parameter to the location of the BYOOS image for appliance mode.

To further customize your configuration, you can add the `providerCredentials` and `stages` sections. Add the `providerCredentials` section to add your remote registry's user credentials and information. Add the `stages` section to define YIP stages that run during the node boot process. This is similar to adding stages to your user data. Refer to the [Installer Referecne Cloud Init Stages](https://docs.spectrocloud.com/clusters/edge/edge-configuration/installer-reference/#cloud-init-stages) for more information. 

#### Configuration Example

The following is an example YAML configuration file for your pack. 

<summary>Example pack YAML file</summary>

```yaml
pack:
  content:
    images:
      - image: '{{.spectro.pack.edge-native-byoi.options.system.uri}}'  # This parameter uses the value set in the options section as the image for the pack.
  # If you do not set these parameters, the pack will use the default values. You must uncomment these values to change them. 
  #drain:
    #drainPods: auto     # Drain pods during cluster upgrades. Set this value to `false` to skip draining.
    #podSelector:        # Specify the pod selector options for draining specific pods.
    #cordon: true        # Cordon the node before draining. This prevents new pods from being scheduled.
    #timeout: 60         # Maximum time (in seconds) to wait for drain to complete. Set this value to 0 for no timeout.
    #gracePeriod: 60     #  Time (in seconds) allocated to each pod to terminate gracefully. Set this parameter to a negative value to use the pod's default time. 
    #ignoreDaemonSets: true  # Ignore DaemonSet-managed pods during drain.
    #deleteLocalData: true   # Allow drain to proceed even if pods use emptyDir. This will delete local data. 
    #force: true             # Force drain even if there are pods without controllers.
    #disableEviction: false  # Use delete instead of eviction, and bypass PodDisruptionBudgets. Use this parameter with caution.
    #skipWaitForDeleteTimeout: 60 # Skip waiting for a pod if its DeletionTimestamp is older than this value (in seconds).
options:
  system.uri: "" # The provider image url for appliance mode. Set this value to the appliance's image location.

providerCredentials: 
  registry: example.com/spectro-images  # The registry location for your provider images. This is prepended to the value in your system.uri setting. 
  user: user                 # The username for the registry.
  password: "password"       # The password for the registry.
  certificates: |            # The security certificate for the registry, in PEM format.
    xxx

# YIP stages behave the same whether they are defined in the OS pack or in user data.
stages:
  initramfs:                  # Stage name, typically for early boot/initramfs operations.
    - name: Test stage        # The name of the step within the stage.
      commands: 
        - echo "hello world"  # The command to execute. Prints "hello world" for testing.

```
        

### Agent Mode

To enable agent mode with the BYOOS Edge OS pack, expand the **Presets** section from the YAML editor view. Toggle the
**Agent Mode** switch to enable agent mode. Check out the
[Install Palette Agent](../deployment-modes/agent-mode/install-agent-host.md) guide for additional guidance on
installing the Palette Agent.

</TabItem>

<TabItem label="1.0.x" value="1.0.x">

BYOOS enables you to use a custom OS for your Edge host. The custom OS must include all the Edge artifacts and provider
images required by the Edge Installer. Refer to the
[Build Edge Artifacts](../clusters/edge/edgeforge-workflow/palette-canvos/palette-canvos.md) guide for steps on how to
create a custom OS that includes all the required components for the Edge Installer.

Next, select the BYOOS pack and fill out the required parameters during the cluster profile creation process. The
`system.uri` parameter specifies the location of the BYOOS image.

</TabItem>
</Tabs>

## Terraform

You can retrieve details about the BYOOS Edge OS agent pack using the following Terraform code.

```hcl
data "spectrocloud_registry" "public_registry" {
  name = "Public Repo"
}

data "spectrocloud_pack_simple" "byoos" {
  name         = "edge-native-byoi"
  version      = "2.1.0"
  type         = "helm"
  registry_uid = data.spectrocloud_registry.public_registry.id
}
```
