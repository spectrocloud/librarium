---
sidebar_label: "Known Issues"
title: "Known Issues"
description: "Review all known issues in Palette and learn more about their status."
hide_table_of_contents: false
sidebar_position: 10
tags: ["known-issues"]
---

Throughout the development lifecycle of Palette, known issues may arise that affect the user experience. Use this page
to review and stay informed about the status of known issues in Palette. As issues are resolved, this page is updated.

## Active Known Issues

The following table lists all known issues that are currently active and affecting users.

| Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Workaround                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Publish Date   | Product Component     |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------- | --------------------- |
| When provisioning an Edge cluster, it's possible that some Operating System (OS) user credentials will be lost once the cluster is active. This is because the cloud-init stages from different events and configurations merge during the deployment process and some stages get overwritten.                                                                                                                                                                                               | Give each of your stages in the OS pack and in the Edge installer **user-data** file a unique name. For more information about cloud-init stages, refer to [Cloud-init Stages](../clusters/edge/edge-configuration/cloud-init.md).                                                                                                                                                                                                                                                                                                                                                                              | July 17, 2024  | Edge                  |
| When you use a content bundle to provision a new cluster without using the local Harbor registry, it's possible for the images to be pulled from external networks instead of from the content bundle, consuming network bandwidth. If your Edge host has no connection to external networks or if it cannot locate the image on a remote registry, some pods may enter the `ImagePullBackOff` state at first, but eventually the pods will be created using images from the content bundle. | For connected clusters, you can make sure that the remote images are not reachable by the Edge host, which will stop the Palette agent from downloading the image and consuming bandwidth, and eventually the cluster will be created using images from the content bundle. For airgap clusters, the `ImagePullBackOff` error will eventually resolve on its own and there is no action to take.                                                                                                                                                                                                                | July 11, 2024  | Edge                  |
| When you add a new VMware vSphere Edge host to an Edge cluster, the IP address may fail to be assigned to the Edge host after a reboot.                                                                                                                                                                                                                                                                                                                                                      | Review the [Edge Troubleshooting](../troubleshooting/edge.md) section for workarounds.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | July 9, 2024   | Edge                  |
| When you install Palette Edge using an Edge Installer ISO with a RHEL 8 operating system on a Virtual Machine (VM) with insufficient video memory, the QR code in the registration screen does not display correctly.                                                                                                                                                                                                                                                                        | Increase the video memory of your VM to 8 MB or higher. The steps to do this vary depending on the platform you use to deploy your VM. In vSphere, you can right click on the VM, click **Edit Settings** and adjust the video card memory in the **Video card** tab.                                                                                                                                                                                                                                                                                                                                           | July 9, 2024   | Edge                  |
| Custom Certificate Authority (CA) is not supported for accessing Azure AKS clusters. Using a custom CA prevents the `spectro-proxy` pack from working correctly with Azure AKS clusters.                                                                                                                                                                                                                                                                                                     | No workaround is available.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | July 9, 2024   | Packs, Clusters       |
| Manifests attached to an Infrastructure Pack, such as OS, Kubernetes, Network, or Storage, are not applied to the Edge cluster. This issue does not impact the infrastructure pack's YAML definition, which is applied to the cluster.                                                                                                                                                                                                                                                       | Specify custom configurations through an add-on pack or a custom manifest pack applied after the infrastructure packs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Jul 9, 2024    | Edge, Packs           |
| Clusters using Cilium and deployed to VMware environments with the VXLAN tunnel protocol may encounter an I/O timeout error. This issue is caused by the VXMNET3 adapter, which is dropping network traffic and resulting in VXLAN traffic being dropped. You can learn more about this issue in the [Cilium's GitHub issue #21801](https://github.com/cilium/cilium/issues/21801).                                                                                                          | Review the [Cilium Troubleshooting](../integrations/cilium.md#io-timeout-error-on-vmware) section for workarounds.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | June 27, 2024  | Packs, Clusters, Edge |
| [Sonobuoy](../clusters/cluster-management/compliance-scan.md#conformance-testing) scans fail to generate reports on airgapped Palette Edge clusters.                                                                                                                                                                                                                                                                                                                                         | No workaround is available.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | June 24, 2024  | Edge                  |
| Clusters configured with OpenID Connect (OIDC) at the Kubernetes layer encounter issues when authenticating with the [non-admin Kubeconfig file](../clusters/cluster-management/kubeconfig.md#cluster-admin). Kubeconfig files using OIDC to authenticate will not work if the SSL certificate is set at the OIDC provider level.                                                                                                                                                            | Use the admin Kubeconfig file to authenticate with the cluster, as it does not use OIDC to authenticate.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | June 21, 2024  | Clusters              |
| During the platform upgrade from Palette 4.3 to 4.4, Virtual Clusters may encounter a scenario where the pod `palette-controller-manager` is not upgraded to the newer version of Palette. The virtual cluster will continue to be operational, and this does not impact its functionality.                                                                                                                                                                                                  | Refer to the [Controller Manager Pod Not Upgraded](../troubleshooting/palette-dev-engine.md#scenario---controller-manager-pod-not-upgraded) troubleshooting guide.                                                                                                                                                                                                                                                                                                                                                                                                                                              | June 15, 2024  | Virtual Clusters      |
| The VerteX enterprise cluster is unable to complete backup operations.                                                                                                                                                                                                                                                                                                                                                                                                                       | No workaround is available.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | June 15, 2024  | VerteX                |
| Edge hosts with RHEL Operating System (OS) distribution may encounter the error where the `systemd-resolved.service` service enters the **failed** state. This prevents the nameserver from being configured, which will result in cluster deployment failure.                                                                                                                                                                                                                               | Refer to [TroubleShooting](../troubleshooting/edge.md#scenario---systemd-resolvedservice-enters-failed-state) for a workaround.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | June 15, 2024  | Edge                  |
| The GKE cluster's Kubernetes pods are failing to start because the Kubernetes patch version is unavailable. This is encountered during pod restarts or node scaling operations.                                                                                                                                                                                                                                                                                                              | Deploy a new cluster and use a GKE cluster profile that does not contain a Kubernetes pack layer with a patch version. Migrate the workloads from the existing cluster to the new cluster. This is a breaking change introduced in Palette 4.4.0                                                                                                                                                                                                                                                                                                                                                                | June 15, 2024  | Packs, Clusters       |
| An issue prevents RKE2 and Palette eXtended Kubernetes (PXK) on version 1.29.4 from operating correctly with Canonical MAAS.                                                                                                                                                                                                                                                                                                                                                                 | A temporary workaround is using a version lower than 1.29.4 when using MAAS.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | June 15, 2024  | Packs, Clusters       |
| [MicroK8s](../integrations/microk8s.md) does not support multi-node control plane clusters. The upgrade strategy, `InPlaceUpgrade`, is the only option available for use.                                                                                                                                                                                                                                                                                                                    | No workaround is available.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | June 15, 2024  | Packs                 |
| Clusters using [MicroK8s](../integrations/microk8s.md) as the Kubernetes distribution, the control plane node fails to upgrade when using the `InPlaceUpgrade` strategy for sequential upgrades, such as upgrading from version 1.25.x to version 1.26.x and then to version 1.27.x.                                                                                                                                                                                                         | Refer to the [Control Plane Node Fails to Upgrade in Sequential MicroK8s Upgrades](../troubleshooting/pack-issues.md) troubleshooting guide for resolution steps.                                                                                                                                                                                                                                                                                                                                                                                                                                               | June 15, 2024  | Packs                 |
| Azure IaaS clusters are having issues with deployed load balancers and ingress deployments when using Kubernetes versions 1.29.0 and 1.29.4. Incoming connections time out as a result due to a lack of network path inside the cluster. Azure AKS clusters are not impacted.                                                                                                                                                                                                                | Use a Kubernetes version lower than 1.29.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | June 12, 2024  | Clusters              |
| OIDC integration with Virtual Clusters is not functional. All other operations related to Virtual Clusters are operational.                                                                                                                                                                                                                                                                                                                                                                  | No workaround is available.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Jun 11, 2024   | Virtual Clusters      |
| The VerteX enterprise cluster is unable to complete backup operations.                                                                                                                                                                                                                                                                                                                                                                                                                       | No workaround is available.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | June 6, 2024   | VerteX                |
| Deploying self-hosted Palette or VerteX to a vSphere environment fails if vCenter has standalone hosts directly under a Datacenter. Persistent Volume (PV) provisioning fails due to an upstream issue with the vSphere Container Storage Interface (CSI) for all versions before v3.2.0. Palette and VerteX use the vSphere CSI version 3.1.2 internally. The issue may also occur in workload clusters deployed on vSphere using the same vSphere CSI for storage volume provisioning.     | If you encounter the following error message when deploying self-hosted Palette or VerteX: `'ProvisioningFailed failed to provision volume with StorageClass "spectro-storage-class". Error: failed to fetch hosts from entity ComputeResource:domain-xyz` then use the following workaround. Remove standalone hosts directly under the Datacenter from vCenter and allow the volume provisioning to complete. After the volume is provisioned, you can add the standalone hosts back. You can also use a service account that does not have access to the standalone hosts as the user that deployed Palette. | May 21, 2024   | Self-Hosted           |
| Conducting cluster node scaling operations on a cluster undergoing a backup can lead to issues and potential unresponsiveness.                                                                                                                                                                                                                                                                                                                                                               | To avoid this, ensure no backup operations are in progress before scaling nodes or performing other cluster operations that change the cluster state                                                                                                                                                                                                                                                                                                                                                                                                                                                            | April 14, 2024 | Clusters              |
| Palette automatically creates an AWS security group for worker nodes using the format `<cluster-name>-node`. If a security group with the same name already exists in the VPC, the cluster creation process fails.                                                                                                                                                                                                                                                                           | To avoid this, ensure that no security group with the same name exists in the VPC before creating a cluster.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | April 14, 2024 | Clusters              |
| K3s version 1.27.7 has been marked as _Deprecated_. This version has a known issue that causes clusters to crash.                                                                                                                                                                                                                                                                                                                                                                            | Upgrade to a newer version of K3s to avoid the issue, such as versions 1.26.12, 1.28.5, and 1.27.11. You can learn more about the issue in the [K3s GitHub issue](https://github.com/k3s-io/k3s/issues/9047) page.                                                                                                                                                                                                                                                                                                                                                                                              | April 14, 2024 | Packs, Clusters       |
| When deploying a multi-node AWS EKS cluster with the Container Network Interface (CNI) [Calico](../integrations/calico.md), the cluster deployment fails.                                                                                                                                                                                                                                                                                                                                    | A workaround is to use the AWS VPC CNI in the interim while the issue is resolved.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | April 14, 2024 | Packs, Clusters       |
| If a Kubernetes cluster deployed onto VMware is deleted, and later re-created with the same name, the cluster creation process fails. The issue is caused by existing resources remaining inside the PCG, or the System PCG, that are not cleaned up during the cluster deletion process.                                                                                                                                                                                                    | Refer to the [VMware Resources Remain After Cluster Deletion](../troubleshooting/pcg.md#scenario---vmware-resources-remain-after-cluster-deletion) troubleshooting guide for resolution steps.                                                                                                                                                                                                                                                                                                                                                                                                                  | April 14, 2024 | Clusters              |
| In a VMware environment, self-hosted Palette instances do not receive a unique cluster ID when deployed, which can cause issues during a node repave event, such as a Kubernetes version upgrade. Specifically, Persistent Volumes (PVs) and Persistent Volume Claims (PVCs) will experience start problems due to the lack of a unique cluster ID.                                                                                                                                          | To resolve this issue, refer to the [Volume Attachment Errors Volume in VMware Environment](../troubleshooting/palette-upgrade.md#volume-attachment-errors-volume-in-vmware-environment) troubleshooting guide.                                                                                                                                                                                                                                                                                                                                                                                                 | April 14, 2024 | Self-Hosted           |
| Day-2 operations related to infrastructure changes, such as modifying the node size and count, when using MicroK8s are not taking effect.                                                                                                                                                                                                                                                                                                                                                    | No workaround is available.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | April 14, 2024 | Packs, Clusters       |
| If a cluster that uses the Rook-Ceph pack experiences network issues, it's possible for the file mount to become and remain unavailable even after the network is restored.                                                                                                                                                                                                                                                                                                                  | This a known issue disclosed in the [Rook GitHub repository](https://github.com/rook/rook/issues/13818). To resolve this issue, refer to [Rook-Ceph](../integrations/rook-ceph.md#file-mount-becomes-unavailable-after-cluster-experiences-network-issues) pack documentation.                                                                                                                                                                                                                                                                                                                                  | April 14, 2024 | Packs, Edge           |
| Edge clusters on Edge hosts with ARM64 processors may experience instability issues that cause cluster failures.                                                                                                                                                                                                                                                                                                                                                                             | ARM64 support is limited to a specific set of Edge devices. Currently, Nvidia Jetson devices are supported.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | April 14, 2024 | Edge                  |
| During the cluster provisioning process of new edge clusters, the Palette webhook pods may not always deploy successfully, causing the cluster to be stuck in the provisioning phase. This issue does not impact deployed clusters.                                                                                                                                                                                                                                                          | Review the [Palette Webhook Pods Fail to Start](../troubleshooting/edge.md#scenario---palette-webhook-pods-fail-to-start) troubleshooting guide for resolution steps.                                                                                                                                                                                                                                                                                                                                                                                                                                           | April 14, 2024 | Edge                  |

## Resolved Known Issues

The following table lists all known issues that have been resolved and are no longer affecting users. Refer to the table
for information on the fix version and the date the issue was resolved.

| Description                                                                                              | Publish Date      | Product Component | Fix Version |
| -------------------------------------------------------------------------------------------------------- | ----------------- | ----------------- | ----------- |
| Clusters are failing to start on AWS EKS when using the AWS VPC CNI pack and Kubernetes versions 1.28.   | February 26, 2024 | Packs, Clusters   | 4.2.13      |
| The Kubernetes Dashboard fails to load when added to a cluster profile and deployed.                     | February 26, 2024 | Packs             | 4.2.13      |
| Clusters using MicroK8s are failing to launch pods due to a mismatch in node affinity labels.            | February 26, 2024 | Packs, Clusters   | 4.2.13      |
| MAAS clusters are failing to deploy when the default image endpoint is not set in an airgap environment. | February 26, 2024 | Clusters          | 4.2.13      |
