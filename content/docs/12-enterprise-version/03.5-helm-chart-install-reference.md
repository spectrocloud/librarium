---
title: "Helm Chart Install Reference"
metaTitle: "Helm Chart Install References"
metaDescription: "Reference page for Pallete Helm chart self-installation values.yaml file parameters."
icon: ""
hideToC: False
fullWidth: False
---

# Helm Chart Install Reference 

You can use the Palette Helm Chart to install Palette in a multi-node Kubernetes cluster in your production environment. The Helm chart allows you to customize values in the values.yaml file. This reference guide lists and describes parameters available in the values.yaml file from the Helm Chart for your installation. To learn how to install Palette using the Helm Chart, refer to [Helm Chart Mode](https://docs.spectrocloud.com/enterprise-version/deploying-palette-with-helm).  

# Required parameters

The following parameters are required:

- **env.rootDomain**- Used to configure the domain for the Palette installation.  You should create a CNAME DNS record separately, and it should be a wildcard to account for Organization prefixes. Review the [Environment parameters](#environment) to learn more. 

- **natsUrl**- The URL format specifies configuring the NATS servers to the IP address and port. Review the [Network Address Translation (NATS) parameters](#network-address-translationnats) to learn more. 
 
 
- **Registry and Palette Artifact Repository parameters**- Refer to the [Registry and Palette Artifact Repository parameters](#registry-and-palette-artifact-repositorypar) used to specify the Docker registry where the chart images are stored and the **Palette Artifact Repository (PAR)**, respectively.

# MongoDB 

Palette uses MongoDB as its database and supports two modes of deployment: 
1. MongoDB deployed and active inside the cluster. 
2. MongoDB hosted on a Saas platform such as Atlas.

The table lists parameters in the values.yaml file that are used to configure a MongoDB deployment. 

| **Parameters** | **Default value** | **Type** | **Description** | **Required/Optional** |
| --- | --- | --- | --- | --- |
| `internal` | `N/A` | Boolean | Specifies the MongoDB deployment either in-cluster or using Mongo Atlas. | Required |
| `databaseUrl` | `mongo-0.mongo,mongo-1.mongo,mongo-2.mongo` | String | Url for MongoDB. Change if using Mongo Atlas.| Required|
| `databasePassword` | `""` | String | The base64 encoded MongoDB password. | Optional |
| `replicas` | `3` | Integer | Specifies the number of MongoDB replicas to start.| Required |
| `cpu.limit` | `2000m` | String | Specifies the CPU limit for each MongoDB replica.| Optional |
| `memorylimit` | `4Gi` | String |Specifies the memory limit for each MongoDB replica.| Optional |
| `pvcSize` | `20Gi` | String | Specifies the persistent volume claim (PVC) size for each MongoDB replica.|Optional |
| `storageClass` | `""` | String | Storage class for the PVC. Leave empty to use the default storage class. |Optional |


```yaml
mongo:
  databaseUrl: "mongo-0.mongo,mongo-1.mongo,mongo-2.mongo"
  replicas: 3
  cpuLimit: "2000m"
  memoryLimit: "4Gi"
  pvcSize: "20Gi"
  storageClass: ""
```

# Config 

The configuration file contains the following sections:

## SSO 

The following table outlines the different values.yaml parameters for configuring **SSO SAML** authentication in Palette.

| **Parameters** | **Default value** | **Type** | **Description** | **Required/Optional** |
| --- | --- | --- | --- | --- |
| `saml.enabled` | `False` | Boolean | Specifies whether to enable **SSO SAML** configuration by setting it to true. | Optional|
| `saml.acsUrlRoot` | `myfirstpalette.spectrocloud.com` | String | Root URL of the Assertion Consumer Service (ACS).| Optional|
| `saml.acsUrlScheme` | `Https` | String | URL scheme of the ACS (e.g., http or https). | Optional |
| `saml.audienceUrl` | `https://www.spectrocloud.com` | String | URL of the intended audience for the SAML response.| Optional|
| `saml.entityID` | `https://www.spectrocloud.com` | String | Entity ID of the Service Provider.| Optional |
| `saml.apiVersion` | `v1` | String |**SSO SAML** API version to use.| Optional |

```yaml
config:
  sso:
    saml:
      enabled: false
      acsUrlRoot: "myfirstpalette.spectrocloud.com"
      acsUrlScheme: "https"
      audienceUrl: "https://www.spectrocloud.com"
      entityId: "https://www.spectrocloud.com"
      apiVersion: "v1"
```

## Email

The following table provides a reference for the available values.yaml parameters for configuring email settings in Palette's self-hosted mode. 

| **Parameters** | **Default value** | **Type** | **Description** | **Required/Optional** |
| --- | --- | --- | --- | --- |
| `enabled` | `False` | Boolean | Specifies whether to enable email configuration. | Optional|
| `emailID ` | `""` | String | Email address for sending mail.| Optional|
| `smtpServer` | `smtp.gmail.com` | String | Simple Mail Transfer Protocol(SMTP) server used for sending mail. | Optional |
| `smtpPort` | `587` | Integer | SMTP port used for sending mail.| Optional|
| `insecureSkipVerifyTIs` | `True` | Boolean | Specifies whether to skip Transport Layer Security(TLS) verification for the SMTP connection.| Optional |
| `fromEmailID` | `noreply@spectrocloud.com` | String |Email address used from From address.| Optional |
| `password` | `""` | String |Base64-encoded SMTP password when sending emails.| Optional |

```yaml
config:
  email:
    enabled: false
    emailId: "<username>@spectrocloud.com"
    smtpServer: "smtp.gmail.com"
    smtpPort: 587
    insecureSkipVerifyTls: true
    fromEmailId: "noreply@spectrocloud.com"
    password: "YmFzZTY0X2VtYWlsX3Bhc3N3b3Jk"
```

## Environment 

The following table outlines environment variables needed for deployment as defined in the values.yaml file.

| **Parameters** | **Default value** | **Type** | **Description** | **Required/Optional** |
| --- | --- | --- | --- | --- |
| `env.rootDomain` | `""` | String | Specifies the default DNS record mapped to the ingress-nginx-controller load balancer. It is mandatory if false; otherwise, leave it empty. | Required|
| `env.installerMode` | `self-hosted` | String | Specifies the installer mode. Do not modify the value.| Required|
| `env.installerCloud` | `""` | String | Specifies cloud provider. It shoudl be left empty. | Optional |

```yaml
config:
    env:
    rootDomain: ""
    installerMode: "self-hosted"
    installerCloud: ""
```

## Cluster 

Cluster parameters are used to specify the Kubernetes cluster configuration.


| **Parameters** | **Default value** | **Type** | **Description** | **Required/Optional** |
| --- | --- | --- | --- | --- |
| `stableEndpointAccess` | `False` | Boolean | Specifies whether EKS cluster is deployed in private network access through a stable private endpoint, if true, through a public endpoint. | Optional|

```yaml
config:
    cluster:
    stableEndpointAccess: false
```

## Registry and Palette Artifact Repository (PAR) 

**Registry and Palette Artifact Repository** are required parameters in the values.yaml for installing Palette using Helm Chart.

| **Parameters**       | **Type**   | **Description**                                             | **Required/Optional** |
| ----------------- | ------ | -------------------------------------------------------- | ------------------ |
| `registry.endpoint` | String | The endpoint URL for the registry.                      | Required           |
| `registry.name`     | String | The name of the registry.                                | Required           |
| `registry.password` | String | The password for the registry.                           | Required           |
| `registry.username` | String | The username for the registry.                           | Required           |
| `scar.endpoint`     | String | The endpoint URL of the **Palette Artifact Repository(PAR)**. | Required           |
| `scar.username`     | String | The username for the **PAR**.                               | Required           |
| `scar.password`     | String | The password for the **PAR**.                               | Required           |

```yaml
config:
    registry:
    endpoint: "<Contact Spectro Cloud Sales for More info>"
    name: "<Contact Spectro Cloud Sales for More info>"
    password: "<Contact Spectro Cloud Sales for More info>"
    username: "<Contact Spectro Cloud Sales for More info>"

    scar:
    endpoint: "<Contact Spectro Cloud Sales for More info>"
    username: "<Contact Spectro Cloud Sales for More info>"
    password: "<Contact Spectro Cloud Sales for More info>"
```

Please contact the Spectro Cloud support team at [support@spectrocloud.com](support@spectrocloud.com) to receive the required values and credentials for **Palette Artifact Repository(PAR**).

# Network Address Translation (NATS) 

When using Palette, **Network Address Translation(NATS)** is used for communication between the tenant and management clusters. The internal flag determines whether **NATS** uses a new load balancer or the existing ingress service. To learn about the NATS cluster configuration map properties, refer to <a href="https://docs.nats.io/running-a-nats-service/configuration/clustering/cluster_config" target= "_blank"> NATS clustering configuration. </a>

| **Parameters **  | **Default Value** | **Type **   | **Description**                                                                                                               | **Required/Optional** |
| ------------ | ------------- | ------- | ------------------------------------------------------------------------------------------------------------------------- | ------------------ |
| `internal`   | `True`        | Boolean | Specifies if NATS shares the ingress load balancer or uses hostNetwork if true; otherwise, with a cloud load balancer.      | Optional           |
| `natsUrl`    |     `""`    | String  | Comma-separated list of <dns_name:port> mappings for nats load balancer service. Mandatory if `nats.internal` is false.     | Required           |
| `annotations`| `{}`          | Map     | A map of key-value pairs that specify the load balancer annotations for NATS. These annotations vary depending on the cloud provider.                                                                                           | Optional           |
| `routes`     | `[]`          | List    | List of server URLs for clustering (excluding self-routes) that can include authentication via token or username/password in the URL.                                               | Optional           |
| `natsStaticIP`| `""`         | String  | Static IP for the NATS load balancer service. If empty, a dynamic IP will be generated.                                   | Optional           |

```yaml
nats:
  internal: true
  natsUrl: ""
  annotations: {}
  routes: []
  natsStaticIP: ""
```

# Ingress 

The **Ingress** block in the YAML configuration file is used for configuring the **NGINX Ingress** Controller, which provides an external HTTP load balancer for **Kubernetes** services. 

| **Parameters**                     | **Default Value** | **Type**    | **Description**                                                                                                                                       | **Required/Optional** |
|--------------------------------|---------------|---------|---------------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
| `Internal`                     | `False`       | Boolean |Specify whether to use a cloud load balancer or host network.                   | Required           |
| `certificate`                  | `""`          | String  | Default SSL certificate for NGINX Ingress Controller. If left blank, the NGINX ingress controller will generate a self-signed cert.                  | Optional           |
| `key`                          | `""`          | String  | Default SSL key for the NGINX Ingress Controller.                                                                                        | Optional           |
| `annotations`                  | `{}`          | Map     | A map of key-value pairs that specify the load balancer annotations for Ingress.                                                                      | Optional           |
| `ingressStaticIP`              | `""`          | String  | Static IP for the Ingress load balancer service. If empty, a dynamic IP will be generated.                                                        | Optional           |
| `terminateHTTPSAtLoadBalancer` | `False`       | Boolean | Specify whether to terminate HTTPS at the load balancer.                 | Optional           |

```yaml
ingress:
  ingress:
    internal: false
    certificate: ""
    key: ""
    annotations: {}
    ingressStaticIP: ""
    terminateHTTPSAtLoadBalancer: false
```

# Spectro Proxy

“**Spectro Proxy**” is a section of the configuration file for the Spectro server-side proxy.

| **Parameters**          | **Default Value**                | **Type**    | **Description**                                                   | **Required/Optional** |
|---------------------|------------------------------|---------|---------------------------------------------------------------|--------------------|
| `enabled`      | `False`                      | Boolean | Specifies whether Spectro proxy is enabled or not                       | Optional           |
| `frpHostURL`   | `proxy.sample.spectrocloud.com` | String  | The URL of the Spectro proxy host.                                 | Optional           |
| `server.crt`   |                               | String  | Specifies the certificate file for the Spectro proxy server.             | Optional           |
| `server.key`   |                               | String  | Specifies the private key file for the Spectro proxy server.             | Optional           |
| `ca`           |                               | String  | Specifies the certificate authority (CA) for the Spectro proxy server.  | Optional           |
| `ca.crt`       |                               | String  | Specifies the CA certificate file for the Spectro proxy server.         | Optional           |

```yaml
frps:
  frps:
    enabled: false
    frpHostURL: proxy.sample.spectrocloud.com
    server:
      crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURqekNDQW5lZ0F3SUJBZ0lVZTVMdXBBZGljd0Z1SFJpWWMyWEgzNTFEUzJJd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0tERW1NQ1FHQTFVRUF3d2RjSEp2ZUhrdWMyRnRjR3hsTG5Od1pXTjBjbTlqYkc5MVpDNWpiMjB3SGhjTgpNakl4TURFME1UTXlOREV5V2hjTk1qY3hNREV6TVRNeU5ERXlXakI3TVFzd0NRWURWUVFHRXdKVlV6RUxNQWtHCkExVUVDQk1DUTBFeEV6QVJCZ05WQkFjVENsTmhiblJoUTJ4aGNtRXhGVEFUQmdOVkJBb1RERk53WldOMGNtOUQKYkc5MVpERUxNQWtHQTFVRUN4TUNTVlF4SmpBa0JnTlZCQU1USFhCeWIzaDVMbk5oYlhCc1pTNXpjR1ZqZEhKdgpZMnh2ZFdRdVkyOXRNSUlCSWpBTkJna3Foa2
```

# UI System 

This is a User Interface (UI) system configuration file and specifies a setting for a UI called "**nocUI**". Palette's **NOC UI** enables easy location monitoring of multi-location clusters through an intuitive UI.

| **Parameters **          | **Default Value** | **Type**    | **Description**                                          | **Required/Optional** |
|---------------------|---------------|---------|------------------------------------------------------|--------------------|
| `enabled`           | `False`       | Boolean | Specifies if UI is enabled or not          | Optional           |
| `mapBoxAccessToken` | `""`          | String  | Access token for MapBox API.                          | Optional           |
| `mapBoxStyledLayerID`| `""`          | String  | ID for MapBox style layer.                            | Optional           |

```yaml
ui-system:
  ui:
    nocUI:
      enable: false
      mapBoxAccessToken: ""
      mapBoxStyledLayerID: ""  
```




